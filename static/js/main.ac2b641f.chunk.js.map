{"version":3,"sources":["assets/Next.png","assets/Bike.png","assets/Walker.png","assets/Transfer.png","assets/Waiting.png","assets/Car.png","assets/Swap.png","assets/Add.png","assets/Remove.png","assets/Normal.png","assets/Work.png","assets/School.png","assets/Doctor.png","components/app/Map.jsx","components/app/Header.jsx","components/app/Footer.jsx","components/app/OptionsSelect.jsx","components/api/SelectApi.jsx","components/api/Label.jsx","components/api/InputElement.jsx","components/api/SelectElement.jsx","components/api/ParametersPID.jsx","components/api/TransportPID.jsx","components/api/AccessibilityPID.jsx","components/api/PlannerPID.jsx","components/app/Planner.jsx","components/app/WizardSteps.jsx","components/api/PlannerWizardPID.jsx","components/app/PlannerWizard.jsx","components/app/Result.jsx","components/app/ResultWizard.jsx","components/app/ContextSteps.jsx","components/api/PlannerContextPID.jsx","components/app/PlannerContext.jsx","components/app/ResultContext.jsx","components/app/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","Map","props","state","mapbox","undefined","startMarker","viaMarker","endMarker","transferPopups","route","routeLayers","addTransferPopup","bind","clearTransferPopups","clearPath","addMarker","addPath","coords","map","this","popups","length","i","remove","popup","mapboxgl","Popup","setLngLat","setHTML","addTo","push","setState","lon","lat","type","place","console","log","info","offset","setText","marker","Marker","setPopup","layerId","removeLayer","removeSource","listCoords","numLayers","colors","flyTo","center","togglePopup","addLayer","id","source","data","properties","geometry","coordinates","layout","paint","accessToken","process","container","mapContainer","style","zoom","addControl","NavigationControl","ref","el","React","Component","Header","className","to","Footer","href","OptionSelect","handleAccess","handleParameters","handleTransport","e","preventDefault","optionBox","document","getElementsByClassName","children","display","target","setAttribute","Fragment","onClick","optionactive","title","SelectApi","handleOnChange","setApi","value","onChange","defaultValue","disabled","Label","text","InputElement","isDefaultChecked","defaultChecked","name","SelectElement","ParametersPID","element","TransportPID","AccessibilityPID","PlannerPID","initialTimeDateSetup","handleFromInput","handleViaInput","handleToInput","handleSubmit","handleTimeAndDate","drawSuggestions","changeTransit","updateInputValues","swapInputFields","updateOptions","getOptions","from","suggestions","via","date","Date","initApiTime","getFullYear","getMonth","getDate","getHours","getMinutes","currentDate","currentTime","getElementById","timedate","options","api","searchedName","searchedId","url","headers","Headers","set","btoa","fetch","method","then","response","json","places","embedded_type","start","startId","viaId","end","endId","timeInput","dateInput","time","substr","inputTimeDate","p","appendChild","createElement","li","createTextNode","childNodes","update","ready","viaSection","addViaEls","remViaEls","fromOld","directPath","checked","fastestRoute","lowWalkingRoute","numTransfers","timeToTransfer","transferDistance","traveler_type","walker","bike","car","means","metro","firstChild","tram","bus","train","fenicular","ferry","special","standard","baby","wheelchair","luggage","cyclist","action","onSubmit","placeholder","active","src","add_icon","alt","remove_icon","swap_icon","OptionsSelect","Planner","selectedApi","createRef","getStart","getVia","getEnd","getTimeAndDate","setReady","getStartStopPointId","getViaStopPointId","getEndStopPointId","writeStart","writeVia","writeEnd","writeStartId","writeViaId","writeEndId","writeTimeAndDate","writeOptions","bool","planner","WizardSteps","handlePreviousStep","handleNextStep","handleSearch","returnTask","step","prevBtnDisabled","nextBtnDisabled","currentStep","PlannerWizardPID","updateSelectedApi","vialFrom","vialTo","PlannerWizard","Result","results","updateResults","selectedResult","resultRef","setInputValues","createResultItem","renderResults","drawJourney","drawStartPoint","drawViaPoint","drawEndPoint","fetchData","showJourneyDetails","writeApi","query","current","stop_area","coord","viaOn","JSON","stringify","journeys","resdiv","resitem","lastElementChild","removeChild","result_id","getAttribute","sections","routeCoords","transferCoords","possibleResults","geojson","color","display_informations","REACT_APP_COLOR_WALKING","mode","resultItem","deparr","departure_date_time","arrival_date_time","duration","Math","round","bike_icon","car_icon","walker_icon","next","next_icon","waiting","waiting_icon","vehicle","commercial_mode","code","innerHTML","transfer","transfer_icon","journey","l","detailsBtn","addEventListener","details","guide","section","detailId","resultNumber","label","checkSearch","checkViaRoute","checkResults","ResultWizard","ContextSteps","PlannerContextPID","context","getSelectedMeans","getCurrentWeather","meansCollection","floor","random","travel_type","querySelector","weather","normal_icon","htmlFor","work_icon","school_icon","doctor_icon","freetime_icon","PlannerContext","ResultContext","processOptions","createResultItemMM","sendRequestPid","sendRequestMM","parameters","initialVal","searchValue","routes","excludedMeans","mean","exclude","fromTime","toTime","totalDistance","segments","App","thru","exact","path","render","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","URL","origin","contentType","get","status","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ac2b641f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAABHNCSVQICAgIfAhkiAAAAN1JREFUKJGV0TFKQ0EQxvEf4gHeAQRzhHcE7SzjDSzs9QqewNjamDaCaBsU9AZqZat4AWNpo8XOwGNJNvGDBztv9z8z3wz0OMfIPzTHL74x3hSaBpTfLboWsIWfOM+wiGrP2GtBqQfF36vi71Hx2oTgPcCziE+jal+Dl4qX4+p/H0nS68mqSkO9BHgR8QSf2G1B8BUtziLewWR7DTRSVpCe5jhsVRoO4QP7OMjLehBdZM8BTFXLrtsb4yoeLXCEu2VtZKX7QfanOnutm8HjnNZaXQfwZsnmV6nbNHvqD6m+N2Pvvzt3AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAApCAYAAADeWrJ9AAAABHNCSVQICAgIfAhkiAAAAoZJREFUSImtlk9sTUEUh7+iVNG+aLrQBGVjIaKiVJomSASJsBM2ojbdSd5SxUKIxKppLCysGjaIpq+x8G+BTYM0KQvdKGktaFoprYiiz7WYM5n77ps75s7rL7m5eXN+8915M3PODGRXDrgNfAE+A8+BjgBOmRqBX0CUeGaBY5WAVwALFrB+vgKHQuG9DrB+hkPhbz3gC6h/CMCS0C/5KAv8kYdnBLXgmbUMKJI+Jd+AAyFgrQbgjwU8BxypBLwJ6E9APwHPgD2h0FXAFWAesyM0/GAotAo4JaPTsEFgNPb7Xgh4JyohNGQMlX3NmHQvoua/IQv4GvBXID+A88ByiXVKewEz/92+4L2x0d4FmhLxPonlUfMdAROoKXSqCpPiV1M84xJvEf8EngvbJcZxoNoSb4nFtc5JW78LXAtMifFEiicv8b5YWzyp8mnwS2J44RhAQTydifYeSrfqmmTHO6gd0uaAa0DOEusCfkv8A7AtHqxB7e007ZOOrx2eHZgFngPqHN4SXZROvf/x1QMPgCFgqQ+4DnXSR8B139H46qSAddYeX0z4DYEOyHse2LVY8DGBtmLSfwpYVyl4g8C+o9K9GngpbSPAykrgZzBVUKsRk82DeBStNN0SyNlE+25M0lwOhU8KYKsldlpiRQKmZ4t0nnF43otnvy3ouhRdkLfrMvRY3q6aVKZ2TKFKVsG49NQUHJ4SbUcVngi4iXs36Kmb9gFvxtSRAfzukrPi3+gyNQEfxfgEdTf00UNSTjA9shzwFFiPOo2Oom5WPtKnl3VRa4FX8vU3wGpPqNZh6TtkC96X4CiwNiMYVL2PUBlbdmuYAd6hakaohoGfWP51s60xo+qFU6J/Fd7ZY+iuhegAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAApCAYAAABp50paAAAABHNCSVQICAgIfAhkiAAAA81JREFUaIHNmVuITlEUx3+GiTBj8CC5lsQLuSSaUhOPItc8qXnwMIxClFLyJFMe3ApJcgmFXEYJCQ8u82AaIURu5U6DcZtxOx722u39Hd855zvnO/s786/TOWfvtdb+77P3XnutfSBbzARuAi+At8CebOm4xRrgM+D5rg6gV4a8nGAp8JH/O6uvr9lRSx/dgCcEd9YDvgOrsiKYNkYAbYR32AMuuGi8zIXRzowsOvwMeB8h8wM4VwIuJUMd8Ing6dyWHTV3qEdtQf7OtgM9M+TlBLOAx5hOfgPeALuzJOUCo4GLmI7+kfs7SuhPxgHLgSqHbfQFtgK/MSO6TZ5/yX1OAruJuOsv/hKoSdBoGLoCS4BWzKgeB4agAgsPuCH3JF75NAm4HybXaWxO0HA+DALuWnYfANOs+nNSXotyVH+BoTHb2EcC7rtFuNFSbEFNl2JwwLK3GhVSanRHddJDTcf98rwhZhuJuGulxSL4zFJeHpOAxnjR/ynPfkyT+mZ5r5b3D8RzXom420qgvvgWS/EyMDwGCYAm0d0UUN8g9Q1W2UMpmxujnUTc/UoaszHR0Ed5LwRzRacVqAyQaRaZ6VbZMovomALbSsQ9SAnUFztlEWlGbTFBKMNMq/oAmSqUg2pHrWWNPpi0sR0VfkYhDvf7UhaqpLFXSHqER0P9UacY91BbUj4sFDvn89RVYLYaDzhG+OlHIdxPWtw3RilVkOv6rwMDQoyDWjODQ+r3YDx3EFZhgpRDIXJRI3yS3G0xdISrMdPzNbnrrRjoGHpshFw1KqBYGSITtob1EdInItZwOWrodZzbSHph5xyx2wFMSMFePi+9GTOqV4jw0iOB25ictDYFUjbOWGReAQOLtOffh59a9ldEKR1GnTR4wDVgWJFk/OgCfBH7ep9uIddTx0W+SOsWEZHWQUv4J7AWN6naZIzz6IcaYQ84WoRNfyy9pRClsyL8nPxhYFpYK+3skPfxmHh6XUKbegt7RYxsqQoVJPRI2Gih0GnofKtM78ke6hQkLsah1qrLXD4RumFG0x+pbZLy7xSfoXUa1GCclB9lwB2pP+GaSKnOkXTifylP3V/MPjq1NHTcogtmnc4IkdN/EoeUgpRL7ER15AfQO0TugsgtcEnG9ZRej0rzfqN+fof9Bm2S+xTHnJyhDnP2XMjhwQyRv+qSlCvMw+SgiwrUqcREe+WOeDlBDeZwfVlM3UeiNzFtUq4wCfVXIWm4qOP6oOOhToVBmKR7e0Ib9aJ/MC1SLjEdRXZXETZGo9b+kVQYlQBRxzaFYBQOE5l/GZ1woTNfSoAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAABHNCSVQICAgIfAhkiAAAAlFJREFUSInN1s1rVGcUx/HPc3VAQW2jIopiKGKrROPCFxQRF2IrRRcuAsmlreKISwU34kb0L9D8AQqCSdwquHAh+IaVFmlKIihaRVGx1NeFLmzGp4s7Aze3cyeJZuGBgTvnd+53zuH87nMHjuI14iR8ToT6xWTFoylow2pMmQRgb+PiR1z4DNBFfF9MvsbXnwCbi38aX/JjLsJC/DZB4D48lnU5Ktbj14k36HesKRPvY8kEYN/hTj5R3OwcrMCVcQIPYBBXG4lQKFgq2/a3PT09IyGEMiuN9Pf3V/AAW/CwISSFwnt4g7UhhD9bdDaIDXiehzUDwhn8JNves6IYQnheq9X21mvO/E9vApyDu5ibpukzLCgAn/b19S2qT9KOt2N1+FJmhW2yg+NWTvujVqsdwXZcK8LKOlQf5wf8nF9OjHFkYGCgggGcw9mS+5vGvyX5BB/KbiqzRVU2+vkmWpSZ/yu0csKouCGzRVlskjNzPqY2yS2XnTo3S8zdMPV82YNwLy82G/kQrnd3dy9LkqRdwTYxxqHOzs73Q0ND9+tTXBqrwyqWJEkyiMVFMYSwCsewDrdxOK8XfbgTl9M0bcPMJj/WiLaurq7puIkdrYBVnMTuGGOlBTBUKpVd9dpqXsiPPA9rZU9BfwhhRgvgLByUveBOYTZeMXop+3E7TdOP2FovbhV/d3R03BoeHn4nO2hvMHrkKk7GGI/jmzFg0J4kSa/C2A3gZjzBX+gYBwzEGFfKTqYX2JjXTuOX8YKaxJ56p8g8VfOl/7dZjmmTAOz9D5B5sfvj/7TdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAAABHNCSVQICAgIfAhkiAAAAvBJREFUaIHtmTFoFEEUhr9JFFKoaKEYECKIWIiwapki19keWtnIioVFLAIptLTQUrjSRi6llqKFnRswYKHsaqsQL2JhIbcnghLUsdhbvcvt253Z3bnkgh9Mkdu5///fzbu5ya6iHGeAk8CXku8vYj+wAbx1pP+XeeA7oMc0fvQ9nbExxmLS8c5VMYe3oZh0zJiGnLIo6JrF3Lq56EJ0ne1boSemIZXhvHnghXAtBL6aGhZwADib8fovkpbv1uTDA7I/ufW6DAb4KHhdr8tgBvgmmNysy2SAu4JXUJeBLxikbVA3pwW/38CROgxWBYOndYgLvBE8l6sKHxeENXCpqngOtwTP11WF7wjCXWBvVfEcjgm+GjhRVlQBnwTRVrW8RqwJ3rfLCl4QBDVwqmJYExYF7/dlBR8JgpX72JBDwE8hw3lbsYPApiC2WE9eI54JGe7ZCt0QhDZJih0XV4QcnzE/tgFJW2UJPawxrAn7kDulkfWGPVv+XiDZFs8JBq/6c8bJGtnhl0kKg+THH0iWzQPaSinPfTZ7tNa515VS6bwIuDoN3FdKZS7fJJAWpJQ6CswqpVT+R7ADyFultKCUqaIlnSS01sX3FBYWxr0HyDQao9+MkQXpt9zQ8H1fh2GoBwnDUPu+Lx2FnA2bLEopjVJKpwPQKysrOo92u60H3+NylMkyVFCz2cwVSGk2m86LKZtlqKAgCIxEgiBwXlDZLEMFxXFsJNLtdp0XVDbL0C4Xx7HRbtPr9YzmVaFslqGCoigyEjGdV4XSWQaXy/M8o2X2PM95y5XNwlYh3/fF/o3jWPu+77yYillGz3Jzc3MsLS3hef8O4FEU0Wq16HQ61XrJEtssmQVNMjbPhyaCXVeQAp5vea3on73angIYYpVn5M5J0XdKa211t6Uqtnl2Xcv9L2ins/sL0lqLR+m8a66wzZO1Qnnb8ri37CJPozwN6bBI8W+CC6zyTGcIfAAeA7Mkd/k7JA9xLwMvHQaXsMrzB3YecOdDp7k9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAABBxJREFUWIXN2E1PIkkcBvBnGinBZKNtNy8NbXoO4sHDfIWZIyT4khiuawBDyB7WZDeTycRN4I6J7H4NT2rCjWzmC9hEbu6MiVGxgwqN8mbhpPawshnQgW5kxOcGVOf/SxXV9fIKg+c1gEWv1/u20Wj4KKUipVQAAELIFSHk0m63H56dnX0CsAvgeJAirwZ45rfJyclfCSFCKBSy+v3+cZ7n4Xa74Xa7AQCapkHTNOi6jkwmc7u9vd26u7u70nU9DSA9CLRvBEH4yHHcXTqdruXzeWY2BwcHbGtrq2axWFqCIHwYpu2N0+k8isfjFUqpaVh3ms0mi8ViFafT+RnA/JNkkiTFFEUpXVxcPBnWnWKxyGRZLns8nshAuNnZ2cTy8nJp6LKuBIPBks/n2zCNi0ajzR+NayccDt+Kovi7IZwkSbHn6LnuBIPBkpHhfqMoSl+cqqqMEMJUVTUMcLvdfdvIslxGr4njdDqP+k0IVVWZoigMAFMUxTASQN82mqYxl8v15VGcIAgf4/F4xQhOVVUGoOPzMICMMRaNRiuiKL5/ALRYLF97vee6Me2CRpFGgfV6nVmt1lYHjuf5jXQ6Xev1YCKR6EB8W1BVVZZIJIYCZIyxVCpVA7D+P3BqaurY7PJlpqDZ9qqqMp7nj9q+1w6H48ZUtR8MZIwxQRBqAGQOwGIoFLL2e/88d5aWlr4CWOS8Xu9bv98/PmpQd4LB4E8zMzPvuEaj4eN5ftSeBxEEAbVabY6jlIrtjeZLiiRJoJQ6OEqp8IKBIjdqSL9whJArTdNG7XiQ8/NzEEIuOULI5UsEFgoF2Gy2C25iYuJQ1/VRex6kVCrBbrcfcqenp58ymQwdNag7e3t7NycnJ38DgOJwOKqm1qEBli6z7aenp2sAvByA41ardZnP50fZYR1RVRWMMQ3AGQcAuq6ns9lsY5hFkskkcrnco7/lcjkkk8nvPpvNZhvlcvnPji/Hxsbumk3jBzn0GbJBN7jVapURQh7OCUEQPsRisethAbsxMHhEiEQi1wB+ebRrXS7X52KxODTgt0gYOGQVCgXmdrv/6fXXmZdluWyksCzLhoBt5Pj4eN9ziyRJFQBzvYDweDyRhYUFQ8hhJhAI6F6v9+eeuHZ8Pt9GOBy+fS7c6urqrcPhWO8v60T+8Rw9GQgEdNO4djweT0SW5bKmaUOHFQoFJklSxfCw9si8y+X6sra2dl2v158Mq1arLBKJXN/P1t4TwkxEUXxvtVpbm5ubdTOXRu3s7++zVCpVJ4RQw1dtGOwSfZ3n+XWO41wrKytjfr+fCIIASZIgSRKA/zabhUIB5XIZu7u7Nzs7OxbGmHa/fP1lptggwHZkAIszMzPvarXaHKXUQSkVAYAQcmmz2S7sdvvh/ZZpF8DZIEX+BXlY9mPXngHYAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAgFJREFUOI2llTtv2lAYhh8gGKXQbuYwRLIHhnbjMlfcIrFZCsr/gR8UyaqMuYm0ZKoqYvDULkS4G4aJyqqUUskdWipuBiV5FkuffB5/fs/n4xDBXAN5IUTZ87y3APF4/Nt8Pv8EWMDNoUWhA7XXsiwParXahaqqyUwmQyaTAcC2bWzbZjqdznVd/75YLIrAzyNNUYnFYo/9ft8/Rbfb9SVJWgGFg6Z0Oq2Vy+XlSdMOpVJpCRT3XjMWiz0GLbq/v/eHw2GgNBqNroBzgDCALMsD0zSloByazSbNZjMwJ8MwzoQQd2vhda1Wu6hUKseyPUq1WkXTNAW4CgN5VVWTz7b9Q1GUJJAPCyHK67F4CblcDiHEZSgejy8nk8mbVCoFgGVZe3kNBgMAisXtzdQ0jWw2C8BsNiOdTv84232S7/v4vr9X27zu1rcQQnxpt9tHZ63RaPj1ev3oPaZp+kKIz2HXdT/atv2UuA4yHo9xXfc2DFjT6XTxUqHjOAtgGAZudF13er3es2WtVgvDMB6AD+vaK0mSVkH5jEYj37KswPwikchvYO9LK5RKpScfDoVCYQm8D+q+GI1GV51O56TINM11Z1uyQwfsuRDiTtM0VVEUOZfL/R/e0WjEeDzGcZyFYRgPrusWgF+nhGuu+PsLuPQ87x1AIpH46rruLTDc3IBN/gCPT/yk/yllywAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAABHNCSVQICAgIfAhkiAAAAqtJREFUSIntlr9LG2EYx78Xgu/dBc/kIJqCOSUd7CB6hEALJYlbSxcdHLuUOphJobi4CNLBqX9AF8GlpSCSSoYOoqXXuLQEHEqW4hR60iRvfl0jJN7boabkx51eQju0+Blfjufzfp+H5+WAG/43uD6+9QBQAYRlWY5xHOellL43TfMzgE8Avv9JKXG73esA1hVFqUejUXc0GhVGRkZwfHzcPDo6+nFycuIhhLwzDOMpAL2PIJbECCG5WCxWPT09ZXZUq1W2urp6TgipAVgB4BrINj4+/lCSpNre3t6Fra2LbDbLpqenS2NjYy8HcUo8z+cPDw+d+n5TKBTY8PBwDcD9voyCILxZWloy+jZekkqlLnie/waAd5wyEAhU6/V6R6H5+XmWyWR6BJRSNjc3xyilHeeLi4sVWZafODISQh5tbGz0zDGTybCJiYkOMaWUqarKtre3ey6TTqdZOBx+60gaDAZf7OzsWLatXXyVkDHGdF1niqJ8dSQNBAJpTdMsC7XEwWCQTU1N2QpbiKJYh8X69ByYpnlLEATbS01OTkIUReTzeaiqemUAjuNcAKRrk0qS9NouQXtLrWbcTi6XYx6Pp3St8JKV5eXlnnWxmuFV4v39feb3+z86lcZnZ2eL3UXi8bjlDFvi7pXZ3Nw0eZ7fcip1+Xy+L5qmdaxNd9F2ut/lQqHARkdHKQDFqRQAbnu93pKu67YiO0zTZJFIpEoISfQj/BXX5Xo2MzNTOjs7cyxsNBoskUicC4KQ7lt4CQfguSiKtWQy2bhOmM1mWSgUKhFCNAD+QaUt7hJCcgsLC8Xd3V3WnrxSqbCDgwO2trZmDA0NlQE4aqnT3xU3gHuhUOixYRgPms2mX5KkJqX0wufzfSgWi6/K5XIKQG3QZE6QAdz5m4Ib/i1+AsudvqDWHe+XAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAyCAYAAADbTRIgAAAABHNCSVQICAgIfAhkiAAAA4RJREFUWIXtmM9LFFEcwD+7m1Yj7pLpIgnqxVMgQtExQpIyAyv2Pwi6VFRbWXro0LEg1uoY0bWTeBM7hHhYjDKhDbZOriutFsZCbrXW+jo8V8bnm52Z3dndSx94l++8H599Pr/vO+PDGQeBk8AA0AuEgXagAHwDMsBHYHqrZR3OWxYhIAb8BYTD9gd4BASrIXQOuQtOZdT2dWsOz7hdgYy5bQJRt4v7NLGnwGU12NnZyfDwMP39/fT09NDV1cXm5ibpdJpkMsnMzAyTk5MsLS3p1nkMXHMrVySK8mtDoZAYHx8XGxsbwo58Pi9isZgIBoO6XbtRjtAA8r9pe6KOjg6RSCRsZVQSiYRob29XpQrAKTdC+4A18yRtbW0ilUq5FiqyuLgowuGwKpYB9juVumse3NDQIObm5soWKhKPx0UgEFDFbjmVypgHjo2NVSxUZHR0VJX64kTomHlQOBwWuVzOM6lcLidaW1tVsaOlhPxAxByIRCIYhuF0h20xDINIJKKGL9hJHTEHhoaGPBMqMjg4qIaOlervBzrMgd7eXo+VoK+vTw0dKtXfB+SA7b9XPp+nsbHRU6n19XWam5vNoSxwwKq/H3nwqorPt+s221Oqvx9YNQcymYzHSrCysrIrVKq/H1libDM/P++xEiwsLKghW6m35sD09LTHSjA1NaWG3tuNOY0psQWDQZHNZj1Lnmtra7qqYcBOai+wbh40MjLimVQ0GlWFfgIBJzv8EOVCjsfjFQvNzs7qLuQHToRAFvnfUe7AdDpdtlAqlRItLS26ur3Z0kLDKTRFXjKZdC1UosizPUs6bioTiVAoJGKxmKty2DAMXTl83amE7sXhCXBFDaovDt3d3RQKhR0vDhMTEywvL+vWeQpcdSplxY5K1IN2qVKhIueBtEdSq5gu/UppAC4iM3ClYvedLqo7U1aEgSFkUXgY+aGjgPyw8QF4A7wCZoEezfjfQBfKXVsrzmC9W8/rIVTktYVUAbnLdeEwSiI2tdf1kgJ4YSElgF1vErXiEPDLQuozspbT4qiEKJMfyG8UxzXPDiLflN9VcX1LDGTidJVQq7lTIL9//gDOap41Ib/01eXgB5BnSLdbv5BJuS78T6hu+J9Q3eAooVY7JajYJdT3wKeaGm1RKqGOQ4n7p4r8BO5ZPPtYSxEVPzDFzl16Ru2P0y6agDvAS+BEnV3s+QfWRa3X7QmX6wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAyCAYAAADm33NGAAAABHNCSVQICAgIfAhkiAAAAPpJREFUaIHtmUEOgkAMRd+gR/AUbryMnmfgkBK4gpfAhWHjoIK0A+n0JeyAzuOnpAyB/xlWXLuGsPSCSmMVe8MlrXCUutEw6LRoCItbMKGIJF3SCi5phSIkAa5Ax2tMs3Z0wC0Ad+As9cR2SBvYbtDORhE9mYx1WuNZTt5HwSKSdEkruKQVXNIKRUiK7fF8Ys4ejfYAkkjWda1acArtmtkG9Km0JHbi5pAkGWMULdA0zc9ztGsmSUr3x5jWtyS1ao7421WSXP03hScpwR4+wotI0iWt4JJWcEkruKQVXNIKLmkF/wlrhQpot16EMu0BeAAX4LTxYjTogfgEdpljkghB7DwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAA0CAYAAAAUnx+bAAAABHNCSVQICAgIfAhkiAAAA+FJREFUeJzt3M9rHGUcx/HXmrVRLGX9fVAw4NGDPYgFiSagHsRCQ4NQEbToP6B/QRS8eTCHnkQwQlEwNUQR8SCYEEFPkoD0Iv4qUiqItmAtGuN6+M50J5tkkk1mdzKbfcNDZmcm8zz55PnxfT7zTWrK5yGcxNO4lpQqcRPuwL94tl5CA27AI0LEZ3BvCW3oFuO1HlVUxzgmhZB3Za6t4Xdcxl9o9qhNnXIzbsMRDGfOr+E8zuCtbjZgGMfxjhCsmSmruISLbeerUq5hBu8nn6fSH7roIX8LnhI98TgOZ66tJg05ktR7d8F1d5tf8SU+w9vJuan2m4oQtCHEmxRitg+HoeT4xqRUiVTE17G8k2/YraB3YkLMh0+0PWdVS7gh1eN7nMW8HYqYpRNB7xECnsRjYrVO+QeHkuOq9UJCxDNCxJ/28qDtBL1fCDiJYzn3Hcq5tl8pTMQsmwn6gFZ482BRFe0TPhICzoswrXCygp7CG9YH2k30KlbtFl0XMUsq6ATes1G8Kop5FeewoEciZqmLsOdNiXijo6OGhqq3OC8uLqaHh/Pu6zbplnAkPbG0tFRea/ZArVbqYDqGL/BKXQz3AZ1xFC+IdYfY0MB4XaZ3DsglFXHCRs2W8Rrm6/ovNCqSMSFgu4hXxII3LHppGkVcX5QGtDihJWJWm5+FaDNaW9KumCP9QCci5lLHioM37BtaIo5bL+KK1hDelTnS08C3RLIitkc2K6IXFmKOzIvJtx8ZsX5hyVKYiFnqYovWT4yInnhahDpZemKOLONdEWOZnp7uRj295Me2zz01R1KeU/6Lr6LKZTGUT+t+SDhlk5d0DfHOBIyNVXM6zZgjpcbVG8yRhYVqTqklmyOP42G8PDBHOieb+fJScu7R5OvHA3NkZ+RlvhCZI69idmCObM0wnhQinsCtmWtX8Il4TX4KH2CWgTnSTl7my28i9JrD5yL/YGCObEJe5stFIeAcFvHfdg87qOZIXubLD0LAD/F1pw8+SOZIXubLeSHgnF04TFn63RzJy3z5Rog4i++KqrAfzZGtMl+a+EqIeA4XulF5P5oj32aO10SHSReWS71qREP5pkZR5W8RI75ofezYDTY1R4hdAPrCHLkdf5bYFA3hITbRrCpaPbSXpD30U5E5cnSD2zRgR+Rmjgzcpp2xVebIVfGHDGclmSOD3rk122WOXM8YSanhDxmDJKaj6pExmPfqNO8p6aGmbSI/oIIWmjlyEOlq5shBcZt6ljnSz25TKZkj/eY2lZ45ss5tqupr5Az7InNkRvmmRhUzRzaQhhgN8Zu8D7+If/dQRS7g+TIb8D9TF3iHystS6gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAJJJREFUaIHt2UEKhDAQBdHfg/fWOXnPYvQC0mAZ6oG4MrGCm5hK0lnAdt5rYrC+sSg1M3d/BgZBMITGEBpDaAyhMYTGEBpDaJYJ2ZKkk+OpF5iYu86r377XrSz0aRlCYwiNITSG0BhCc/2N/w6Nt994ZmLuvfI/CvBYgcIQGkNoDKExhMYQGkNoDKFZJuTaWL3eD1s0EGJwGEPVAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nclass Map extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mapbox: undefined,\r\n      startMarker: undefined,\r\n      viaMarker: undefined,\r\n      endMarker: undefined,\r\n      transferPopups: [],\r\n      route: undefined,\r\n      routeLayers: undefined\r\n    };\r\n    this.addTransferPopup = this.addTransferPopup.bind(this);\r\n    this.clearTransferPopups = this.clearTransferPopups.bind(this);\r\n    this.clearPath = this.clearPath.bind(this);\r\n    this.addMarker = this.addMarker.bind(this);\r\n    this.addPath = this.addPath.bind(this);\r\n  }\r\n\r\n  addTransferPopup(coords) {\r\n    var map = this.state.mapbox;\r\n    var popups = [];\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n    if (coords !== undefined && coords[0][0] !== undefined && coords[0][1] !== undefined) {\r\n      for (let i = 0; i < coords.length; i++) {\r\n        var popup = new mapboxgl.Popup({\"className\":\"transferPopup\"}).setLngLat([coords[i][0], coords[i][1]]).setHTML(\"Přestup\").addTo(map);\r\n        popups.push(popup);\r\n      }\r\n    }\r\n    this.setState({transferPopups: popups})\r\n  }\r\n\r\n  clearTransferPopups() {\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n  }\r\n\r\n  addMarker(lon, lat, type, place) {\r\n    console.log(\"now\");\r\n    console.log(place)\r\n    switch (type) {\r\n      case 0:\r\n        if (this.state.startMarker !== undefined) {\r\n          this.state.startMarker.remove();\r\n        }\r\n        break;\r\n      case 1:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      case 2:\r\n        if (this.state.endMarker !== undefined) {\r\n          this.state.endMarker.remove();\r\n        }\r\n        break;\r\n      case 3:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    var map = this.state.mapbox;\r\n    if (lon !== undefined && lat !== undefined) {\r\n      switch (type) {\r\n        case 0:\r\n          var info = new mapboxgl.Popup({offset:30}).setText(\"Začátek trasy: \"+place);\r\n          var marker = new mapboxgl.Marker({\"color\":\"#ff0000\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ startMarker: marker });\r\n          break;\r\n        case 1:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Průjezd přes: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#fff400\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ viaMarker: marker });\r\n          break;\r\n        case 2:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Cíl trasy: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#00abff\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ endMarker: marker });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  clearPath() {\r\n    var map = this.state.mapbox;\r\n    if (this.state.routeLayers !== undefined) {\r\n      for (let i = 0; i < this.state.routeLayers; i++) {\r\n        var layerId = \"path_layer_\"+i;\r\n        map.removeLayer(layerId);\r\n        map.removeSource(layerId);\r\n      }\r\n      this.setState({mapbox: map, routeLayers: 0});\r\n    }\r\n  }\r\n\r\n  addPath(listCoords, numLayers, colors) {\r\n    var map = this.state.mapbox;\r\n    map.flyTo({center: [listCoords[0][0][0], listCoords[0][0][1]]});\r\n    this.state.startMarker.togglePopup();\r\n    this.state.endMarker.togglePopup();\r\n    for (let i = 0; i < numLayers; i++) {\r\n      var layerId = \"path_layer_\"+i;\r\n      map.addLayer({\r\n        id: layerId,\r\n        type: \"line\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"Feature\",\r\n            properties: {},\r\n            geometry: {\r\n              type: \"LineString\",\r\n              coordinates: listCoords[i]\r\n            }\r\n          }\r\n        },\r\n        layout: {\r\n          \"line-join\": \"round\",\r\n          \"line-cap\": \"round\"\r\n        },\r\n        paint: {\r\n          \"line-color\": colors[i] !== undefined ? colors[i] : \"#888\",\r\n          \"line-width\": 6\r\n          \r\n        }\r\n      });\r\n      \r\n    }\r\n    this.setState({ mapbox: map });\r\n    this.setState({ routeLayers: numLayers });\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN;\r\n    var map = new mapboxgl.Map({\r\n      container: this.mapContainer,\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: [14.42076, 50.08804],\r\n      zoom: 12\r\n    });\r\n    map.addControl(new mapboxgl.NavigationControl());\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.mapbox !== undefined) {\r\n      this.state.mapbox.remove();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    /*\r\n      const style = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: '50%',\r\n        bottom: 0,\r\n        width: '50%'    \r\n      };\r\n      */\r\n    return <div id=\"map\" ref={el => (this.mapContainer = el)} />;\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"header\">\r\n        <label className=\"headerLabel\">Prototyp webového klienta vyhledávače intermodálních dopravích spojení:</label>\r\n        <label className=\"headerLabel\"><Link to=\"/form\">Formulářový typ</Link>/<Link to=\"/wizard\">Klient typu Wizard</Link>/<Link to=\"/old_wizard\">Starý wizard</Link></label>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nclass Footer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <footer>Vytvořil <a href=\"mailto:hlavaj28@fel.cvut.cz\">Jan Hlaváč</a> pro <a href=\"https://www.fel.cvut.cz/\">FEL ČVUT</a> v rámci závěrečné práce v akademickém roce 2019/2020.</footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nclass OptionSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleAccess = this.handleAccess.bind(this);\r\n    this.handleParameters = this.handleParameters.bind(this);\r\n    this.handleTransport = this.handleTransport.bind(this);\r\n  }\r\n\r\n  handleParameters(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    if (optionBox[0].children[0].style.display === \"none\") {\r\n      optionBox[0].children[0].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[0].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleTransport(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[1].style.display === \"none\") {\r\n      optionBox[0].children[1].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[1].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleAccess(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[2].style.display === \"none\") {\r\n      optionBox[0].children[2].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[2].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <button onClick={this.handleParameters} optionactive=\"false\" title=\"Volba parametrů spoje\">Parametry spojení</button>\r\n        <button onClick={this.handleTransport} optionactive=\"false\" title=\"Výběr dopravních prostředků\">Dopravní prostředky</button>\r\n        <button onClick={this.handleAccess} optionactive=\"false\" title=\"Charakteristika cestujícího\">Přístupnost</button>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OptionSelect;","import React from \"react\";\r\n\r\nclass SelectApi extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n  }\r\n\r\n  handleOnChange(e) {\r\n    this.props.setApi(e.target.value);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <label className=\"textLabel\">Oblast:</label>\r\n        <select\r\n          id=\"api_select\"\r\n          onChange={this.handleOnChange}\r\n          defaultValue=\"pid\"\r\n        >\r\n          <option value=\"dpmul\" disabled={true}>\r\n            DÚK\r\n          </option>\r\n          <option value=\"pid\">PID</option>\r\n          <option value=\"ids-liberec\" disabled={true}>\r\n            IDS Liberec\r\n          </option>\r\n          <option value=\"mmplanner\">Multimodal Planner</option>\r\n        </select>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SelectApi;\r\n","import React from \"react\";\r\n\r\nclass Label extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <label className={this.props.className} title={this.props.title}>{this.props.text}</label>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Label;\r\n","import React from \"react\";\r\n\r\nclass InputElement extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n    this.isDefaultChecked = this.isDefaultChecked.bind(this);\r\n  }\r\n\r\n  isDefaultChecked() {\r\n    if (this.props.defaultChecked === true) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <label>\r\n          <input\r\n            type={this.props.type}\r\n            name={this.props.name}\r\n            className={this.props.className}\r\n            id={this.props.id}\r\n            defaultChecked = {this.isDefaultChecked()}\r\n          ></input>\r\n          {this.props.text}\r\n      </label>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default InputElement;\r\n","import React from \"react\";\r\n\r\nclass SelectElement extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n    this.isDefaultChecked = this.isDefaultChecked.bind(this);\r\n  }\r\n\r\n  isDefaultChecked() {\r\n    if (this.props.defaultChecked === true) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <label className=\"transfersLabel\">{this.props.text}</label>\r\n        <select\r\n          type={this.props.type}\r\n          name={this.props.name}\r\n          className={this.props.className}\r\n          id={this.props.id}\r\n          defaultChecked={this.isDefaultChecked()}\r\n        >\r\n        </select>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SelectElement;\r\n","import React from \"react\";\r\nimport Label from \"./Label\";\r\nimport InputElement from \"./InputElement\";\r\nimport SelectElement from \"./SelectElement\";\r\n\r\nclass ParametersPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n      className=\"optionsSettings\"\r\n      id=\"options-box-parameters\"\r\n      display=\"none\"\r\n    >\r\n      <Label className={\"optionTitle\"} text={\"Trasa\"}></Label>\r\n      <InputElement element={\"input\"} type={\"radio\"} name={\"route\"} className={\"route\"} id={\"fastestRoute\"} text={\"Nejrychlejší\"} defaultChecked={true}></InputElement>\r\n      <InputElement element={\"input\"} type={\"radio\"} name={\"route\"} className={\"route\"} id={\"lowWalkingRoute\"} text={\"Nejméně pěsí chůze\"} defaultChecked={false}></InputElement>\r\n      <Label className={\"optionTitle\"} text={\"Přestupy\"}></Label>\r\n      <SelectElement text={\"Maximální počet přestupů:\"}></SelectElement>\r\n      <Label className={\"transfersLabel\"} text={\"Maximální počet přestupů\"}></Label>\r\n      <select defaultValue=\"-1\" id=\"numTransfers\">\r\n        <option value=\"-1\">Neomezeno</option>\r\n        <option value=\"0\">0</option>\r\n        <option value=\"1\">1</option>\r\n        <option value=\"2\">2</option>\r\n        <option value=\"3\">3</option>\r\n        <option value=\"4\">4</option>\r\n        <option value=\"5\">5</option>\r\n      </select>\r\n      <Label className={\"transfersLabel\"} text={\"Čas na přestup:\"}></Label>\r\n      <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n        <option value=\"5\">Alespoň 5 minut</option>\r\n        <option value=\"10\">Alespoň 10 minut</option>\r\n        <option value=\"15\">Alespoň 15 minut</option>\r\n      </select>\r\n      <Label className={\"transfersLabel\"} text={\"Maximální vzdálenost mezi přestupy:\"}></Label>\r\n      <select defaultValue=\"100m\" id=\"transferDistance\">\r\n        <option value=\"100\">100 m</option>\r\n        <option value=\"200\">200 m</option>\r\n        <option value=\"300\">300 m</option>\r\n      </select>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ParametersPID;\r\n","import React from \"react\";\r\nimport Label from \"./Label\";\r\nimport InputElement from \"./InputElement\";\r\n//import SelectElement from \"./SelectElement\";\r\n\r\nclass TransportPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"optionsSettings\"\r\n        id=\"options-box-transport\"\r\n        display=\"none\"\r\n      >\r\n        <Label className={\"optionTitle\"} text={\"Na trase chci využít\"}></Label>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"ownTransport\"} className={\"traveler_type\"} id={\"walker\"} text={\"Pouze peší chůze\"} defaultChecked={true}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"ownTransport\"} className={\"traveler_type\"} id={\"cyclist\"} text={\"Kolo nebo koloběžku\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"ownTransport\"} className={\"traveler_type\"} id={\"motorist\"} text={\"Osobní automobil\"} defaultChecked={false}></InputElement>\r\n        <Label className={\"optionTitle\"} text={\"Výběr dopravních prostředků\"}></Label>\r\n        <div className=\"optionMeans\">\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n            Metro\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n            Tramvaj\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n            Autobus\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n            Příměstský vlak\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Funicular\" defaultChecked></input>\r\n            Lanovka\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n            Přívoz\r\n          </label>\r\n        </div>\r\n        <Label className={\"optionTitle\"}  title={\"Momentálně nedostupné\"} text={\"Doplňkové služby\"}></Label>\r\n        <label title=\"Momentálně nedostupné\">\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"journeyFeature\"\r\n            id=\"taxi\"\r\n            disabled\r\n          ></input>\r\n          Taxi\r\n        </label>\r\n        <label title=\"Momentálně nedostupné\">\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"journeyFeature\"\r\n            id=\"uber\"\r\n            disabled\r\n          ></input>\r\n          UBER\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TransportPID;\r\n","import React from \"react\";\r\nimport Label from \"./Label\";\r\nimport InputElement from \"./InputElement\";\r\n//import SelectElement from \"./SelectElement\";\r\n\r\nclass AccessibilityPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"optionsSettings\" id=\"options-box-access\" display=\"none\">\r\n        <Label className={\"optionTitle\"} text={\"Jsem cestující\"}></Label>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"standard\"} text={\"Bez dalších potřeb\"} defaultChecked={true}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"slow_walker\"} text={\"S kočárkem\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"wheelchair\"} text={\"S vozíčkem\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"luggage\"} text={\"S těžkými zavazadly\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"cyclist\"} text={\"S kolem do MHD\"} defaultChecked={false}></InputElement>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AccessibilityPID;\r\n","import React from \"react\";\r\nimport OptionsSelect from \"../app/OptionsSelect\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport ParametersPID from \"./ParametersPID\";\r\nimport TransportPID from \"./TransportPID\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\nimport AccessibilityPID from \"./AccessibilityPID\";\r\n\r\nclass PlannerPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.setApi = this.setApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false\r\n    };\r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 0; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  setApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    //console.log(\"Input: \"+e.target.value);\r\n    var searchedName = e.target.value;\r\n    var searchedId = e.target.value;\r\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\"+e.target.value;\r\n    var headers = new Headers();\r\n    headers.set('Authorization', 'Basic ' + btoa(process.env.REACT_APP_NAVITIA_TOKEN));\r\n    fetch(url, {method: 'GET', headers: headers})\r\n    .then(response => response.json())\r\n    .then(json => {\r\n      //console.log(json.places)\r\n      if (json.places !== undefined) {\r\n        for (let i = 0; i < json.places.length; i++) {\r\n          if (json.places[i].embedded_type === \"stop_area\") {\r\n            searchedName = json.places[i].name;\r\n            searchedId = json.places[i].id;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    })\r\n    this.props.start(searchedName);\r\n    this.props.startId(searchedId);\r\n\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    //console.log(\"Output: \"+e.target.value);\r\n    var searchedName = e.target.value;\r\n    var searchedId = e.target.value;\r\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\"+e.target.value;\r\n    var headers = new Headers();\r\n    headers.set('Authorization', 'Basic ' + btoa(process.env.REACT_APP_NAVITIA_TOKEN));\r\n    fetch(url, {method: 'GET', headers: headers})\r\n    .then(response => response.json())\r\n    .then(json => {\r\n      //console.log(json.places)\r\n      if (json.places !== undefined) {\r\n        for (let i = 0; i < json.places.length; i++) {\r\n          if (json.places[i].embedded_type === \"stop_area\") {\r\n            searchedName = json.places[i].name;\r\n            searchedId = json.places[i].id;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    })\r\n    this.props.end(searchedName);\r\n    this.props.endId(searchedId);\r\n\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n  handleSubmit(e) {\r\n    if (document.getElementById(\"input_from\").value.length < 1 || document.getElementById(\"input_to\").value.length < 1) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    //console.log(\"Writing:\");\r\n    //console.log(options.traveler_type);\r\n    //console.log(options.means);\r\n    //console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/form_result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n        onClick={this.getOptions}\r\n      >\r\n        <div className=\"plannerBox\">\r\n          <div className=\"box\" id=\"searchBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Odkud:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_from\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte počáteční bod\"\r\n                onChange={this.handleFromInput}\r\n              ></input>\r\n            </div>\r\n            <p id=\"suggestions\"></p>\r\n            <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n              <label className=\"addVia\" onClick={this.changeTransit}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={add_icon}\r\n                  alt=\"+\"\r\n                  title=\"Přidat průjezdní bod\"\r\n                ></img>\r\n                <label id=\"addViaText\">Přidat průjezd</label>\r\n              </label>\r\n              <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={remove_icon}\r\n                  alt=\"×\"\r\n                  onClick={this.changeTransit}\r\n                  title=\"Odebrat průjezdní bod\"\r\n                ></img>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_via\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte průjezdový bod\"\r\n                  onChange={this.handleViaInput}\r\n                ></input>\r\n              </label>\r\n              <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                <img\r\n                  className=\"clickable\"\r\n                  src={swap_icon}\r\n                  alt=\"[SWAP]\"\r\n                  title=\"Prohodit Start a Cíl\"\r\n                ></img>\r\n              </label>\r\n            </div>\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Kam:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_to\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte cílový bod\"\r\n                onChange={this.handleToInput}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"box\" id=\"timeBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Datum a čas:</label>\r\n              <input\r\n                id=\"input_date\"\r\n                type=\"date\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n              <input\r\n                id=\"input_time\"\r\n                type=\"time\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"directPathBox\">\r\n            <label className=\"inputFieldDiv\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"directPath\"\r\n                onChange={this.getOptions}\r\n              ></input>\r\n              Pouze přímý spoj\r\n            </label>\r\n          </div>\r\n          <div className=\"options\">\r\n            <OptionsSelect></OptionsSelect>\r\n            <div className=\"options-box\">\r\n              <ParametersPID></ParametersPID>\r\n              <TransportPID></TransportPID>\r\n              <AccessibilityPID></AccessibilityPID>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi setApi={this.setApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\n\r\nclass Planner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.setApi = this.setApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  setApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/form_result\"></Redirect>;\r\n    } else {\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"results\">\r\n                <PlannerPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.setApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Planner;\r\n","import React from \"react\";\r\n\r\nclass WizardSteps extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handlePreviousStep = this.handlePreviousStep.bind(this);\r\n    this.handleNextStep = this.handleNextStep.bind(this);\r\n    this.handleTransport = this.handleSearch.bind(this);\r\n    this.returnTask = this.returnTask.bind(this);\r\n    this.state = { step: 0, prevBtnDisabled: false, nextBtnDisabled: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.step === 0) {\r\n      this.setState({ prevBtnDisabled: true });\r\n    }\r\n  }\r\n\r\n  handlePreviousStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 0) {\r\n      this.setState({ nextBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep - 1].style.display = \"block\";\r\n      this.setState({ step: currentStep - 1 });\r\n      if (currentStep - 1 === 0) {\r\n        this.setState({ prevBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go back\");\r\n    }\r\n  }\r\n\r\n  handleNextStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 4) {\r\n      this.setState({ prevBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep + 1].style.display = \"block\";\r\n      this.setState({ step: currentStep + 1 });\r\n      if (currentStep + 1 === 4) {\r\n        this.setState({ nextBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go forth\");\r\n    }\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  returnTask() {\r\n    switch (this.state.step) {\r\n      case 0:\r\n        return \"Zvolte základní hodnoty pro vyhledání Vašeho spoje\";\r\n      case 1:\r\n        return \"Vyberte si parametry Vaší trasy\";\r\n      case 2:\r\n        return \"Vyberte Vámi preferovaný způsob dopravy\";\r\n      case 3:\r\n        return \"V případě dalších požadavků na spoj zvolte níže\";\r\n      case 4:\r\n        return \"Po kontrole Vašeho zadání vyhledejte odpovídající spoj\";\r\n      default:\r\n        return \"Chyba v programu\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"wizardSteps\">\r\n        <div className=\"wizardTasks\">\r\n          <label><b>Krok {this.state.step + 1} z 5</b></label>\r\n          <label>{this.returnTask()}</label>\r\n        </div>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <button\r\n                  onClick={this.handlePreviousStep}\r\n                  id=\"prev\"\r\n                  disabled={this.state.prevBtnDisabled}\r\n                >\r\n                  Předchozí krok\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  onClick={this.handleNextStep}\r\n                  id=\"next\"\r\n                  disabled={this.state.nextBtnDisabled}\r\n                >\r\n                  Další krok\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WizardSteps;\r\n","import React from \"react\";\r\nimport WizardSteps from \"../app/WizardSteps\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\n\r\nclass PlannerWizardPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //STATE\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false,\r\n      date: \"\",\r\n      time: \"\",\r\n      directPath: false,\r\n      fastestRoute: false,\r\n      numTransfers: \"\",\r\n      traveler_type: \"pouze peší chůze\",\r\n      special: \"bez dalších potřeb\"\r\n    };\r\n    //BINDINGS\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n  \r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.setState({date: currentDate, time: currentTime});\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 1; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    this.setState({date: timeInput.value, time: timeInput.value});\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    this.setState({vialFrom: this.state.from, vialTo: this.state.to});\r\n    if (document.getElementById(\"input_from\").value.length < 1 || document.getElementById(\"input_to\").value.length < 1) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    if (options.directPath) {this.setState({directPath: true})};\r\n    if (options.fastestRoute) {this.setState({fastestRoute: true})};\r\n    if (options.numTransfers > 0) {this.setState({numTransfers: options.numTransfers})} else {this.setState({numTransfers: \"neomezeným počtem\"})};\r\n    if (options.traveler_type.walker) {this.setState({traveler_type: \"pouze peší chůze\"})};\r\n    if (options.traveler_type.bike) {this.setState({traveler_type: \"kola nebo koloběžky\"})};\r\n    if (options.traveler_type.car) {this.setState({traveler_type: \"osobního automobilu\"})};\r\n    if (options.special.standard) {this.setState({special: \"bez dalších potřeb\"})};\r\n    if (options.special.baby) {this.setState({special: \"s kočárkem\"})};\r\n    if (options.special.wheelchair) {this.setState({special: \"s vozíčkem\"})};\r\n    if (options.special.luggage) {this.setState({special: \"s těžkými zavazadly\"})};\r\n    if (options.special.cyclist) {this.setState({special: \"s kolem do MHD\"})};\r\n\r\n\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n      >\r\n        <div className=\"options\">\r\n          <WizardSteps step={this.state.step}></WizardSteps>\r\n          <div className=\"options-box\">\r\n            <div id=\"options-box-main\" display=\"block\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Odkud:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_from\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte počáteční bod\"\r\n                onChange={this.handleFromInput}\r\n              ></input>\r\n            </div>\r\n            <p id=\"suggestions\"></p>\r\n            <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n              <label className=\"addVia\" onClick={this.changeTransit}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={add_icon}\r\n                  alt=\"+\"\r\n                  title=\"Přidat průjezdní bod\"\r\n                ></img>\r\n                <label id=\"addViaText\">Přidat průjezd</label>\r\n              </label>\r\n              <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={remove_icon}\r\n                  alt=\"×\"\r\n                  onClick={this.changeTransit}\r\n                  title=\"Odebrat průjezdní bod\"\r\n                ></img>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_via\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte průjezdový bod\"\r\n                  onChange={this.handleViaInput}\r\n                ></input>\r\n              </label>\r\n              <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                <img\r\n                  className=\"clickable\"\r\n                  src={swap_icon}\r\n                  alt=\"[SWAP]\"\r\n                  title=\"Prohodit Start a Cíl\"\r\n                ></img>\r\n              </label>\r\n            </div>\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Kam:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_to\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte cílový bod\"\r\n                onChange={this.handleToInput}\r\n              ></input>\r\n            </div>\r\n            <div className=\"box\" id=\"timeBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Datum a čas:</label>\r\n              <input\r\n                id=\"input_date\"\r\n                type=\"date\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n              <input\r\n                id=\"input_time\"\r\n                type=\"time\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"directPathBox\">\r\n            <label className=\"inputFieldDiv\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"directPath\"\r\n                onChange={this.getOptions}\r\n              ></input>\r\n              Pouze přímý spoj\r\n            </label>\r\n          </div>\r\n          </div>\r\n            <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-parameters\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Trasa</label>\r\n                <br />\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"fastestRoute\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Nejrychlejší\r\n                  <br />\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"lowWalkingRoute\"\r\n                  ></input>\r\n                  Nejméně pěší chůze\r\n                  <br />\r\n                </label>\r\n                <label className=\"optionTitle\">Přestupy</label>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální počet přestupů:\r\n                </label>\r\n                <select defaultValue=\"-1\" id=\"numTransfers\">\r\n                  <option value=\"-1\">Neomezeno</option>\r\n                  <option value=\"0\">0</option>\r\n                  <option value=\"1\">1</option>\r\n                  <option value=\"2\">2</option>\r\n                  <option value=\"3\">3</option>\r\n                  <option value=\"4\">4</option>\r\n                  <option value=\"5\">5</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">Čas na přestup:</label>\r\n                <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n                  <option value=\"5\">Alespoň 5 minut</option>\r\n                  <option value=\"10\">Alespoň 10 minut</option>\r\n                  <option value=\"15\">Alespoň 15 minut</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální vzdálenost mezi přestupy:\r\n                </label>\r\n                <select defaultValue=\"100m\" id=\"transferDistance\">\r\n                  <option value=\"100\">100 m</option>\r\n                  <option value=\"200\">200 m</option>\r\n                  <option value=\"300\">300 m</option>\r\n                </select>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-transport\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Na trase chci využít</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"walker\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Pouze peší chůze\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  Kolo nebo koloběžku\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"motorist\"\r\n                  ></input>\r\n                  Osobní automobil\r\n                </label>\r\n                <label className=\"optionTitle\">\r\n                  Výběr dopravních prostředků\r\n                </label>\r\n                <div className=\"optionMeans\">\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n                    Metro\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n                    Tramvaj\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n                    Autobus\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n                    Příměstský vlak\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"Funicular\"\r\n                      defaultChecked\r\n                    ></input>\r\n                    Lanovka\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n                    Přívoz\r\n                  </label>\r\n                </div>\r\n                <label className=\"optionTitle\" title=\"Momentálně nedostupné\">\r\n                  Doplňkové služby\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"taxi\"\r\n                    disabled\r\n                  ></input>\r\n                  Taxi\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"uber\"\r\n                    disabled\r\n                  ></input>\r\n                  UBER\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-access\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Jsem cestující</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"standard\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Bez dalších potřeb\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"slow_walker\"\r\n                  ></input>\r\n                  S kočárkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"wheelchair\"\r\n                  ></input>\r\n                  S vozíčkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"luggage\"\r\n                  ></input>\r\n                  S těžkými zavazadly\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  S kolem do MHD\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-summary\"\r\n                display=\"none\">\r\n                  <label className=\"optionTitle\">\r\n                    Souhrn před zobrazením výsledků:\r\n                  </label>\r\n                  <label className=\"summaryText\">\r\n                    <label><b>Spoj z: </b>{this.state.vialFrom}<b> do: </b>{this.state.vialTo}</label>\r\n                    <label><b>Datum: </b>{this.state.date}<b> v </b>{this.state.time}</label>\r\n                    <label><b>Trasa s max </b>{this.state.numTransfers > 0 ? this.state.numTransfers : \"neomezenými\"}<b> přestupy</b></label>\r\n                    <label><b>S využitím: </b>{this.state.traveler_type}</label>\r\n                    <label><b>Pro cestující: </b>{this.state.special}</label>\r\n                  </label>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerWizardPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\n\r\nclass PlannerWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/wizard_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerWizardPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID setApi={this.updateSelectedApi}></PlannerWizardPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlannerWizard;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass Result extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.setApi = this.setApi.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  setApi(api) {\r\n    this.props.writeApi(api)\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    console.log(\"== saved stuff ==\")\r\n    console.log(this.state.results)\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length < 0) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    for (\r\n      let i = 0;\r\n      i < document.getElementsByClassName(\"optionsSettings\").length;\r\n      i++\r\n    ) {\r\n      document.getElementsByClassName(\"optionsSettings\")[i].style.display =\r\n        \"none\";\r\n    }\r\n    if (this.state.results !== undefined) {\r\n      for (\r\n        let resultNumber = 0;\r\n        resultNumber < this.state.results.length;\r\n        resultNumber++\r\n      ) {\r\n        let label = document.createElement(\"label\");\r\n        label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n        let resultItem = this.createResultItem(\r\n          this.state.results[resultNumber],\r\n          resultNumber\r\n        );\r\n        label.appendChild(resultItem);\r\n        resdiv.appendChild(label);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                setApi={this.setApi}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass ResultWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      viaId: \"no_point\",\r\n      endId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length < 0) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    if (this.state.results !== undefined) {\r\n    for (\r\n      let resultNumber = 0;\r\n      resultNumber < this.state.results.length;\r\n      resultNumber++\r\n    ) {\r\n      let label = document.createElement(\"label\");\r\n      label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n      let resultItem = this.createResultItem(\r\n        this.state.results[resultNumber],\r\n        resultNumber\r\n      );\r\n      label.appendChild(resultItem);\r\n      resdiv.appendChild(label);\r\n    }\r\n  }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerWizardPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerWizardPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultWizard;\r\n","import React from \"react\";\r\n\r\nclass ContextSteps extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handlePreviousStep = this.handlePreviousStep.bind(this);\r\n    this.handleNextStep = this.handleNextStep.bind(this);\r\n    this.handleTransport = this.handleSearch.bind(this);\r\n    this.returnTask = this.returnTask.bind(this);\r\n    this.state = { step: 0, prevBtnDisabled: false, nextBtnDisabled: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.step === 0) {\r\n      this.setState({ prevBtnDisabled: true });\r\n    }\r\n  }\r\n\r\n  handlePreviousStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 0) {\r\n      this.setState({ nextBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep - 1].style.display = \"block\";\r\n      this.setState({ step: currentStep - 1 });\r\n      if (currentStep - 1 === 0) {\r\n        this.setState({ prevBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go back\");\r\n    }\r\n  }\r\n\r\n  handleNextStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 3) {\r\n      this.setState({ prevBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep + 1].style.display = \"block\";\r\n      this.setState({ step: currentStep + 1 });\r\n      if (currentStep + 1 === 3) {\r\n        this.setState({ nextBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go forth\");\r\n    }\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  returnTask() {\r\n    switch (this.state.step) {\r\n      case 0:\r\n        return \"Zvolte základní hodnoty pro vyhledání Vašeho spoje\";\r\n      case 1:\r\n        return \"Jaký je účel vaší cesty?\";\r\n      case 2:\r\n        return \"Vyberte Vámi preferované dopravní prostředky\";\r\n      case 3:\r\n        return \"Máte nějaké omezení?\";\r\n      default:\r\n        return \"Chyba v programu\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"wizardSteps\">\r\n        <div className=\"wizardTasks\">\r\n          <label><b>Krok {this.state.step + 1} ze 4</b></label>\r\n          <label>{this.returnTask()}</label>\r\n        </div>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <button\r\n                  onClick={this.handlePreviousStep}\r\n                  id=\"prev\"\r\n                  disabled={this.state.prevBtnDisabled}\r\n                >\r\n                  Předchozí krok\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  onClick={this.handleNextStep}\r\n                  id=\"next\"\r\n                  disabled={this.state.nextBtnDisabled}\r\n                >\r\n                  Další krok\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContextSteps;\r\n","import React from \"react\";\r\nimport ContextSteps from \"../app/ContextSteps\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\nimport normal_icon from \"../../assets/Normal.png\";\r\nimport work_icon from \"../../assets/Work.png\";\r\nimport school_icon from \"../../assets/School.png\";\r\nimport doctor_icon from \"../../assets/Doctor.png\";\r\nimport freetime_icon from \"../../assets/Bike.png\";\r\n\r\nclass PlannerContextPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //STATE\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false,\r\n      date: \"\",\r\n      time: \"\",\r\n      directPath: false,\r\n      traveler_type: \"pouze peší chůze\",\r\n      means: \"\",\r\n      special: \"bez dalších potřeb\",\r\n      context: \"none\",\r\n    };\r\n    //BINDINGS\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.setApi = this.setApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getSelectedMeans = this.getSelectedMeans.bind(this);\r\n    this.getCurrentWeather = this.getCurrentWeather.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.setState({ date: currentDate, time: currentTime });\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 1; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  setApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    //console.log(\"Input: \"+e.target.value);\r\n    var searchedName = e.target.value;\r\n    var searchedId = e.target.value;\r\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\"+e.target.value;\r\n    var headers = new Headers();\r\n    headers.set('Authorization', 'Basic ' + btoa(process.env.REACT_APP_NAVITIA_TOKEN));\r\n    fetch(url, {method: 'GET', headers: headers})\r\n    .then(response => response.json())\r\n    .then(json => {\r\n      //console.log(json.places)\r\n      if (json.places !== undefined) {\r\n        for (let i = 0; i < json.places.length; i++) {\r\n          if (json.places[i].embedded_type === \"stop_area\") {\r\n            searchedName = json.places[i].name;\r\n            searchedId = json.places[i].id;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    })\r\n    this.props.start(searchedName);\r\n    this.props.startId(searchedId);\r\n\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    //console.log(\"Output: \"+e.target.value);\r\n    var searchedName = e.target.value;\r\n    var searchedId = e.target.value;\r\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\"+e.target.value;\r\n    var headers = new Headers();\r\n    headers.set('Authorization', 'Basic ' + btoa(process.env.REACT_APP_NAVITIA_TOKEN));\r\n    fetch(url, {method: 'GET', headers: headers})\r\n    .then(response => response.json())\r\n    .then(json => {\r\n      //console.log(json.places)\r\n      if (json.places !== undefined) {\r\n        for (let i = 0; i < json.places.length; i++) {\r\n          if (json.places[i].embedded_type === \"stop_area\") {\r\n            searchedName = json.places[i].name;\r\n            searchedId = json.places[i].id;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    })\r\n    this.props.end(searchedName);\r\n    this.props.endId(searchedId);\r\n\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    this.setState({ date: timeInput.value, time: timeInput.value });\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    this.setState({ vialFrom: this.state.from, vialTo: this.state.to });\r\n    if (\r\n      document.getElementById(\"input_from\").value.length < 1 ||\r\n      document.getElementById(\"input_to\").value.length < 1\r\n    ) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getSelectedMeans() {\r\n    var meansCollection = document.getElementsByClassName(\"means\");\r\n    var means = {};\r\n    for (let i = 0; i < meansCollection.length; i++) {\r\n      means[meansCollection[i].id] = meansCollection[i].checked;\r\n    }\r\n    return means;\r\n  }\r\n\r\n  getCurrentWeather() {\r\n    var currentWeather = Math.floor(Math.random() * 7);\r\n    switch (currentWeather) {\r\n      case 3:\r\n        return \"snow\";\r\n      case 2:\r\n        return \"rain\";\r\n      case 1:\r\n        return \"cloudy\";\r\n      case 0:\r\n        return \"sunny\";\r\n      default:\r\n        return \"partly_cloudy\";\r\n    }\r\n  }\r\n\r\n  getOptions() {\r\n    console.log(\"Options:\");\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      travel_type: document\r\n        .querySelector('input[name=\"travel_type\"]:checked')\r\n        .getAttribute(\"id\"),\r\n      means: this.getSelectedMeans(),\r\n      special: document\r\n        .querySelector('input[name=\"special\"]:checked')\r\n        .getAttribute(\"id\"),\r\n      weather: this.getCurrentWeather(),\r\n    };\r\n    console.log(\"======== WEATHER: ==== \" + this.getCurrentWeather());\r\n    if (options.directPath) {\r\n      this.setState({ directPath: true });\r\n    }\r\n\r\n    if (options.travel_type === \"normal\") {\r\n      this.setState({ traveler_type: \"pouze peší chůze\" });\r\n    }\r\n    if (options.travel_type === \"work\") {\r\n      this.setState({ travel_type: \"kola nebo koloběžky\" });\r\n    }\r\n    if (options.travel_type === \"school\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.travel_type === \"freetime\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n\r\n    // MEANS\r\n    this.setState({ means: options.means });\r\n\r\n    // SPECIAL REQUIREMENTS\r\n    if (options.special === \"standard\") {\r\n      this.setState({ traveler_type: \"standard\" });\r\n    }\r\n    if (options.special === \"slow_walker\") {\r\n      this.setState({ traveler_type: \"slow_walker\" });\r\n    }\r\n    if (options.special === \"wheelchair\") {\r\n      this.setState({ traveler_type: \"wheelchair\" });\r\n    }\r\n    if (options.special === \"luggage\") {\r\n      this.setState({ traveler_type: \"luggage\" });\r\n    }\r\n    if (options.special === \"cyclist\") {\r\n      this.setState({ traveler_type: \"cyclist\" });\r\n    }\r\n\r\n    this.props.getOptions(options);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"contextForm\"\r\n        action=\"/result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n      >\r\n        <div className=\"options\">\r\n          <ContextSteps step={this.state.step}></ContextSteps>\r\n          <div className=\"options-box\">\r\n            <div id=\"options-box-main\" display=\"block\">\r\n              <div className=\"inputFieldDiv\">\r\n                <label className=\"textLabel\">Odkud:</label>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_from\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte počáteční bod\"\r\n                  onChange={this.handleFromInput}\r\n                ></input>\r\n              </div>\r\n              <p id=\"suggestions\"></p>\r\n              <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n                <label className=\"addVia\" onClick={this.changeTransit}>\r\n                  <img\r\n                    className=\"viaBtn\"\r\n                    src={add_icon}\r\n                    alt=\"+\"\r\n                    title=\"Přidat průjezdní bod\"\r\n                  ></img>\r\n                  <label id=\"addViaText\">Přidat průjezd</label>\r\n                </label>\r\n                <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                  <img\r\n                    className=\"viaBtn\"\r\n                    src={remove_icon}\r\n                    alt=\"×\"\r\n                    onClick={this.changeTransit}\r\n                    title=\"Odebrat průjezdní bod\"\r\n                  ></img>\r\n                  <input\r\n                    className=\"locations\"\r\n                    id=\"input_via\"\r\n                    type=\"form\"\r\n                    placeholder=\"Zadejte průjezdový bod\"\r\n                    onChange={this.handleViaInput}\r\n                  ></input>\r\n                </label>\r\n                <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                  <img\r\n                    className=\"clickable\"\r\n                    src={swap_icon}\r\n                    alt=\"[SWAP]\"\r\n                    title=\"Prohodit Start a Cíl\"\r\n                  ></img>\r\n                </label>\r\n              </div>\r\n              <div className=\"inputFieldDiv\">\r\n                <label className=\"textLabel\">Kam:</label>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_to\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte cílový bod\"\r\n                  onChange={this.handleToInput}\r\n                ></input>\r\n              </div>\r\n              <div className=\"box\" id=\"timeBox\">\r\n                <div className=\"inputFieldDiv\">\r\n                  <label className=\"textLabel\">Datum a čas:</label>\r\n                  <input\r\n                    id=\"input_date\"\r\n                    type=\"date\"\r\n                    onChange={this.handleTimeAndDate}\r\n                  ></input>\r\n                  <input\r\n                    id=\"input_time\"\r\n                    type=\"time\"\r\n                    onChange={this.handleTimeAndDate}\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"directPathBox\">\r\n                <label className=\"inputFieldDiv\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"directPath\"\r\n                    onChange={this.getOptions}\r\n                  ></input>\r\n                  Pouze přímý spoj\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"contextOptionsSettings\"\r\n              id=\"options-box-parameters\"\r\n              display=\"none\"\r\n            >\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"normal\"\r\n                  defaultChecked\r\n                ></input>\r\n                <img src={normal_icon} alt=\"n\"></img>\r\n                <label htmlFor=\"normal\" className=\"travel_type\">\r\n                  Normální\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"work\"\r\n                ></input>\r\n                <label htmlFor=\"work\" className=\"travel_type\">\r\n                  <img src={work_icon} alt=\"n\"></img>Do práce\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"school\"\r\n                ></input>\r\n                <img src={school_icon} alt=\"n\"></img>\r\n                <label htmlFor=\"school\" className=\"travel_type\">\r\n                  Do školy\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"doctor\"\r\n                ></input>\r\n                <img src={doctor_icon} alt=\"n\"></img>\r\n                <label htmlFor=\"doctor\" className=\"travel_type\">\r\n                  Za lékařem\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"freetime\"\r\n                ></input>\r\n                <img src={freetime_icon} alt=\"n\"></img>\r\n                <label htmlFor=\"freetime\" className=\"travel_type\">\r\n                  Rekreace\r\n                </label>\r\n              </label>\r\n            </div>\r\n            <div\r\n              className=\"contextOptionsSettings\"\r\n              id=\"options-box-transport\"\r\n              display=\"none\"\r\n            >\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Metro\"\r\n                  defaultChecked\r\n                ></input>\r\n\r\n                <label className=\"meansLabel\" htmlFor=\"Metro\">\r\n                  Metro\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Tramway\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Tramway\">\r\n                  Tramvaj\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Bus\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Bus\">\r\n                  Autobus\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Train\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Train\">\r\n                  Příměstský vlak\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Funicular\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Funicular\">\r\n                  Lanovka\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Ferry\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Ferry\">\r\n                  Přívoz\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Car\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Car\">\r\n                  Osobní automobil\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Bike\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Bike\">\r\n                  Kolo nebo koloběžka\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"means\"\r\n                  id=\"Shared\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label className=\"meansLabel\" htmlFor=\"Shared\">\r\n                  Sdílené kolo nebo koloběžka\r\n                </label>\r\n              </label>\r\n            </div>\r\n            <div\r\n              className=\"contextOptionsSettings\"\r\n              id=\"options-box-access\"\r\n              display=\"none\"\r\n            >\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"standard\"\r\n                  defaultChecked\r\n                ></input>\r\n                <label htmlFor=\"standard\" className=\"access\">\r\n                  Nemám omezení\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"slow_walker\"\r\n                ></input>\r\n                <label htmlFor=\"slow_walker\" className=\"access\">\r\n                  Cestuji s kočárkem\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"wheelchair\"\r\n                ></input>\r\n                <label htmlFor=\"wheelchair\" className=\"access\">\r\n                  Cestuji s vozíčkem\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"luggage\"\r\n                ></input>\r\n                <label htmlFor=\"luggage\" className=\"access\">\r\n                  Cestuji s těžkými zavazadly\r\n                </label>\r\n              </label>\r\n              <label className=\"outline\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"cyclist\"\r\n                ></input>\r\n                <label htmlFor=\"cyclist\" className=\"access\">\r\n                  Cestuji s kolem/koloběžkou\r\n                </label>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi setApi={this.setApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerContextPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerContextPID from \"../api/PlannerContextPID\";\r\n\r\nclass PlannerContext extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.setApi = this.setApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  setApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n    this.props.writeApi(selectedApi);\r\n  }\r\n\r\n  getStart(start) {\r\n    console.log(this.props.selectedApi);\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/wizard_result\"></Redirect>;\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <Header></Header>\r\n          <main className=\"journey-planner\">\r\n            <section className=\"planner\">\r\n              <PlannerContextPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                ready={this.setReady}\r\n                planner={this.props.planner}\r\n                setApi={this.setApi}\r\n                getOptions={this.getOptions}\r\n              ></PlannerContextPID>\r\n            </section>\r\n            <Map ref={this.map}></Map>\r\n          </main>\r\n          <Footer></Footer>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlannerContext;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerContextPID from \"../api/PlannerContextPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass ResultContext extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      viaId: \"no_point\",\r\n      endId: \"no_point\",\r\n      selectedResult: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.processOptions = this.processOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setApi = this.setApi.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.createResultItemMM = this.createResultItemMM.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.sendRequestPid = this.sendRequestPid.bind(this);\r\n    this.sendRequestMM = this.sendRequestMM.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setApi(api) {\r\n    this.props.writeApi(api)\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n\r\n  processOptions(options) {\r\n    console.log(\"Process:\")\r\n    var value = 0;\r\n    var parameters = options;\r\n    var initialVal = 0;\r\n    console.log(\"travel_type = \"+parameters.travel_type);\r\n    switch (parameters.travel_type) {\r\n      case \"normal\":\r\n        initialVal = 0.8;\r\n        break;\r\n      case \"work\":\r\n        initialVal = 0.5;\r\n        break;\r\n      case \"school\":\r\n        initialVal = 0.5;\r\n        break;\r\n      case \"doctor\":\r\n        initialVal = 0.45;\r\n        break;\r\n      case \"freetime\":\r\n        initialVal = 0.85;\r\n        break;\r\n      default:\r\n        initialVal = 1;\r\n    }\r\n    console.log(initialVal)\r\n    value = initialVal;\r\n    \r\n    // Alternate the value based on rest of user input\r\n\r\n    switch (parameters.special) {\r\n      case \"standard\":\r\n        value *= 1;\r\n        break;\r\n      case \"slow_walker\":\r\n          value *= 0.5;\r\n          break;\r\n      case \"wheelchair\":\r\n        value *= 0.3;\r\n        break;\r\n      case \"luggage\":\r\n        value *= 0.5;\r\n        break;\r\n      case \"cyclist\":\r\n        value *= 0.8;\r\n        break;\r\n      default:\r\n        value = 1;\r\n    }\r\n\r\n    console.log(value);\r\n\r\n    return value;\r\n  }\r\n\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    var api = this.props.planner.api;\r\n    console.log(\"fetch:\");\r\n    console.log(options.directPath)\r\n    console.log(options.travel_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    console.log(options.weather)\r\n    //options breakdown\r\n    var searchValue = this.processOptions(options);\r\n    console.log(searchValue)\r\n\r\n    switch(api) {\r\n      case \"pid\":\r\n        this.sendRequestPid(start, end, via, options);\r\n        break;\r\n      case \"mmplanner\":\r\n        this.sendRequestMM(start, end, via, options);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    \r\n  }\r\n\r\n  sendRequestPid(start, end, via, options) {\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + 4;\r\n    }\r\n\r\n    // Check for means\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n\r\n    if (\r\n      options !== undefined &&\r\n      options.travel_type !== undefined &&\r\n      options.means !== undefined &&\r\n      options.special !== undefined &&\r\n      options.weather !== undefined\r\n    ) {\r\n      if (options.travel_type === \"walker\") {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.travel_type === \"freetime\") {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.travel_type === \"freetimes\") {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      }\r\n      if (options.special === \"wheelchair\") {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special === \"luggage\") {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length < 0) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            console.log(\"Query:\")\r\n            console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              \r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  sendRequestMM() {\r\n    var mmUrl = \"http://localhost:8125/api/findRoutes?maxDate=2020-04-28T14:30:00\";\r\n    fetch(mmUrl, { method: \"GET\" })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            console.log(\"Query MM:\")\r\n            console.log(query);\r\n            this.setState({ results: query.data.routes }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              console.log(\"mm render now\")\r\n              this.renderResults();\r\n              console.log(query.data.routes);\r\n            })\r\n          });\r\n  }\r\n\r\n  componentDidMount() {\r\n    //console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    //console.log(\"results:\");\r\n    //console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    // Excluded means\r\n    var excludedMeans = []\r\n    for (var mean in this.props.planner.options.means) {\r\n      if (this.props.planner.options.means[mean] === false) {\r\n        excludedMeans.push(mean)\r\n      }\r\n    }\r\n    var exclude = false;\r\n    // Adding actual results\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          for (let i = 0; i < excludedMeans.length; i++) {\r\n            if (excludedMeans[i] === \"Bike\") { exclude = true};\r\n          }\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          for (let i = 0; i < excludedMeans.length; i++) {\r\n            if (excludedMeans[i] === \"Car\") { exclude = true};\r\n          }\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    console.log(resultItem)\r\n    if (!exclude) {\r\n      return resultItem;\r\n    } else { return null; }\r\n  }\r\n\r\n  createResultItemMM(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.fromTime.substr(11, 2) +\r\n        \":\" +\r\n        data.fromTime.substr(14, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.toTime.substr(11, 2) +\r\n        \":\" +\r\n        data.toTime.substr(14, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      //vzdálenost dělena průměrnou rychlostí MHD (26km/h) při rychlosti m/min\r\n      \"Trvání: \" + Math.round(data.totalDistance / 433) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    // Excluded means\r\n    var excludedMeans = []\r\n    for (var mean in this.props.planner.options.means) {\r\n      if (this.props.planner.options.means[mean] === false) {\r\n        excludedMeans.push(mean)\r\n      }\r\n    }\r\n    var exclude = false;\r\n    // Adding actual results\r\n    for (let i = 0; i < data.segments.length; i++) {\r\n      var type = data.segments[i].type;\r\n      if (type === \"WALK\") {\r\n        if (data.segments[i].mode === \"bike\") {\r\n          for (let i = 0; i < excludedMeans.length; i++) {\r\n            if (excludedMeans[i] === \"Bike\") { exclude = true};\r\n          }\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.segments[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"WAIT\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.segments[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.segments[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.segments[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.segments[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      \r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    console.log(resultItem)\r\n    if (!exclude) {\r\n      return resultItem;\r\n    } else { return null; }\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    console.log(\"results state:\")\r\n    console.log(this.state.results)\r\n    if (this.state.results !== undefined) {\r\n    for (\r\n      let resultNumber = 0;\r\n      resultNumber < this.state.results.length;\r\n      resultNumber++\r\n    ) {\r\n      let label = document.createElement(\"label\");\r\n      label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n      var resultItem;\r\n      console.log(this.props.planner.api)\r\n      if (this.props.planner.api === \"mmplanner\") {\r\n        console.log(\"mm create\");\r\n        resultItem = this.createResultItemMM(\r\n          this.state.results[resultNumber],\r\n          resultNumber\r\n          );\r\n      } else {\r\n        resultItem = this.createResultItem(\r\n        this.state.results[resultNumber],\r\n        resultNumber\r\n        );\r\n      }\r\n      if (resultItem !== null) {label.appendChild(resultItem);}\r\n      resdiv.appendChild(label);\r\n    }\r\n  }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerContextPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                setApi={this.setApi}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerContextPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultContext;\r\n","import React from \"react\";\n//import ReactDOM from \"react-dom\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"../css/App.css\";\nimport Planner from \"./Planner\";\nimport PlannerWizard from \"./PlannerWizard\";\nimport Result from \"./Result\";\nimport ResultWizard from \"./ResultWizard\";\nimport PlannerContext from \"./PlannerContext\";\nimport ResultContext from \"./ResultContext\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.writeStart = this.writeStart.bind(this);\n    this.writeVia = this.writeVia.bind(this);\n    this.writeEnd = this.writeEnd.bind(this);\n    this.writeStartId = this.writeStartId.bind(this);\n    this.writeViaId = this.writeViaId.bind(this);\n    this.writeEndId = this.writeEndId.bind(this);\n    this.writeTimeAndDate = this.writeTimeAndDate.bind(this);\n    this.writeOptions = this.writeOptions.bind(this);\n    this.writeApi = this.writeApi.bind(this);\n    this.state = {\n      start: \"\",\n      via: \"\",\n      end: \"\",\n      startId: undefined,\n      viaId: undefined,\n      endId: undefined,\n      timedate: \"\",\n      api: \"pid\",\n      options: \"\"\n    };\n  }\n\n  writeStart(from) {\n    this.setState({ start: from });\n  }\n\n  writeVia(thru) {\n    this.setState({ via: thru });\n  }\n\n  writeEnd(to) {\n    this.setState({ end: to });\n  }\n\n  writeStartId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ startId: json.places[0].id });\n        }\n      });\n  }\n\n  writeViaId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    //console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ viaId: json.places[0].id });\n        }\n      });\n  }\n\n  writeEndId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ endId: json.places[0].id });\n        }\n      });\n  }\n\n  writeTimeAndDate(timedate) {\n    this.setState({ timedate: timedate });\n  }\n\n  writeOptions(options) {\n    this.setState({ options: options });\n  }\n\n  writeApi(api) {\n    this.setState({api: api})\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              writeApi={this.writeApi}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          path=\"/form\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              writeApi={this.writeApi}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/form_result\"\n          render={props => (\n            <Result\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              writeApi={this.writeApi}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/old_wizard\"\n          render={props => (\n            <PlannerWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              writeApi={this.writeApi}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/old_wizard_result\"\n          render={props => (\n            <ResultWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              writeApi={this.writeApi}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/wizard\"\n          render={props => (\n            <PlannerContext\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              writeApi={this.writeApi}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/wizard_result\"\n          render={props => (\n            <ResultContext\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              writeApi={this.writeApi}\n              planner={this.state}\n            />\n          )}\n        />\n      \n      </Switch>);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from \"react-router-dom\";\nimport './index.css';\nimport App from \"./components/app/App\";\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\nserviceWorker.register();\n//serviceWorker.unregister();\n"],"sourceRoot":""}