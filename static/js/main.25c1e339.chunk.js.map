{"version":3,"sources":["assets/Next.png","assets/Bike.png","assets/Swap.png","assets/Add.png","assets/Remove.png","assets/Walker.png","assets/Transfer.png","assets/Waiting.png","assets/Car.png","assets/Normal.png","assets/Work.png","assets/School.png","assets/Doctor.png","components/app/Map.jsx","components/app/Header.jsx","components/app/Footer.jsx","components/app/OptionsSelect.jsx","components/api/SelectApi.jsx","components/api/Label.jsx","components/api/InputElement.jsx","components/api/SelectElement.jsx","components/api/ParametersPID.jsx","components/api/TransportPID.jsx","components/api/AccessibilityPID.jsx","components/api/PlannerPID.jsx","components/app/Planner.jsx","components/app/WizardSteps.jsx","components/api/PlannerWizardPID.jsx","components/app/PlannerWizard.jsx","components/app/Result.jsx","components/app/ResultWizard.jsx","components/app/ContextSteps.jsx","components/api/PlannerContextPID.jsx","components/app/PlannerContext.jsx","components/app/ResultContext.jsx","components/app/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","Map","props","state","mapbox","undefined","startMarker","viaMarker","endMarker","transferPopups","route","routeLayers","addTransferPopup","bind","clearTransferPopups","clearPath","addMarker","addPath","coords","map","this","popups","length","i","remove","popup","mapboxgl","Popup","setLngLat","setHTML","addTo","push","setState","lon","lat","type","place","console","log","info","offset","setText","marker","Marker","setPopup","layerId","removeLayer","removeSource","listCoords","numLayers","colors","flyTo","center","togglePopup","addLayer","id","source","data","properties","geometry","coordinates","layout","paint","accessToken","process","container","mapContainer","style","zoom","addControl","NavigationControl","ref","el","React","Component","Header","className","to","Footer","href","OptionSelect","handleAccess","handleParameters","handleTransport","e","preventDefault","optionBox","document","getElementsByClassName","children","display","target","setAttribute","Fragment","onClick","optionactive","title","SelectApi","handleOnChange","updateSelectedApi","value","onChange","defaultValue","disabled","Label","text","InputElement","isDefaultChecked","defaultChecked","name","SelectElement","ParametersPID","element","TransportPID","AccessibilityPID","PlannerPID","initialTimeDateSetup","handleFromInput","handleViaInput","handleToInput","handleSubmit","handleTimeAndDate","drawSuggestions","changeTransit","updateInputValues","swapInputFields","updateOptions","getOptions","from","suggestions","via","date","Date","initApiTime","getFullYear","getMonth","getDate","getHours","getMinutes","currentDate","currentTime","getElementById","timedate","options","api","setApi","start","startId","viaId","end","endId","timeInput","dateInput","time","substr","inputTimeDate","p","appendChild","createElement","li","createTextNode","childNodes","update","ready","viaSection","addViaEls","remViaEls","fromOld","directPath","checked","fastestRoute","lowWalkingRoute","numTransfers","timeToTransfer","transferDistance","traveler_type","walker","bike","car","means","metro","firstChild","tram","bus","train","fenicular","ferry","special","standard","baby","wheelchair","luggage","cyclist","action","onSubmit","placeholder","active","src","add_icon","alt","remove_icon","swap_icon","OptionsSelect","Planner","selectedApi","createRef","getStart","getVia","getEnd","getTimeAndDate","setReady","getStartStopPointId","getViaStopPointId","getEndStopPointId","writeStart","writeVia","writeEnd","writeStartId","writeViaId","writeEndId","writeTimeAndDate","writeOptions","bool","planner","WizardSteps","handlePreviousStep","handleNextStep","handleSearch","returnTask","step","prevBtnDisabled","nextBtnDisabled","currentStep","PlannerWizardPID","vialFrom","vialTo","PlannerWizard","Result","results","updateResults","selectedResult","resultRef","setInputValues","createResultItem","renderResults","drawJourney","drawStartPoint","drawViaPoint","drawEndPoint","fetchData","showJourneyDetails","url","headers","Headers","set","btoa","fetch","method","then","response","json","query","places","embedded_type","current","stop_area","coord","viaOn","JSON","stringify","journeys","resdiv","resitem","lastElementChild","removeChild","result_id","getAttribute","sections","routeCoords","transferCoords","possibleResults","geojson","color","display_informations","REACT_APP_COLOR_WALKING","mode","resultItem","deparr","departure_date_time","arrival_date_time","duration","Math","round","bike_icon","car_icon","walker_icon","next","next_icon","waiting","waiting_icon","vehicle","commercial_mode","code","innerHTML","transfer","transfer_icon","journey","l","detailsBtn","addEventListener","details","guide","section","detailId","resultNumber","label","checkSearch","checkViaRoute","checkResults","ResultWizard","ContextSteps","PlannerContextPID","context","travel_type","querySelector","weather","normal_icon","work_icon","school_icon","doctor_icon","freetime_icon","PlannerContext","ResultContext","App","thru","exact","path","render","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","URL","origin","contentType","get","status","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.25c1e339.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAABHNCSVQICAgIfAhkiAAAAN1JREFUKJGV0TFKQ0EQxvEf4gHeAQRzhHcE7SzjDSzs9QqewNjamDaCaBsU9AZqZat4AWNpo8XOwGNJNvGDBztv9z8z3wz0OMfIPzTHL74x3hSaBpTfLboWsIWfOM+wiGrP2GtBqQfF36vi71Hx2oTgPcCziE+jal+Dl4qX4+p/H0nS68mqSkO9BHgR8QSf2G1B8BUtziLewWR7DTRSVpCe5jhsVRoO4QP7OMjLehBdZM8BTFXLrtsb4yoeLXCEu2VtZKX7QfanOnutm8HjnNZaXQfwZsnmV6nbNHvqD6m+N2Pvvzt3AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAABBxJREFUWIXN2E1PIkkcBvBnGinBZKNtNy8NbXoO4sHDfIWZIyT4khiuawBDyB7WZDeTycRN4I6J7H4NT2rCjWzmC9hEbu6MiVGxgwqN8mbhpPawshnQgW5kxOcGVOf/SxXV9fIKg+c1gEWv1/u20Wj4KKUipVQAAELIFSHk0m63H56dnX0CsAvgeJAirwZ45rfJyclfCSFCKBSy+v3+cZ7n4Xa74Xa7AQCapkHTNOi6jkwmc7u9vd26u7u70nU9DSA9CLRvBEH4yHHcXTqdruXzeWY2BwcHbGtrq2axWFqCIHwYpu2N0+k8isfjFUqpaVh3ms0mi8ViFafT+RnA/JNkkiTFFEUpXVxcPBnWnWKxyGRZLns8nshAuNnZ2cTy8nJp6LKuBIPBks/n2zCNi0ajzR+NayccDt+Kovi7IZwkSbHn6LnuBIPBkpHhfqMoSl+cqqqMEMJUVTUMcLvdfdvIslxGr4njdDqP+k0IVVWZoigMAFMUxTASQN82mqYxl8v15VGcIAgf4/F4xQhOVVUGoOPzMICMMRaNRiuiKL5/ALRYLF97vee6Me2CRpFGgfV6nVmt1lYHjuf5jXQ6Xev1YCKR6EB8W1BVVZZIJIYCZIyxVCpVA7D+P3BqaurY7PJlpqDZ9qqqMp7nj9q+1w6H48ZUtR8MZIwxQRBqAGQOwGIoFLL2e/88d5aWlr4CWOS8Xu9bv98/PmpQd4LB4E8zMzPvuEaj4eN5ftSeBxEEAbVabY6jlIrtjeZLiiRJoJQ6OEqp8IKBIjdqSL9whJArTdNG7XiQ8/NzEEIuOULI5UsEFgoF2Gy2C25iYuJQ1/VRex6kVCrBbrcfcqenp58ymQwdNag7e3t7NycnJ38DgOJwOKqm1qEBli6z7aenp2sAvByA41ardZnP50fZYR1RVRWMMQ3AGQcAuq6ns9lsY5hFkskkcrnco7/lcjkkk8nvPpvNZhvlcvnPji/Hxsbumk3jBzn0GbJBN7jVapURQh7OCUEQPsRisethAbsxMHhEiEQi1wB+ebRrXS7X52KxODTgt0gYOGQVCgXmdrv/6fXXmZdluWyksCzLhoBt5Pj4eN9ziyRJFQBzvYDweDyRhYUFQ8hhJhAI6F6v9+eeuHZ8Pt9GOBy+fS7c6urqrcPhWO8v60T+8Rw9GQgEdNO4djweT0SW5bKmaUOHFQoFJklSxfCw9si8y+X6sra2dl2v158Mq1arLBKJXN/P1t4TwkxEUXxvtVpbm5ubdTOXRu3s7++zVCpVJ4RQw1dtGOwSfZ3n+XWO41wrKytjfr+fCIIASZIgSRKA/zabhUIB5XIZu7u7Nzs7OxbGmHa/fP1lptggwHZkAIszMzPvarXaHKXUQSkVAYAQcmmz2S7sdvvh/ZZpF8DZIEX+BXlY9mPXngHYAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAgFJREFUOI2llTtv2lAYhh8gGKXQbuYwRLIHhnbjMlfcIrFZCsr/gR8UyaqMuYm0ZKoqYvDULkS4G4aJyqqUUskdWipuBiV5FkuffB5/fs/n4xDBXAN5IUTZ87y3APF4/Nt8Pv8EWMDNoUWhA7XXsiwParXahaqqyUwmQyaTAcC2bWzbZjqdznVd/75YLIrAzyNNUYnFYo/9ft8/Rbfb9SVJWgGFg6Z0Oq2Vy+XlSdMOpVJpCRT3XjMWiz0GLbq/v/eHw2GgNBqNroBzgDCALMsD0zSloByazSbNZjMwJ8MwzoQQd2vhda1Wu6hUKseyPUq1WkXTNAW4CgN5VVWTz7b9Q1GUJJAPCyHK67F4CblcDiHEZSgejy8nk8mbVCoFgGVZe3kNBgMAisXtzdQ0jWw2C8BsNiOdTv84232S7/v4vr9X27zu1rcQQnxpt9tHZ63RaPj1ev3oPaZp+kKIz2HXdT/atv2UuA4yHo9xXfc2DFjT6XTxUqHjOAtgGAZudF13er3es2WtVgvDMB6AD+vaK0mSVkH5jEYj37KswPwikchvYO9LK5RKpScfDoVCYQm8D+q+GI1GV51O56TINM11Z1uyQwfsuRDiTtM0VVEUOZfL/R/e0WjEeDzGcZyFYRgPrusWgF+nhGuu+PsLuPQ87x1AIpH46rruLTDc3IBN/gCPT/yk/yllywAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAABHNCSVQICAgIfAhkiAAAAqtJREFUSIntlr9LG2EYx78Xgu/dBc/kIJqCOSUd7CB6hEALJYlbSxcdHLuUOphJobi4CNLBqX9AF8GlpSCSSoYOoqXXuLQEHEqW4hR60iRvfl0jJN7boabkx51eQju0+Blfjufzfp+H5+WAG/43uD6+9QBQAYRlWY5xHOellL43TfMzgE8Avv9JKXG73esA1hVFqUejUXc0GhVGRkZwfHzcPDo6+nFycuIhhLwzDOMpAL2PIJbECCG5WCxWPT09ZXZUq1W2urp6TgipAVgB4BrINj4+/lCSpNre3t6Fra2LbDbLpqenS2NjYy8HcUo8z+cPDw+d+n5TKBTY8PBwDcD9voyCILxZWloy+jZekkqlLnie/waAd5wyEAhU6/V6R6H5+XmWyWR6BJRSNjc3xyilHeeLi4sVWZafODISQh5tbGz0zDGTybCJiYkOMaWUqarKtre3ey6TTqdZOBx+60gaDAZf7OzsWLatXXyVkDHGdF1niqJ8dSQNBAJpTdMsC7XEwWCQTU1N2QpbiKJYh8X69ByYpnlLEATbS01OTkIUReTzeaiqemUAjuNcAKRrk0qS9NouQXtLrWbcTi6XYx6Pp3St8JKV5eXlnnWxmuFV4v39feb3+z86lcZnZ2eL3UXi8bjlDFvi7pXZ3Nw0eZ7fcip1+Xy+L5qmdaxNd9F2ut/lQqHARkdHKQDFqRQAbnu93pKu67YiO0zTZJFIpEoISfQj/BXX5Xo2MzNTOjs7cyxsNBoskUicC4KQ7lt4CQfguSiKtWQy2bhOmM1mWSgUKhFCNAD+QaUt7hJCcgsLC8Xd3V3WnrxSqbCDgwO2trZmDA0NlQE4aqnT3xU3gHuhUOixYRgPms2mX5KkJqX0wufzfSgWi6/K5XIKQG3QZE6QAdz5m4Ib/i1+AsudvqDWHe+XAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAApCAYAAADeWrJ9AAAABHNCSVQICAgIfAhkiAAAAoZJREFUSImtlk9sTUEUh7+iVNG+aLrQBGVjIaKiVJomSASJsBM2ojbdSd5SxUKIxKppLCysGjaIpq+x8G+BTYM0KQvdKGktaFoprYiiz7WYM5n77ps75s7rL7m5eXN+8915M3PODGRXDrgNfAE+A8+BjgBOmRqBX0CUeGaBY5WAVwALFrB+vgKHQuG9DrB+hkPhbz3gC6h/CMCS0C/5KAv8kYdnBLXgmbUMKJI+Jd+AAyFgrQbgjwU8BxypBLwJ6E9APwHPgD2h0FXAFWAesyM0/GAotAo4JaPTsEFgNPb7Xgh4JyohNGQMlX3NmHQvoua/IQv4GvBXID+A88ByiXVKewEz/92+4L2x0d4FmhLxPonlUfMdAROoKXSqCpPiV1M84xJvEf8EngvbJcZxoNoSb4nFtc5JW78LXAtMifFEiicv8b5YWzyp8mnwS2J44RhAQTydifYeSrfqmmTHO6gd0uaAa0DOEusCfkv8A7AtHqxB7e007ZOOrx2eHZgFngPqHN4SXZROvf/x1QMPgCFgqQ+4DnXSR8B139H46qSAddYeX0z4DYEOyHse2LVY8DGBtmLSfwpYVyl4g8C+o9K9GngpbSPAykrgZzBVUKsRk82DeBStNN0SyNlE+25M0lwOhU8KYKsldlpiRQKmZ4t0nnF43otnvy3ouhRdkLfrMvRY3q6aVKZ2TKFKVsG49NQUHJ4SbUcVngi4iXs36Kmb9gFvxtSRAfzukrPi3+gyNQEfxfgEdTf00UNSTjA9shzwFFiPOo2Oom5WPtKnl3VRa4FX8vU3wGpPqNZh6TtkC96X4CiwNiMYVL2PUBlbdmuYAd6hakaohoGfWP51s60xo+qFU6J/Fd7ZY+iuhegAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAApCAYAAABp50paAAAABHNCSVQICAgIfAhkiAAAA81JREFUaIHNmVuITlEUx3+GiTBj8CC5lsQLuSSaUhOPItc8qXnwMIxClFLyJFMe3ApJcgmFXEYJCQ8u82AaIURu5U6DcZtxOx722u39Hd855zvnO/s786/TOWfvtdb+77P3XnutfSBbzARuAi+At8CebOm4xRrgM+D5rg6gV4a8nGAp8JH/O6uvr9lRSx/dgCcEd9YDvgOrsiKYNkYAbYR32AMuuGi8zIXRzowsOvwMeB8h8wM4VwIuJUMd8Ing6dyWHTV3qEdtQf7OtgM9M+TlBLOAx5hOfgPeALuzJOUCo4GLmI7+kfs7SuhPxgHLgSqHbfQFtgK/MSO6TZ5/yX1OAruJuOsv/hKoSdBoGLoCS4BWzKgeB4agAgsPuCH3JF75NAm4HybXaWxO0HA+DALuWnYfANOs+nNSXotyVH+BoTHb2EcC7rtFuNFSbEFNl2JwwLK3GhVSanRHddJDTcf98rwhZhuJuGulxSL4zFJeHpOAxnjR/ynPfkyT+mZ5r5b3D8RzXom420qgvvgWS/EyMDwGCYAm0d0UUN8g9Q1W2UMpmxujnUTc/UoaszHR0Ed5LwRzRacVqAyQaRaZ6VbZMovomALbSsQ9SAnUFztlEWlGbTFBKMNMq/oAmSqUg2pHrWWNPpi0sR0VfkYhDvf7UhaqpLFXSHqER0P9UacY91BbUj4sFDvn89RVYLYaDzhG+OlHIdxPWtw3RilVkOv6rwMDQoyDWjODQ+r3YDx3EFZhgpRDIXJRI3yS3G0xdISrMdPzNbnrrRjoGHpshFw1KqBYGSITtob1EdInItZwOWrodZzbSHph5xyx2wFMSMFePi+9GTOqV4jw0iOB25ictDYFUjbOWGReAQOLtOffh59a9ldEKR1GnTR4wDVgWJFk/OgCfBH7ep9uIddTx0W+SOsWEZHWQUv4J7AWN6naZIzz6IcaYQ84WoRNfyy9pRClsyL8nPxhYFpYK+3skPfxmHh6XUKbegt7RYxsqQoVJPRI2Gih0GnofKtM78ke6hQkLsah1qrLXD4RumFG0x+pbZLy7xSfoXUa1GCclB9lwB2pP+GaSKnOkXTifylP3V/MPjq1NHTcogtmnc4IkdN/EoeUgpRL7ER15AfQO0TugsgtcEnG9ZRej0rzfqN+fof9Bm2S+xTHnJyhDnP2XMjhwQyRv+qSlCvMw+SgiwrUqcREe+WOeDlBDeZwfVlM3UeiNzFtUq4wCfVXIWm4qOP6oOOhToVBmKR7e0Ib9aJ/MC1SLjEdRXZXETZGo9b+kVQYlQBRxzaFYBQOE5l/GZ1woTNfSoAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAABHNCSVQICAgIfAhkiAAAAlFJREFUSInN1s1rVGcUx/HPc3VAQW2jIopiKGKrROPCFxQRF2IrRRcuAsmlreKISwU34kb0L9D8AQqCSdwquHAh+IaVFmlKIihaRVGx1NeFLmzGp4s7Aze3cyeJZuGBgTvnd+53zuH87nMHjuI14iR8ToT6xWTFoylow2pMmQRgb+PiR1z4DNBFfF9MvsbXnwCbi38aX/JjLsJC/DZB4D48lnU5Ktbj14k36HesKRPvY8kEYN/hTj5R3OwcrMCVcQIPYBBXG4lQKFgq2/a3PT09IyGEMiuN9Pf3V/AAW/CwISSFwnt4g7UhhD9bdDaIDXiehzUDwhn8JNves6IYQnheq9X21mvO/E9vApyDu5ibpukzLCgAn/b19S2qT9KOt2N1+FJmhW2yg+NWTvujVqsdwXZcK8LKOlQf5wf8nF9OjHFkYGCgggGcw9mS+5vGvyX5BB/KbiqzRVU2+vkmWpSZ/yu0csKouCGzRVlskjNzPqY2yS2XnTo3S8zdMPV82YNwLy82G/kQrnd3dy9LkqRdwTYxxqHOzs73Q0ND9+tTXBqrwyqWJEkyiMVFMYSwCsewDrdxOK8XfbgTl9M0bcPMJj/WiLaurq7puIkdrYBVnMTuGGOlBTBUKpVd9dpqXsiPPA9rZU9BfwhhRgvgLByUveBOYTZeMXop+3E7TdOP2FovbhV/d3R03BoeHn4nO2hvMHrkKk7GGI/jmzFg0J4kSa/C2A3gZjzBX+gYBwzEGFfKTqYX2JjXTuOX8YKaxJ56p8g8VfOl/7dZjmmTAOz9D5B5sfvj/7TdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAAABHNCSVQICAgIfAhkiAAAAvBJREFUaIHtmTFoFEEUhr9JFFKoaKEYECKIWIiwapki19keWtnIioVFLAIptLTQUrjSRi6llqKFnRswYKHsaqsQL2JhIbcnghLUsdhbvcvt253Z3bnkgh9Mkdu5///fzbu5ya6iHGeAk8CXku8vYj+wAbx1pP+XeeA7oMc0fvQ9nbExxmLS8c5VMYe3oZh0zJiGnLIo6JrF3Lq56EJ0ne1boSemIZXhvHnghXAtBL6aGhZwADib8fovkpbv1uTDA7I/ufW6DAb4KHhdr8tgBvgmmNysy2SAu4JXUJeBLxikbVA3pwW/38CROgxWBYOndYgLvBE8l6sKHxeENXCpqngOtwTP11WF7wjCXWBvVfEcjgm+GjhRVlQBnwTRVrW8RqwJ3rfLCl4QBDVwqmJYExYF7/dlBR8JgpX72JBDwE8hw3lbsYPApiC2WE9eI54JGe7ZCt0QhDZJih0XV4QcnzE/tgFJW2UJPawxrAn7kDulkfWGPVv+XiDZFs8JBq/6c8bJGtnhl0kKg+THH0iWzQPaSinPfTZ7tNa515VS6bwIuDoN3FdKZS7fJJAWpJQ6CswqpVT+R7ADyFultKCUqaIlnSS01sX3FBYWxr0HyDQao9+MkQXpt9zQ8H1fh2GoBwnDUPu+Lx2FnA2bLEopjVJKpwPQKysrOo92u60H3+NylMkyVFCz2cwVSGk2m86LKZtlqKAgCIxEgiBwXlDZLEMFxXFsJNLtdp0XVDbL0C4Xx7HRbtPr9YzmVaFslqGCoigyEjGdV4XSWQaXy/M8o2X2PM95y5XNwlYh3/fF/o3jWPu+77yYillGz3Jzc3MsLS3hef8O4FEU0Wq16HQ61XrJEtssmQVNMjbPhyaCXVeQAp5vea3on73angIYYpVn5M5J0XdKa211t6Uqtnl2Xcv9L2ins/sL0lqLR+m8a66wzZO1Qnnb8ri37CJPozwN6bBI8W+CC6zyTGcIfAAeA7Mkd/k7JA9xLwMvHQaXsMrzB3YecOdDp7k9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAyCAYAAADbTRIgAAAABHNCSVQICAgIfAhkiAAAA4RJREFUWIXtmM9LFFEcwD+7m1Yj7pLpIgnqxVMgQtExQpIyAyv2Pwi6VFRbWXro0LEg1uoY0bWTeBM7hHhYjDKhDbZOriutFsZCbrXW+jo8V8bnm52Z3dndSx94l++8H599Pr/vO+PDGQeBk8AA0AuEgXagAHwDMsBHYHqrZR3OWxYhIAb8BYTD9gd4BASrIXQOuQtOZdT2dWsOz7hdgYy5bQJRt4v7NLGnwGU12NnZyfDwMP39/fT09NDV1cXm5ibpdJpkMsnMzAyTk5MsLS3p1nkMXHMrVySK8mtDoZAYHx8XGxsbwo58Pi9isZgIBoO6XbtRjtAA8r9pe6KOjg6RSCRsZVQSiYRob29XpQrAKTdC+4A18yRtbW0ilUq5FiqyuLgowuGwKpYB9juVumse3NDQIObm5soWKhKPx0UgEFDFbjmVypgHjo2NVSxUZHR0VJX64kTomHlQOBwWuVzOM6lcLidaW1tVsaOlhPxAxByIRCIYhuF0h20xDINIJKKGL9hJHTEHhoaGPBMqMjg4qIaOlervBzrMgd7eXo+VoK+vTw0dKtXfB+SA7b9XPp+nsbHRU6n19XWam5vNoSxwwKq/H3nwqorPt+s221Oqvx9YNQcymYzHSrCysrIrVKq/H1libDM/P++xEiwsLKghW6m35sD09LTHSjA1NaWG3tuNOY0psQWDQZHNZj1Lnmtra7qqYcBOai+wbh40MjLimVQ0GlWFfgIBJzv8EOVCjsfjFQvNzs7qLuQHToRAFvnfUe7AdDpdtlAqlRItLS26ur3Z0kLDKTRFXjKZdC1UosizPUs6bioTiVAoJGKxmKty2DAMXTl83amE7sXhCXBFDaovDt3d3RQKhR0vDhMTEywvL+vWeQpcdSplxY5K1IN2qVKhIueBtEdSq5gu/UppAC4iM3ClYvedLqo7U1aEgSFkUXgY+aGjgPyw8QF4A7wCZoEezfjfQBfKXVsrzmC9W8/rIVTktYVUAbnLdeEwSiI2tdf1kgJ4YSElgF1vErXiEPDLQuozspbT4qiEKJMfyG8UxzXPDiLflN9VcX1LDGTidJVQq7lTIL9//gDOap41Ib/01eXgB5BnSLdbv5BJuS78T6hu+J9Q3eAooVY7JajYJdT3wKeaGm1RKqGOQ4n7p4r8BO5ZPPtYSxEVPzDFzl16Ru2P0y6agDvAS+BEnV3s+QfWRa3X7QmX6wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAyCAYAAADm33NGAAAABHNCSVQICAgIfAhkiAAAAPpJREFUaIHtmUEOgkAMRd+gR/AUbryMnmfgkBK4gpfAhWHjoIK0A+n0JeyAzuOnpAyB/xlWXLuGsPSCSmMVe8MlrXCUutEw6LRoCItbMKGIJF3SCi5phSIkAa5Ax2tMs3Z0wC0Ad+As9cR2SBvYbtDORhE9mYx1WuNZTt5HwSKSdEkruKQVXNIKRUiK7fF8Ys4ejfYAkkjWda1acArtmtkG9Km0JHbi5pAkGWMULdA0zc9ztGsmSUr3x5jWtyS1ao7421WSXP03hScpwR4+wotI0iWt4JJWcEkruKQVXNIKLmkF/wlrhQpot16EMu0BeAAX4LTxYjTogfgEdpljkghB7DwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAA0CAYAAAAUnx+bAAAABHNCSVQICAgIfAhkiAAAA+FJREFUeJzt3M9rHGUcx/HXmrVRLGX9fVAw4NGDPYgFiSagHsRCQ4NQEbToP6B/QRS8eTCHnkQwQlEwNUQR8SCYEEFPkoD0Iv4qUiqItmAtGuN6+M50J5tkkk1mdzKbfcNDZmcm8zz55PnxfT7zTWrK5yGcxNO4lpQqcRPuwL94tl5CA27AI0LEZ3BvCW3oFuO1HlVUxzgmhZB3Za6t4Xdcxl9o9qhNnXIzbsMRDGfOr+E8zuCtbjZgGMfxjhCsmSmruISLbeerUq5hBu8nn6fSH7roIX8LnhI98TgOZ66tJg05ktR7d8F1d5tf8SU+w9vJuan2m4oQtCHEmxRitg+HoeT4xqRUiVTE17G8k2/YraB3YkLMh0+0PWdVS7gh1eN7nMW8HYqYpRNB7xECnsRjYrVO+QeHkuOq9UJCxDNCxJ/28qDtBL1fCDiJYzn3Hcq5tl8pTMQsmwn6gFZ482BRFe0TPhICzoswrXCygp7CG9YH2k30KlbtFl0XMUsq6ATes1G8Kop5FeewoEciZqmLsOdNiXijo6OGhqq3OC8uLqaHh/Pu6zbplnAkPbG0tFRea/ZArVbqYDqGL/BKXQz3AZ1xFC+IdYfY0MB4XaZ3DsglFXHCRs2W8Rrm6/ovNCqSMSFgu4hXxII3LHppGkVcX5QGtDihJWJWm5+FaDNaW9KumCP9QCci5lLHioM37BtaIo5bL+KK1hDelTnS08C3RLIitkc2K6IXFmKOzIvJtx8ZsX5hyVKYiFnqYovWT4yInnhahDpZemKOLONdEWOZnp7uRj295Me2zz01R1KeU/6Lr6LKZTGUT+t+SDhlk5d0DfHOBIyNVXM6zZgjpcbVG8yRhYVqTqklmyOP42G8PDBHOieb+fJScu7R5OvHA3NkZ+RlvhCZI69idmCObM0wnhQinsCtmWtX8Il4TX4KH2CWgTnSTl7my28i9JrD5yL/YGCObEJe5stFIeAcFvHfdg87qOZIXubLD0LAD/F1pw8+SOZIXubLeSHgnF04TFn63RzJy3z5Rog4i++KqrAfzZGtMl+a+EqIeA4XulF5P5oj32aO10SHSReWS71qREP5pkZR5W8RI75ofezYDTY1R4hdAPrCHLkdf5bYFA3hITbRrCpaPbSXpD30U5E5cnSD2zRgR+Rmjgzcpp2xVebIVfGHDGclmSOD3rk122WOXM8YSanhDxmDJKaj6pExmPfqNO8p6aGmbSI/oIIWmjlyEOlq5shBcZt6ljnSz25TKZkj/eY2lZ45ss5tqupr5Az7InNkRvmmRhUzRzaQhhgN8Zu8D7+If/dQRS7g+TIb8D9TF3iHystS6gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAJJJREFUaIHt2UEKhDAQBdHfg/fWOXnPYvQC0mAZ6oG4MrGCm5hK0lnAdt5rYrC+sSg1M3d/BgZBMITGEBpDaAyhMYTGEBpDaJYJ2ZKkk+OpF5iYu86r377XrSz0aRlCYwiNITSG0BhCc/2N/w6Nt994ZmLuvfI/CvBYgcIQGkNoDKExhMYQGkNoDKFZJuTaWL3eD1s0EGJwGEPVAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nclass Map extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mapbox: undefined,\r\n      startMarker: undefined,\r\n      viaMarker: undefined,\r\n      endMarker: undefined,\r\n      transferPopups: [],\r\n      route: undefined,\r\n      routeLayers: undefined\r\n    };\r\n    this.addTransferPopup = this.addTransferPopup.bind(this);\r\n    this.clearTransferPopups = this.clearTransferPopups.bind(this);\r\n    this.clearPath = this.clearPath.bind(this);\r\n    this.addMarker = this.addMarker.bind(this);\r\n    this.addPath = this.addPath.bind(this);\r\n  }\r\n\r\n  addTransferPopup(coords) {\r\n    var map = this.state.mapbox;\r\n    var popups = [];\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n    if (coords !== undefined && coords[0][0] !== undefined && coords[0][1] !== undefined) {\r\n      for (let i = 0; i < coords.length; i++) {\r\n        var popup = new mapboxgl.Popup({\"className\":\"transferPopup\"}).setLngLat([coords[i][0], coords[i][1]]).setHTML(\"Přestup\").addTo(map);\r\n        popups.push(popup);\r\n      }\r\n    }\r\n    this.setState({transferPopups: popups})\r\n  }\r\n\r\n  clearTransferPopups() {\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n  }\r\n\r\n  addMarker(lon, lat, type, place) {\r\n    console.log(\"now\");\r\n    console.log(place)\r\n    switch (type) {\r\n      case 0:\r\n        if (this.state.startMarker !== undefined) {\r\n          this.state.startMarker.remove();\r\n        }\r\n        break;\r\n      case 1:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      case 2:\r\n        if (this.state.endMarker !== undefined) {\r\n          this.state.endMarker.remove();\r\n        }\r\n        break;\r\n      case 3:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    var map = this.state.mapbox;\r\n    if (lon !== undefined && lat !== undefined) {\r\n      switch (type) {\r\n        case 0:\r\n          var info = new mapboxgl.Popup({offset:30}).setText(\"Začátek trasy: \"+place);\r\n          var marker = new mapboxgl.Marker({\"color\":\"#ff0000\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ startMarker: marker });\r\n          break;\r\n        case 1:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Průjezd přes: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#fff400\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ viaMarker: marker });\r\n          break;\r\n        case 2:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Cíl trasy: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#00abff\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ endMarker: marker });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  clearPath() {\r\n    var map = this.state.mapbox;\r\n    if (this.state.routeLayers !== undefined) {\r\n      for (let i = 0; i < this.state.routeLayers; i++) {\r\n        var layerId = \"path_layer_\"+i;\r\n        map.removeLayer(layerId);\r\n        map.removeSource(layerId);\r\n      }\r\n      this.setState({mapbox: map, routeLayers: 0});\r\n    }\r\n  }\r\n\r\n  addPath(listCoords, numLayers, colors) {\r\n    var map = this.state.mapbox;\r\n    map.flyTo({center: [listCoords[0][0][0], listCoords[0][0][1]]});\r\n    this.state.startMarker.togglePopup();\r\n    this.state.endMarker.togglePopup();\r\n    for (let i = 0; i < numLayers; i++) {\r\n      var layerId = \"path_layer_\"+i;\r\n      map.addLayer({\r\n        id: layerId,\r\n        type: \"line\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"Feature\",\r\n            properties: {},\r\n            geometry: {\r\n              type: \"LineString\",\r\n              coordinates: listCoords[i]\r\n            }\r\n          }\r\n        },\r\n        layout: {\r\n          \"line-join\": \"round\",\r\n          \"line-cap\": \"round\"\r\n        },\r\n        paint: {\r\n          \"line-color\": colors[i] !== undefined ? colors[i] : \"#888\",\r\n          \"line-width\": 6\r\n          \r\n        }\r\n      });\r\n      \r\n    }\r\n    this.setState({ mapbox: map });\r\n    this.setState({ routeLayers: numLayers });\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN;\r\n    var map = new mapboxgl.Map({\r\n      container: this.mapContainer,\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: [14.42076, 50.08804],\r\n      zoom: 12\r\n    });\r\n    map.addControl(new mapboxgl.NavigationControl());\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.mapbox !== undefined) {\r\n      this.state.mapbox.remove();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    /*\r\n      const style = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: '50%',\r\n        bottom: 0,\r\n        width: '50%'    \r\n      };\r\n      */\r\n    return <div id=\"map\" ref={el => (this.mapContainer = el)} />;\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"header\">\r\n        <label className=\"headerLabel\">Prototyp webového klienta vyhledávače intermodálních dopravích spojení:</label>\r\n        <label className=\"headerLabel\"><Link to=\"/form\">Formulářový typ</Link>/<Link to=\"/wizard\">Klient typu Wizard</Link>/<Link to=\"/context\">Context</Link></label>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nclass Footer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <footer>Vytvořil <a href=\"mailto:hlavaj28@fel.cvut.cz\">Jan Hlaváč</a> pro <a href=\"https://www.fel.cvut.cz/\">FEL ČVUT</a> v rámci závěrečné práce v akademickém roce 2019/2020.</footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nclass OptionSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleAccess = this.handleAccess.bind(this);\r\n    this.handleParameters = this.handleParameters.bind(this);\r\n    this.handleTransport = this.handleTransport.bind(this);\r\n  }\r\n\r\n  handleParameters(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    if (optionBox[0].children[0].style.display === \"none\") {\r\n      optionBox[0].children[0].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[0].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleTransport(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[1].style.display === \"none\") {\r\n      optionBox[0].children[1].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[1].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleAccess(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[2].style.display === \"none\") {\r\n      optionBox[0].children[2].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[2].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <button onClick={this.handleParameters} optionactive=\"false\" title=\"Volba parametrů spoje\">Parametry spojení</button>\r\n        <button onClick={this.handleTransport} optionactive=\"false\" title=\"Výběr dopravních prostředků\">Dopravní prostředky</button>\r\n        <button onClick={this.handleAccess} optionactive=\"false\" title=\"Charakteristika cestujícího\">Přístupnost</button>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OptionSelect;","import React from \"react\";\r\n\r\nclass SelectApi extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleOnChange = this.handleOnChange.bind(this)\r\n  }\r\n\r\n  handleOnChange(e) {\r\n    this.props.updateSelectedApi(e.target.value)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment><label className=\"textLabel\">Oblast:</label>\r\n      <select id=\"api_select\" onChange={this.handleOnChange} defaultValue=\"pid\">\r\n        <option value=\"dpmul\" disabled={true}>DÚK</option>\r\n        <option value=\"pid\">PID</option>\r\n        <option value=\"ids-liberec\" disabled={true}>IDS Liberec</option>\r\n      </select>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SelectApi;","import React from \"react\";\r\n\r\nclass Label extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <label className={this.props.className} title={this.props.title}>{this.props.text}</label>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Label;\r\n","import React from \"react\";\r\n\r\nclass InputElement extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n    this.isDefaultChecked = this.isDefaultChecked.bind(this);\r\n  }\r\n\r\n  isDefaultChecked() {\r\n    if (this.props.defaultChecked === true) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <label>\r\n          <input\r\n            type={this.props.type}\r\n            name={this.props.name}\r\n            className={this.props.className}\r\n            id={this.props.id}\r\n            defaultChecked = {this.isDefaultChecked()}\r\n          ></input>\r\n          {this.props.text}\r\n      </label>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default InputElement;\r\n","import React from \"react\";\r\n\r\nclass SelectElement extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n    this.isDefaultChecked = this.isDefaultChecked.bind(this);\r\n  }\r\n\r\n  isDefaultChecked() {\r\n    if (this.props.defaultChecked === true) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <label className=\"transfersLabel\">{this.props.text}</label>\r\n        <select\r\n          type={this.props.type}\r\n          name={this.props.name}\r\n          className={this.props.className}\r\n          id={this.props.id}\r\n          defaultChecked={this.isDefaultChecked()}\r\n        >\r\n        </select>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SelectElement;\r\n","import React from \"react\";\r\nimport Label from \"./Label\";\r\nimport InputElement from \"./InputElement\";\r\nimport SelectElement from \"./SelectElement\";\r\n\r\nclass ParametersPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n      className=\"optionsSettings\"\r\n      id=\"options-box-parameters\"\r\n      display=\"none\"\r\n    >\r\n      <Label className={\"optionTitle\"} text={\"Trasa\"}></Label>\r\n      <InputElement element={\"input\"} type={\"radio\"} name={\"route\"} className={\"route\"} id={\"fastestRoute\"} text={\"Nejrychlejší\"} defaultChecked={true}></InputElement>\r\n      <InputElement element={\"input\"} type={\"radio\"} name={\"route\"} className={\"route\"} id={\"lowWalkingRoute\"} text={\"Nejméně pěsí chůze\"} defaultChecked={false}></InputElement>\r\n      <Label className={\"optionTitle\"} text={\"Přestupy\"}></Label>\r\n      <SelectElement text={\"Maximální počet přestupů:\"}></SelectElement>\r\n      <Label className={\"transfersLabel\"} text={\"Maximální počet přestupů\"}></Label>\r\n      <select defaultValue=\"-1\" id=\"numTransfers\">\r\n        <option value=\"-1\">Neomezeno</option>\r\n        <option value=\"0\">0</option>\r\n        <option value=\"1\">1</option>\r\n        <option value=\"2\">2</option>\r\n        <option value=\"3\">3</option>\r\n        <option value=\"4\">4</option>\r\n        <option value=\"5\">5</option>\r\n      </select>\r\n      <Label className={\"transfersLabel\"} text={\"Čas na přestup:\"}></Label>\r\n      <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n        <option value=\"5\">Alespoň 5 minut</option>\r\n        <option value=\"10\">Alespoň 10 minut</option>\r\n        <option value=\"15\">Alespoň 15 minut</option>\r\n      </select>\r\n      <Label className={\"transfersLabel\"} text={\"Maximální vzdálenost mezi přestupy:\"}></Label>\r\n      <select defaultValue=\"100m\" id=\"transferDistance\">\r\n        <option value=\"100\">100 m</option>\r\n        <option value=\"200\">200 m</option>\r\n        <option value=\"300\">300 m</option>\r\n      </select>\r\n      <br></br>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ParametersPID;\r\n","import React from \"react\";\r\nimport Label from \"./Label\";\r\nimport InputElement from \"./InputElement\";\r\n//import SelectElement from \"./SelectElement\";\r\n\r\nclass TransportPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"optionsSettings\"\r\n        id=\"options-box-transport\"\r\n        display=\"none\"\r\n      >\r\n        <Label className={\"optionTitle\"} text={\"Na trase chci využít\"}></Label>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"ownTransport\"} className={\"traveler_type\"} id={\"walker\"} text={\"Pouze peší chůze\"} defaultChecked={true}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"ownTransport\"} className={\"traveler_type\"} id={\"cyclist\"} text={\"Kolo nebo koloběžku\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"ownTransport\"} className={\"traveler_type\"} id={\"motorist\"} text={\"Osobní automobil\"} defaultChecked={false}></InputElement>\r\n        <Label className={\"optionTitle\"} text={\"Výběr dopravních prostředků\"}></Label>\r\n        <div className=\"optionMeans\">\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n            Metro\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n            Tramvaj\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n            Autobus\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n            Příměstský vlak\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Funicular\" defaultChecked></input>\r\n            Lanovka\r\n          </label>\r\n          <label className=\"means\">\r\n            <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n            Přívoz\r\n          </label>\r\n        </div>\r\n        <Label className={\"optionTitle\"}  title={\"Momentálně nedostupné\"} text={\"Doplňkové služby\"}></Label>\r\n        <label title=\"Momentálně nedostupné\">\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"journeyFeature\"\r\n            id=\"taxi\"\r\n            disabled\r\n          ></input>\r\n          Taxi\r\n        </label>\r\n        <label title=\"Momentálně nedostupné\">\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"journeyFeature\"\r\n            id=\"uber\"\r\n            disabled\r\n          ></input>\r\n          UBER\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TransportPID;\r\n","import React from \"react\";\r\nimport Label from \"./Label\";\r\nimport InputElement from \"./InputElement\";\r\n//import SelectElement from \"./SelectElement\";\r\n\r\nclass AccessibilityPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"optionsSettings\" id=\"options-box-access\" display=\"none\">\r\n        <Label className={\"optionTitle\"} text={\"Jsem cestující\"}></Label>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"standard\"} text={\"Bez dalších potřeb\"} defaultChecked={true}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"slow_walker\"} text={\"S kočárkem\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"wheelchair\"} text={\"S vozíčkem\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"luggage\"} text={\"S těžkými zavazadly\"} defaultChecked={false}></InputElement>\r\n        <InputElement element={\"input\"} type={\"radio\"} name={\"transportRequest\"} className={\"traveler_type\"} id={\"cyclist\"} text={\"S kolem do MHD\"} defaultChecked={false}></InputElement>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AccessibilityPID;\r\n","import React from \"react\";\r\nimport OptionsSelect from \"../app/OptionsSelect\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport ParametersPID from \"./ParametersPID\";\r\nimport TransportPID from \"./TransportPID\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\nimport AccessibilityPID from \"./AccessibilityPID\";\r\n\r\nclass PlannerPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false\r\n    };\r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 0; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n  handleSubmit(e) {\r\n    if (document.getElementById(\"input_from\").value.length < 1 || document.getElementById(\"input_to\").value.length < 1) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/form_result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n        onClick={this.getOptions}\r\n      >\r\n        <div className=\"plannerBox\">\r\n          <div className=\"box\" id=\"searchBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Odkud:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_from\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte počáteční bod\"\r\n                onChange={this.handleFromInput}\r\n              ></input>\r\n            </div>\r\n            <p id=\"suggestions\"></p>\r\n            <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n              <label className=\"addVia\" onClick={this.changeTransit}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={add_icon}\r\n                  alt=\"+\"\r\n                  title=\"Přidat průjezdní bod\"\r\n                ></img>\r\n                <label id=\"addViaText\">Přidat průjezd</label>\r\n              </label>\r\n              <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={remove_icon}\r\n                  alt=\"×\"\r\n                  onClick={this.changeTransit}\r\n                  title=\"Odebrat průjezdní bod\"\r\n                ></img>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_via\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte průjezdový bod\"\r\n                  onChange={this.handleViaInput}\r\n                ></input>\r\n              </label>\r\n              <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                <img\r\n                  className=\"clickable\"\r\n                  src={swap_icon}\r\n                  alt=\"[SWAP]\"\r\n                  title=\"Prohodit Start a Cíl\"\r\n                ></img>\r\n              </label>\r\n            </div>\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Kam:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_to\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte cílový bod\"\r\n                onChange={this.handleToInput}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"box\" id=\"timeBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Datum a čas:</label>\r\n              <input\r\n                id=\"input_date\"\r\n                type=\"date\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n              <input\r\n                id=\"input_time\"\r\n                type=\"time\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"directPathBox\">\r\n            <label className=\"inputFieldDiv\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"directPath\"\r\n                onChange={this.getOptions}\r\n              ></input>\r\n              Pouze přímý spoj\r\n            </label>\r\n          </div>\r\n          <div className=\"options\">\r\n            <OptionsSelect></OptionsSelect>\r\n            <div className=\"options-box\">\r\n              <ParametersPID></ParametersPID>\r\n              <TransportPID></TransportPID>\r\n              <AccessibilityPID></AccessibilityPID>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\n\r\nclass Planner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/form_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"results\">\r\n                <PlannerPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerPID setApi={this.updateSelectedApi}></PlannerPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Planner;\r\n","import React from \"react\";\r\n\r\nclass WizardSteps extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handlePreviousStep = this.handlePreviousStep.bind(this);\r\n    this.handleNextStep = this.handleNextStep.bind(this);\r\n    this.handleTransport = this.handleSearch.bind(this);\r\n    this.returnTask = this.returnTask.bind(this);\r\n    this.state = { step: 0, prevBtnDisabled: false, nextBtnDisabled: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.step === 0) {\r\n      this.setState({ prevBtnDisabled: true });\r\n    }\r\n  }\r\n\r\n  handlePreviousStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 0) {\r\n      this.setState({ nextBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep - 1].style.display = \"block\";\r\n      this.setState({ step: currentStep - 1 });\r\n      if (currentStep - 1 === 0) {\r\n        this.setState({ prevBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go back\");\r\n    }\r\n  }\r\n\r\n  handleNextStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 4) {\r\n      this.setState({ prevBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep + 1].style.display = \"block\";\r\n      this.setState({ step: currentStep + 1 });\r\n      if (currentStep + 1 === 4) {\r\n        this.setState({ nextBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go forth\");\r\n    }\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  returnTask() {\r\n    switch (this.state.step) {\r\n      case 0:\r\n        return \"Zvolte základní hodnoty pro vyhledání Vašeho spoje\";\r\n      case 1:\r\n        return \"Vyberte si parametry Vaší trasy\";\r\n      case 2:\r\n        return \"Vyberte Vámi preferovaný způsob dopravy\";\r\n      case 3:\r\n        return \"V případě dalších požadavků na spoj zvolte níže\";\r\n      case 4:\r\n        return \"Po kontrole Vašeho zadání vyhledejte odpovídající spoj\";\r\n      default:\r\n        return \"Chyba v programu\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"wizardSteps\">\r\n        <div className=\"wizardTasks\">\r\n          <label><b>Krok {this.state.step + 1} z 5</b></label>\r\n          <label>{this.returnTask()}</label>\r\n        </div>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <button\r\n                  onClick={this.handlePreviousStep}\r\n                  id=\"prev\"\r\n                  disabled={this.state.prevBtnDisabled}\r\n                >\r\n                  Předchozí krok\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  onClick={this.handleNextStep}\r\n                  id=\"next\"\r\n                  disabled={this.state.nextBtnDisabled}\r\n                >\r\n                  Další krok\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WizardSteps;\r\n","import React from \"react\";\r\nimport WizardSteps from \"../app/WizardSteps\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\n\r\nclass PlannerWizardPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //STATE\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false,\r\n      date: \"\",\r\n      time: \"\",\r\n      directPath: false,\r\n      fastestRoute: false,\r\n      numTransfers: \"\",\r\n      traveler_type: \"pouze peší chůze\",\r\n      special: \"bez dalších potřeb\"\r\n    };\r\n    //BINDINGS\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n  \r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.setState({date: currentDate, time: currentTime});\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 1; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    this.setState({date: timeInput.value, time: timeInput.value});\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    this.setState({vialFrom: this.state.from, vialTo: this.state.to});\r\n    if (document.getElementById(\"input_from\").value.length < 1 || document.getElementById(\"input_to\").value.length < 1) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    if (options.directPath) {this.setState({directPath: true})};\r\n    if (options.fastestRoute) {this.setState({fastestRoute: true})};\r\n    if (options.numTransfers > 0) {this.setState({numTransfers: options.numTransfers})} else {this.setState({numTransfers: \"neomezeným počtem\"})};\r\n    if (options.traveler_type.walker) {this.setState({traveler_type: \"pouze peší chůze\"})};\r\n    if (options.traveler_type.bike) {this.setState({traveler_type: \"kola nebo koloběžky\"})};\r\n    if (options.traveler_type.car) {this.setState({traveler_type: \"osobního automobilu\"})};\r\n    if (options.special.standard) {this.setState({special: \"bez dalších potřeb\"})};\r\n    if (options.special.baby) {this.setState({special: \"s kočárkem\"})};\r\n    if (options.special.wheelchair) {this.setState({special: \"s vozíčkem\"})};\r\n    if (options.special.luggage) {this.setState({special: \"s těžkými zavazadly\"})};\r\n    if (options.special.cyclist) {this.setState({special: \"s kolem do MHD\"})};\r\n\r\n\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n      >\r\n        <div className=\"options\">\r\n          <WizardSteps step={this.state.step}></WizardSteps>\r\n          <div className=\"options-box\">\r\n            <div id=\"options-box-main\" display=\"block\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Odkud:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_from\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte počáteční bod\"\r\n                onChange={this.handleFromInput}\r\n              ></input>\r\n            </div>\r\n            <p id=\"suggestions\"></p>\r\n            <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n              <label className=\"addVia\" onClick={this.changeTransit}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={add_icon}\r\n                  alt=\"+\"\r\n                  title=\"Přidat průjezdní bod\"\r\n                ></img>\r\n                <label id=\"addViaText\">Přidat průjezd</label>\r\n              </label>\r\n              <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={remove_icon}\r\n                  alt=\"×\"\r\n                  onClick={this.changeTransit}\r\n                  title=\"Odebrat průjezdní bod\"\r\n                ></img>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_via\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte průjezdový bod\"\r\n                  onChange={this.handleViaInput}\r\n                ></input>\r\n              </label>\r\n              <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                <img\r\n                  className=\"clickable\"\r\n                  src={swap_icon}\r\n                  alt=\"[SWAP]\"\r\n                  title=\"Prohodit Start a Cíl\"\r\n                ></img>\r\n              </label>\r\n            </div>\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Kam:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_to\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte cílový bod\"\r\n                onChange={this.handleToInput}\r\n              ></input>\r\n            </div>\r\n            <div className=\"box\" id=\"timeBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Datum a čas:</label>\r\n              <input\r\n                id=\"input_date\"\r\n                type=\"date\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n              <input\r\n                id=\"input_time\"\r\n                type=\"time\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"directPathBox\">\r\n            <label className=\"inputFieldDiv\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"directPath\"\r\n                onChange={this.getOptions}\r\n              ></input>\r\n              Pouze přímý spoj\r\n            </label>\r\n          </div>\r\n          </div>\r\n            <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-parameters\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Trasa</label>\r\n                <br />\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"fastestRoute\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Nejrychlejší\r\n                  <br />\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"lowWalkingRoute\"\r\n                  ></input>\r\n                  Nejméně pěší chůze\r\n                  <br />\r\n                </label>\r\n                <label className=\"optionTitle\">Přestupy</label>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální počet přestupů:\r\n                </label>\r\n                <select defaultValue=\"-1\" id=\"numTransfers\">\r\n                  <option value=\"-1\">Neomezeno</option>\r\n                  <option value=\"0\">0</option>\r\n                  <option value=\"1\">1</option>\r\n                  <option value=\"2\">2</option>\r\n                  <option value=\"3\">3</option>\r\n                  <option value=\"4\">4</option>\r\n                  <option value=\"5\">5</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">Čas na přestup:</label>\r\n                <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n                  <option value=\"5\">Alespoň 5 minut</option>\r\n                  <option value=\"10\">Alespoň 10 minut</option>\r\n                  <option value=\"15\">Alespoň 15 minut</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální vzdálenost mezi přestupy:\r\n                </label>\r\n                <select defaultValue=\"100m\" id=\"transferDistance\">\r\n                  <option value=\"100\">100 m</option>\r\n                  <option value=\"200\">200 m</option>\r\n                  <option value=\"300\">300 m</option>\r\n                </select>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-transport\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Na trase chci využít</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"walker\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Pouze peší chůze\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  Kolo nebo koloběžku\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"motorist\"\r\n                  ></input>\r\n                  Osobní automobil\r\n                </label>\r\n                <label className=\"optionTitle\">\r\n                  Výběr dopravních prostředků\r\n                </label>\r\n                <div className=\"optionMeans\">\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n                    Metro\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n                    Tramvaj\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n                    Autobus\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n                    Příměstský vlak\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"Funicular\"\r\n                      defaultChecked\r\n                    ></input>\r\n                    Lanovka\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n                    Přívoz\r\n                  </label>\r\n                </div>\r\n                <label className=\"optionTitle\" title=\"Momentálně nedostupné\">\r\n                  Doplňkové služby\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"taxi\"\r\n                    disabled\r\n                  ></input>\r\n                  Taxi\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"uber\"\r\n                    disabled\r\n                  ></input>\r\n                  UBER\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-access\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Jsem cestující</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"standard\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Bez dalších potřeb\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"slow_walker\"\r\n                  ></input>\r\n                  S kočárkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"wheelchair\"\r\n                  ></input>\r\n                  S vozíčkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"luggage\"\r\n                  ></input>\r\n                  S těžkými zavazadly\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  S kolem do MHD\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-summary\"\r\n                display=\"none\">\r\n                  <label className=\"optionTitle\">\r\n                    Souhrn před zobrazením výsledků:\r\n                  </label>\r\n                  <label className=\"summaryText\">\r\n                    <label><b>Spoj z: </b>{this.state.vialFrom}<b> do: </b>{this.state.vialTo}</label>\r\n                    <label><b>Datum: </b>{this.state.date}<b> v </b>{this.state.time}</label>\r\n                    <label><b>Trasa s max </b>{this.state.numTransfers > 0 ? this.state.numTransfers : \"neomezenými\"}<b> přestupy</b></label>\r\n                    <label><b>S využitím: </b>{this.state.traveler_type}</label>\r\n                    <label><b>Pro cestující: </b>{this.state.special}</label>\r\n                  </label>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerWizardPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\n\r\nclass PlannerWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/wizard_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerWizardPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID setApi={this.updateSelectedApi}></PlannerWizardPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlannerWizard;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass Result extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length < 0) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    for (\r\n      let i = 0;\r\n      i < document.getElementsByClassName(\"optionsSettings\").length;\r\n      i++\r\n    ) {\r\n      document.getElementsByClassName(\"optionsSettings\")[i].style.display =\r\n        \"none\";\r\n    }\r\n    if (this.state.results !== undefined) {\r\n      for (\r\n        let resultNumber = 0;\r\n        resultNumber < this.state.results.length;\r\n        resultNumber++\r\n      ) {\r\n        let label = document.createElement(\"label\");\r\n        label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n        let resultItem = this.createResultItem(\r\n          this.state.results[resultNumber],\r\n          resultNumber\r\n        );\r\n        label.appendChild(resultItem);\r\n        resdiv.appendChild(label);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass ResultWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      viaId: \"no_point\",\r\n      endId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length < 0) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    if (this.state.results !== undefined) {\r\n    for (\r\n      let resultNumber = 0;\r\n      resultNumber < this.state.results.length;\r\n      resultNumber++\r\n    ) {\r\n      let label = document.createElement(\"label\");\r\n      label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n      let resultItem = this.createResultItem(\r\n        this.state.results[resultNumber],\r\n        resultNumber\r\n      );\r\n      label.appendChild(resultItem);\r\n      resdiv.appendChild(label);\r\n    }\r\n  }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerWizardPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerWizardPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultWizard;\r\n","import React from \"react\";\r\n\r\nclass ContextSteps extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handlePreviousStep = this.handlePreviousStep.bind(this);\r\n    this.handleNextStep = this.handleNextStep.bind(this);\r\n    this.handleTransport = this.handleSearch.bind(this);\r\n    this.returnTask = this.returnTask.bind(this);\r\n    this.state = { step: 0, prevBtnDisabled: false, nextBtnDisabled: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.step === 0) {\r\n      this.setState({ prevBtnDisabled: true });\r\n    }\r\n  }\r\n\r\n  handlePreviousStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 0) {\r\n      this.setState({ nextBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep - 1].style.display = \"block\";\r\n      this.setState({ step: currentStep - 1 });\r\n      if (currentStep - 1 === 0) {\r\n        this.setState({ prevBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go back\");\r\n    }\r\n  }\r\n\r\n  handleNextStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 4) {\r\n      this.setState({ prevBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep + 1].style.display = \"block\";\r\n      this.setState({ step: currentStep + 1 });\r\n      if (currentStep + 1 === 4) {\r\n        this.setState({ nextBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go forth\");\r\n    }\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  returnTask() {\r\n    switch (this.state.step) {\r\n      case 0:\r\n        return \"Zvolte základní hodnoty pro vyhledání Vašeho spoje\";\r\n      case 1:\r\n        return \"Jaký je účel vaší cesty?\";\r\n      case 2:\r\n        return \"Preferujete určitý způsob dopravy?\";\r\n      case 3:\r\n        return \"Jaká je Vaše situace?\";\r\n      case 4:\r\n        return \"Jaké jsou meteorologické podmínky?\";\r\n      default:\r\n        return \"Chyba v programu\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"wizardSteps\">\r\n        <div className=\"wizardTasks\">\r\n          <label><b>Krok {this.state.step + 1} z 5</b></label>\r\n          <label>{this.returnTask()}</label>\r\n        </div>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <button\r\n                  onClick={this.handlePreviousStep}\r\n                  id=\"prev\"\r\n                  disabled={this.state.prevBtnDisabled}\r\n                >\r\n                  Předchozí krok\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  onClick={this.handleNextStep}\r\n                  id=\"next\"\r\n                  disabled={this.state.nextBtnDisabled}\r\n                >\r\n                  Další krok\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContextSteps;\r\n","import React from \"react\";\r\nimport ContextSteps from \"../app/ContextSteps\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\nimport normal_icon from \"../../assets/Normal.png\";\r\nimport work_icon from \"../../assets/Work.png\";\r\nimport school_icon from \"../../assets/School.png\";\r\nimport doctor_icon from \"../../assets/Doctor.png\";\r\nimport freetime_icon from \"../../assets/Bike.png\";\r\n\r\n\r\nclass PlannerContextPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //STATE\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false,\r\n      date: \"\",\r\n      time: \"\",\r\n      directPath: false,\r\n      fastestRoute: false,\r\n      numTransfers: \"\",\r\n      traveler_type: \"pouze peší chůze\",\r\n      special: \"bez dalších potřeb\",\r\n      context: \"none\"\r\n    };\r\n    //BINDINGS\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.setState({ date: currentDate, time: currentTime });\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 1; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    this.setState({ date: timeInput.value, time: timeInput.value });\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    this.setState({ vialFrom: this.state.from, vialTo: this.state.to });\r\n    if (\r\n      document.getElementById(\"input_from\").value.length < 1 ||\r\n      document.getElementById(\"input_to\").value.length < 1\r\n    ) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    console.log(\"Options:\")\r\n    var options = {\r\n      travel_type: document.querySelector('input[name=\"travel_type\"]:checked').getAttribute(\"id\"),\r\n      means: document.querySelector('input[name=\"means\"]:checked').getAttribute(\"id\"),\r\n      special: document.querySelector('input[name=\"special\"]:checked').getAttribute(\"id\"),\r\n      weather: document.querySelector('input[name=\"weather\"]:checked').getAttribute(\"id\")\r\n    };\r\n    console.log(options)\r\n    if (options.directPath) {\r\n      this.setState({ directPath: true });\r\n    }\r\n    if (options.fastestRoute) {\r\n      this.setState({ fastestRoute: true });\r\n    }\r\n    if (options.numTransfers > 0) {\r\n      this.setState({ numTransfers: options.numTransfers });\r\n    } else {\r\n      this.setState({ numTransfers: \"neomezeným počtem\" });\r\n    }\r\n    if (options.travel_type === \"normal\") {\r\n      this.setState({ traveler_type: \"pouze peší chůze\" });\r\n    }\r\n    if (options.travel_type === \"work\") {\r\n      this.setState({ travel_type: \"kola nebo koloběžky\" });\r\n    }\r\n    if (options.travel_type === \"school\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.travel_type === \"freetime\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    // MEANS\r\n    if (options.means === \"nopref\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.means === \"public_transport\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.means === \"walker\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.means === \"cyclist\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    // SPECIAL REQUIREMENTS\r\n    if (options.special === \"standard\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.special === \"slow_walker\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.special === \"wheelchair\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.special === \"luggage\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.special === \"cyclist\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    // WEATHER\r\n    if (options.weather === \"sunny\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.weather === \"overcast\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.weather === \"overcast_wet\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.weather === \"rain\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.weather === \"snow\") {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"contextForm\"\r\n        action=\"/result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n      >\r\n        <div className=\"options\">\r\n          <ContextSteps step={this.state.step}></ContextSteps>\r\n          <div className=\"options-box\">\r\n            <div id=\"options-box-main\" display=\"block\">\r\n              <div className=\"inputFieldDiv\">\r\n                <label className=\"textLabel\">Odkud:</label>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_from\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte počáteční bod\"\r\n                  onChange={this.handleFromInput}\r\n                ></input>\r\n              </div>\r\n              <p id=\"suggestions\"></p>\r\n              <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n                <label className=\"addVia\" onClick={this.changeTransit}>\r\n                  <img\r\n                    className=\"viaBtn\"\r\n                    src={add_icon}\r\n                    alt=\"+\"\r\n                    title=\"Přidat průjezdní bod\"\r\n                  ></img>\r\n                  <label id=\"addViaText\">Přidat průjezd</label>\r\n                </label>\r\n                <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                  <img\r\n                    className=\"viaBtn\"\r\n                    src={remove_icon}\r\n                    alt=\"×\"\r\n                    onClick={this.changeTransit}\r\n                    title=\"Odebrat průjezdní bod\"\r\n                  ></img>\r\n                  <input\r\n                    className=\"locations\"\r\n                    id=\"input_via\"\r\n                    type=\"form\"\r\n                    placeholder=\"Zadejte průjezdový bod\"\r\n                    onChange={this.handleViaInput}\r\n                  ></input>\r\n                </label>\r\n                <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                  <img\r\n                    className=\"clickable\"\r\n                    src={swap_icon}\r\n                    alt=\"[SWAP]\"\r\n                    title=\"Prohodit Start a Cíl\"\r\n                  ></img>\r\n                </label>\r\n              </div>\r\n              <div className=\"inputFieldDiv\">\r\n                <label className=\"textLabel\">Kam:</label>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_to\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte cílový bod\"\r\n                  onChange={this.handleToInput}\r\n                ></input>\r\n              </div>\r\n              <div className=\"box\" id=\"timeBox\">\r\n                <div className=\"inputFieldDiv\">\r\n                  <label className=\"textLabel\">Datum a čas:</label>\r\n                  <input\r\n                    id=\"input_date\"\r\n                    type=\"date\"\r\n                    onChange={this.handleTimeAndDate}\r\n                  ></input>\r\n                  <input\r\n                    id=\"input_time\"\r\n                    type=\"time\"\r\n                    onChange={this.handleTimeAndDate}\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"directPathBox\">\r\n                <label className=\"inputFieldDiv\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"directPath\"\r\n                    onChange={this.getOptions}\r\n                  ></input>\r\n                  Pouze přímý spoj\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"contextOptionsSettings\"\r\n              id=\"options-box-parameters\"\r\n              display=\"none\"\r\n            >\r\n              <label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"normal\"\r\n                  defaultChecked\r\n                ></input>\r\n                <img src={normal_icon}></img><br/>Normální\r\n                <br />\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"work\"\r\n                ></input>\r\n                <img src={work_icon}></img><br/>\r\n                Do práce\r\n                <br />\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"school\"\r\n                ></input>\r\n                <img src={school_icon}></img><br/>\r\n                Do školy\r\n                <br />\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"doctor\"\r\n                ></input>\r\n                <img src={doctor_icon}></img><br/>\r\n                Za lékařem\r\n                <br />\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"travel_type\"\r\n                  className=\"route\"\r\n                  id=\"freetime\"\r\n                ></input>\r\n                <img src={freetime_icon}></img><br/>\r\n                Rekreace\r\n                <br />\r\n              </label>\r\n              </label>\r\n            </div>\r\n            <div\r\n              className=\"contextOptionsSettings\"\r\n              id=\"options-box-transport\"\r\n              display=\"none\"\r\n            >\r\n              <label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"means\"\r\n                    className=\"traveler_type\"\r\n                    id=\"nopref\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Bez preference\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"means\"\r\n                    className=\"traveler_type\"\r\n                    id=\"public_transport\"\r\n                  ></input>\r\n                  MHD\r\n                </label>\r\n                <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"means\"\r\n                  className=\"traveler_type\"\r\n                  id=\"walker\"\r\n                ></input>\r\n                Pouze peší chůze\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"means\"\r\n                  className=\"traveler_type\"\r\n                  id=\"cyclist\"\r\n                ></input>\r\n                Kolo nebo koloběžka\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"means\"\r\n                  className=\"traveler_type\"\r\n                  id=\"motorist\"\r\n                ></input>\r\n                Osobní automobil\r\n              </label>\r\n              \r\n              </label>\r\n            </div>\r\n            <div\r\n              className=\"contextOptionsSettings\"\r\n              id=\"options-box-access\"\r\n              display=\"none\"\r\n            >\r\n              <label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"standard\"\r\n                  defaultChecked\r\n                ></input>\r\n                Bez omezení\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"slow_walker\"\r\n                ></input>\r\n                S kočárkem\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"wheelchair\"\r\n                ></input>\r\n                S vozíčkem\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"luggage\"\r\n                ></input>\r\n                S těžkými zavazadly\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"special\"\r\n                  className=\"traveler_type\"\r\n                  id=\"cyclist\"\r\n                ></input>\r\n                S kolem do MHD\r\n              </label>\r\n              </label>\r\n            </div>\r\n            <div\r\n              className=\"contextOptionsSettings\"\r\n              id=\"options-box-summary\"\r\n              display=\"none\"\r\n            >\r\n              <label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"weather\"\r\n                    className=\"traveler_type\"\r\n                    id=\"sunny\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Slunečno a sucho\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"weather\"\r\n                    className=\"traveler_type\"\r\n                    id=\"overcast\"\r\n                  ></input>\r\n                  Zataženo\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"weather\"\r\n                    className=\"traveler_type\"\r\n                    id=\"overcast_wet\"\r\n                  ></input>\r\n                  Zataženo a vlhko\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"weather\"\r\n                    className=\"traveler_type\"\r\n                    id=\"rain\"\r\n                  ></input>\r\n                  Déšť\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"weather\"\r\n                    className=\"traveler_type\"\r\n                    id=\"snow\"\r\n                  ></input>\r\n                  Sněží\r\n                </label>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerContextPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerContextPID from \"../api/PlannerContextPID\";\r\n\r\nclass PlannerContext extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/context_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerContextPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerContextPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerContextPID setApi={this.updateSelectedApi}></PlannerContextPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlannerContext;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerContextPID from \"../api/PlannerContextPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass ResultContext extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      viaId: \"no_point\",\r\n      endId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.travel_type !== undefined &&\r\n      options.means !== undefined &&\r\n      options.special !== undefined &&\r\n      options.weather !== undefined\r\n    ) {\r\n      if (options.travel_type === \"walker\") {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.travel_type === \"freetime\") {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.travel_type === \"freetimes\") {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      }\r\n      if (options.special === \"wheelchair\") {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special === \"luggage\") {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length < 0) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    if (this.state.results !== undefined) {\r\n    for (\r\n      let resultNumber = 0;\r\n      resultNumber < this.state.results.length;\r\n      resultNumber++\r\n    ) {\r\n      let label = document.createElement(\"label\");\r\n      label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n      let resultItem = this.createResultItem(\r\n        this.state.results[resultNumber],\r\n        resultNumber\r\n      );\r\n      label.appendChild(resultItem);\r\n      resdiv.appendChild(label);\r\n    }\r\n  }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerContextPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerContextPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultContext;\r\n","import React from \"react\";\n//import ReactDOM from \"react-dom\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"../css/App.css\";\nimport Planner from \"./Planner\";\nimport PlannerWizard from \"./PlannerWizard\";\nimport Result from \"./Result\";\nimport ResultWizard from \"./ResultWizard\";\nimport PlannerContext from \"./PlannerContext\";\nimport ResultContext from \"./ResultContext\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.writeStart = this.writeStart.bind(this);\n    this.writeVia = this.writeVia.bind(this);\n    this.writeEnd = this.writeEnd.bind(this);\n    this.writeStartId = this.writeStartId.bind(this);\n    this.writeViaId = this.writeViaId.bind(this);\n    this.writeEndId = this.writeEndId.bind(this);\n    this.writeTimeAndDate = this.writeTimeAndDate.bind(this);\n    this.writeOptions = this.writeOptions.bind(this);\n    this.state = {\n      start: \"\",\n      via: \"\",\n      end: \"\",\n      startId: undefined,\n      viaId: undefined,\n      endId: undefined,\n      timedate: \"\",\n      api: \"\",\n      options: \"\"\n    };\n  }\n\n  writeStart(from) {\n    this.setState({ start: from });\n  }\n\n  writeVia(thru) {\n    this.setState({ via: thru });\n  }\n\n  writeEnd(to) {\n    this.setState({ end: to });\n  }\n\n  writeStartId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ startId: json.places[0].id });\n        }\n      });\n  }\n\n  writeViaId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ viaId: json.places[0].id });\n        }\n      });\n  }\n\n  writeEndId(place) {\n    console.log(this.state.startId);\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ endId: json.places[0].id });\n        }\n      });\n  }\n\n  writeTimeAndDate(timedate) {\n    this.setState({ timedate: timedate });\n  }\n\n  writeOptions(options) {\n    this.setState({ options: options });\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          path=\"/form\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/form_result\"\n          render={props => (\n            <Result\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/wizard\"\n          render={props => (\n            <PlannerWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/wizard_result\"\n          render={props => (\n            <ResultWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/context\"\n          render={props => (\n            <PlannerContext\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/context_result\"\n          render={props => (\n            <ResultContext\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n      \n      </Switch>);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from \"react-router-dom\";\nimport './index.css';\nimport App from \"./components/app/App\";\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\nserviceWorker.register();\n//serviceWorker.unregister();\n"],"sourceRoot":""}