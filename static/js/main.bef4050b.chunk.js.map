{"version":3,"sources":["assets/Next.png","assets/Swap.png","assets/Add.png","assets/Remove.png","assets/Walker.png","assets/Transfer.png","assets/Waiting.png","assets/Car.png","assets/Bike.png","components/app/Map.jsx","components/app/Header.jsx","components/app/Footer.jsx","components/app/OptionsSelect.jsx","components/api/SelectApi.jsx","components/api/PlannerPID.jsx","components/app/Planner.jsx","components/app/WizardSteps.jsx","components/api/PlannerWizardPID.jsx","components/app/PlannerWizard.jsx","components/app/Result.jsx","components/app/ResultWizard.jsx","components/app/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","Map","props","state","mapbox","undefined","startMarker","viaMarker","endMarker","transferPopups","route","routeLayers","addTransferPopup","bind","clearTransferPopups","clearPath","addMarker","addPath","coords","map","this","popups","length","i","remove","popup","mapboxgl","Popup","setLngLat","setHTML","addTo","push","setState","lon","lat","type","place","console","log","info","offset","setText","marker","Marker","setPopup","layerId","removeLayer","removeSource","listCoords","numLayers","colors","flyTo","center","togglePopup","addLayer","id","source","data","properties","geometry","coordinates","layout","paint","accessToken","process","container","mapContainer","style","zoom","addControl","NavigationControl","ref","el","React","Component","Header","className","href","rel","to","Footer","OptionSelect","handleAccess","handleParameters","handleTransport","e","preventDefault","optionBox","document","getElementsByClassName","children","display","target","setAttribute","Fragment","onClick","optionactive","title","SelectApi","handleOnChange","updateSelectedApi","value","onChange","defaultValue","disabled","PlannerPID","initialTimeDateSetup","handleFromInput","handleViaInput","handleToInput","handleSubmit","handleTimeAndDate","drawSuggestions","changeTransit","updateInputValues","swapInputFields","updateOptions","getOptions","from","suggestions","via","date","Date","initApiTime","getFullYear","getMonth","getDate","getHours","getMinutes","currentDate","currentTime","getElementById","timedate","options","api","setApi","start","startId","input","url","headers","Headers","set","btoa","fetch","method","then","response","json","places","corresponds","k","charAt","name","embedded_type","viaId","end","endId","timeInput","dateInput","time","substr","inputTimeDate","p","appendChild","createElement","li","createTextNode","childNodes","update","ready","viaSection","addViaEls","remViaEls","fromOld","directPath","checked","fastestRoute","lowWalkingRoute","numTransfers","timeToTransfer","transferDistance","traveler_type","walker","bike","car","means","metro","firstChild","tram","bus","train","fenicular","ferry","special","standard","baby","wheelchair","luggage","cyclist","action","onSubmit","placeholder","active","src","add_icon","alt","remove_icon","swap_icon","OptionsSelect","defaultChecked","Planner","selectedApi","createRef","getStart","getVia","getEnd","getTimeAndDate","setReady","getStartStopPointId","getViaStopPointId","getEndStopPointId","writeStart","writeVia","writeEnd","writeStartId","writeViaId","writeEndId","writeTimeAndDate","writeOptions","bool","planner","WizardSteps","handlePreviousStep","handleNextStep","handleSearch","returnTask","step","prevBtnDisabled","nextBtnDisabled","currentStep","PlannerWizardPID","x","removeChild","PlannerWizard","Result","results","updateResults","selectedResult","resultRef","setInputValues","createResultItem","renderResults","drawJourney","drawStartPoint","drawViaPoint","drawEndPoint","fetchData","showJourneyDetails","query","current","stop_area","coord","viaOn","JSON","stringify","journeys","resdiv","resitem","lastElementChild","result_id","getAttribute","sections","routeCoords","transferCoords","possibleResults","geojson","color","display_informations","REACT_APP_COLOR_WALKING","mode","resultItem","deparr","departure_date_time","arrival_date_time","duration","Math","round","bike_icon","car_icon","walker_icon","next","next_icon","waiting","waiting_icon","vehicle","commercial_mode","code","innerHTML","transfer","transfer_icon","journey","l","detailsBtn","addEventListener","details","guide","section","detailId","resultNumber","label","checkSearch","checkViaRoute","checkResults","ResultWizard","App","thru","exact","path","render","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","URL","origin","contentType","get","status","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.bef4050b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAABHNCSVQICAgIfAhkiAAAAN1JREFUKJGV0TFKQ0EQxvEf4gHeAQRzhHcE7SzjDSzs9QqewNjamDaCaBsU9AZqZat4AWNpo8XOwGNJNvGDBztv9z8z3wz0OMfIPzTHL74x3hSaBpTfLboWsIWfOM+wiGrP2GtBqQfF36vi71Hx2oTgPcCziE+jal+Dl4qX4+p/H0nS68mqSkO9BHgR8QSf2G1B8BUtziLewWR7DTRSVpCe5jhsVRoO4QP7OMjLehBdZM8BTFXLrtsb4yoeLXCEu2VtZKX7QfanOnutm8HjnNZaXQfwZsnmV6nbNHvqD6m+N2Pvvzt3AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAABBxJREFUWIXN2E1PIkkcBvBnGinBZKNtNy8NbXoO4sHDfIWZIyT4khiuawBDyB7WZDeTycRN4I6J7H4NT2rCjWzmC9hEbu6MiVGxgwqN8mbhpPawshnQgW5kxOcGVOf/SxXV9fIKg+c1gEWv1/u20Wj4KKUipVQAAELIFSHk0m63H56dnX0CsAvgeJAirwZ45rfJyclfCSFCKBSy+v3+cZ7n4Xa74Xa7AQCapkHTNOi6jkwmc7u9vd26u7u70nU9DSA9CLRvBEH4yHHcXTqdruXzeWY2BwcHbGtrq2axWFqCIHwYpu2N0+k8isfjFUqpaVh3ms0mi8ViFafT+RnA/JNkkiTFFEUpXVxcPBnWnWKxyGRZLns8nshAuNnZ2cTy8nJp6LKuBIPBks/n2zCNi0ajzR+NayccDt+Kovi7IZwkSbHn6LnuBIPBkpHhfqMoSl+cqqqMEMJUVTUMcLvdfdvIslxGr4njdDqP+k0IVVWZoigMAFMUxTASQN82mqYxl8v15VGcIAgf4/F4xQhOVVUGoOPzMICMMRaNRiuiKL5/ALRYLF97vee6Me2CRpFGgfV6nVmt1lYHjuf5jXQ6Xev1YCKR6EB8W1BVVZZIJIYCZIyxVCpVA7D+P3BqaurY7PJlpqDZ9qqqMp7nj9q+1w6H48ZUtR8MZIwxQRBqAGQOwGIoFLL2e/88d5aWlr4CWOS8Xu9bv98/PmpQd4LB4E8zMzPvuEaj4eN5ftSeBxEEAbVabY6jlIrtjeZLiiRJoJQ6OEqp8IKBIjdqSL9whJArTdNG7XiQ8/NzEEIuOULI5UsEFgoF2Gy2C25iYuJQ1/VRex6kVCrBbrcfcqenp58ymQwdNag7e3t7NycnJ38DgOJwOKqm1qEBli6z7aenp2sAvByA41ardZnP50fZYR1RVRWMMQ3AGQcAuq6ns9lsY5hFkskkcrnco7/lcjkkk8nvPpvNZhvlcvnPji/Hxsbumk3jBzn0GbJBN7jVapURQh7OCUEQPsRisethAbsxMHhEiEQi1wB+ebRrXS7X52KxODTgt0gYOGQVCgXmdrv/6fXXmZdluWyksCzLhoBt5Pj4eN9ziyRJFQBzvYDweDyRhYUFQ8hhJhAI6F6v9+eeuHZ8Pt9GOBy+fS7c6urqrcPhWO8v60T+8Rw9GQgEdNO4djweT0SW5bKmaUOHFQoFJklSxfCw9si8y+X6sra2dl2v158Mq1arLBKJXN/P1t4TwkxEUXxvtVpbm5ubdTOXRu3s7++zVCpVJ4RQw1dtGOwSfZ3n+XWO41wrKytjfr+fCIIASZIgSRKA/zabhUIB5XIZu7u7Nzs7OxbGmHa/fP1lptggwHZkAIszMzPvarXaHKXUQSkVAYAQcmmz2S7sdvvh/ZZpF8DZIEX+BXlY9mPXngHYAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAgFJREFUOI2llTtv2lAYhh8gGKXQbuYwRLIHhnbjMlfcIrFZCsr/gR8UyaqMuYm0ZKoqYvDULkS4G4aJyqqUUskdWipuBiV5FkuffB5/fs/n4xDBXAN5IUTZ87y3APF4/Nt8Pv8EWMDNoUWhA7XXsiwParXahaqqyUwmQyaTAcC2bWzbZjqdznVd/75YLIrAzyNNUYnFYo/9ft8/Rbfb9SVJWgGFg6Z0Oq2Vy+XlSdMOpVJpCRT3XjMWiz0GLbq/v/eHw2GgNBqNroBzgDCALMsD0zSloByazSbNZjMwJ8MwzoQQd2vhda1Wu6hUKseyPUq1WkXTNAW4CgN5VVWTz7b9Q1GUJJAPCyHK67F4CblcDiHEZSgejy8nk8mbVCoFgGVZe3kNBgMAisXtzdQ0jWw2C8BsNiOdTv84232S7/v4vr9X27zu1rcQQnxpt9tHZ63RaPj1ev3oPaZp+kKIz2HXdT/atv2UuA4yHo9xXfc2DFjT6XTxUqHjOAtgGAZudF13er3es2WtVgvDMB6AD+vaK0mSVkH5jEYj37KswPwikchvYO9LK5RKpScfDoVCYQm8D+q+GI1GV51O56TINM11Z1uyQwfsuRDiTtM0VVEUOZfL/R/e0WjEeDzGcZyFYRgPrusWgF+nhGuu+PsLuPQ87x1AIpH46rruLTDc3IBN/gCPT/yk/yllywAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAABHNCSVQICAgIfAhkiAAAAqtJREFUSIntlr9LG2EYx78Xgu/dBc/kIJqCOSUd7CB6hEALJYlbSxcdHLuUOphJobi4CNLBqX9AF8GlpSCSSoYOoqXXuLQEHEqW4hR60iRvfl0jJN7boabkx51eQju0+Blfjufzfp+H5+WAG/43uD6+9QBQAYRlWY5xHOellL43TfMzgE8Avv9JKXG73esA1hVFqUejUXc0GhVGRkZwfHzcPDo6+nFycuIhhLwzDOMpAL2PIJbECCG5WCxWPT09ZXZUq1W2urp6TgipAVgB4BrINj4+/lCSpNre3t6Fra2LbDbLpqenS2NjYy8HcUo8z+cPDw+d+n5TKBTY8PBwDcD9voyCILxZWloy+jZekkqlLnie/waAd5wyEAhU6/V6R6H5+XmWyWR6BJRSNjc3xyilHeeLi4sVWZafODISQh5tbGz0zDGTybCJiYkOMaWUqarKtre3ey6TTqdZOBx+60gaDAZf7OzsWLatXXyVkDHGdF1niqJ8dSQNBAJpTdMsC7XEwWCQTU1N2QpbiKJYh8X69ByYpnlLEATbS01OTkIUReTzeaiqemUAjuNcAKRrk0qS9NouQXtLrWbcTi6XYx6Pp3St8JKV5eXlnnWxmuFV4v39feb3+z86lcZnZ2eL3UXi8bjlDFvi7pXZ3Nw0eZ7fcip1+Xy+L5qmdaxNd9F2ut/lQqHARkdHKQDFqRQAbnu93pKu67YiO0zTZJFIpEoISfQj/BXX5Xo2MzNTOjs7cyxsNBoskUicC4KQ7lt4CQfguSiKtWQy2bhOmM1mWSgUKhFCNAD+QaUt7hJCcgsLC8Xd3V3WnrxSqbCDgwO2trZmDA0NlQE4aqnT3xU3gHuhUOixYRgPms2mX5KkJqX0wufzfSgWi6/K5XIKQG3QZE6QAdz5m4Ib/i1+AsudvqDWHe+XAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAApCAYAAADeWrJ9AAAABHNCSVQICAgIfAhkiAAAAoZJREFUSImtlk9sTUEUh7+iVNG+aLrQBGVjIaKiVJomSASJsBM2ojbdSd5SxUKIxKppLCysGjaIpq+x8G+BTYM0KQvdKGktaFoprYiiz7WYM5n77ps75s7rL7m5eXN+8915M3PODGRXDrgNfAE+A8+BjgBOmRqBX0CUeGaBY5WAVwALFrB+vgKHQuG9DrB+hkPhbz3gC6h/CMCS0C/5KAv8kYdnBLXgmbUMKJI+Jd+AAyFgrQbgjwU8BxypBLwJ6E9APwHPgD2h0FXAFWAesyM0/GAotAo4JaPTsEFgNPb7Xgh4JyohNGQMlX3NmHQvoua/IQv4GvBXID+A88ByiXVKewEz/92+4L2x0d4FmhLxPonlUfMdAROoKXSqCpPiV1M84xJvEf8EngvbJcZxoNoSb4nFtc5JW78LXAtMifFEiicv8b5YWzyp8mnwS2J44RhAQTydifYeSrfqmmTHO6gd0uaAa0DOEusCfkv8A7AtHqxB7e007ZOOrx2eHZgFngPqHN4SXZROvf/x1QMPgCFgqQ+4DnXSR8B139H46qSAddYeX0z4DYEOyHse2LVY8DGBtmLSfwpYVyl4g8C+o9K9GngpbSPAykrgZzBVUKsRk82DeBStNN0SyNlE+25M0lwOhU8KYKsldlpiRQKmZ4t0nnF43otnvy3ouhRdkLfrMvRY3q6aVKZ2TKFKVsG49NQUHJ4SbUcVngi4iXs36Kmb9gFvxtSRAfzukrPi3+gyNQEfxfgEdTf00UNSTjA9shzwFFiPOo2Oom5WPtKnl3VRa4FX8vU3wGpPqNZh6TtkC96X4CiwNiMYVL2PUBlbdmuYAd6hakaohoGfWP51s60xo+qFU6J/Fd7ZY+iuhegAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAApCAYAAABp50paAAAABHNCSVQICAgIfAhkiAAAA81JREFUaIHNmVuITlEUx3+GiTBj8CC5lsQLuSSaUhOPItc8qXnwMIxClFLyJFMe3ApJcgmFXEYJCQ8u82AaIURu5U6DcZtxOx722u39Hd855zvnO/s786/TOWfvtdb+77P3XnutfSBbzARuAi+At8CebOm4xRrgM+D5rg6gV4a8nGAp8JH/O6uvr9lRSx/dgCcEd9YDvgOrsiKYNkYAbYR32AMuuGi8zIXRzowsOvwMeB8h8wM4VwIuJUMd8Ing6dyWHTV3qEdtQf7OtgM9M+TlBLOAx5hOfgPeALuzJOUCo4GLmI7+kfs7SuhPxgHLgSqHbfQFtgK/MSO6TZ5/yX1OAruJuOsv/hKoSdBoGLoCS4BWzKgeB4agAgsPuCH3JF75NAm4HybXaWxO0HA+DALuWnYfANOs+nNSXotyVH+BoTHb2EcC7rtFuNFSbEFNl2JwwLK3GhVSanRHddJDTcf98rwhZhuJuGulxSL4zFJeHpOAxnjR/ynPfkyT+mZ5r5b3D8RzXom420qgvvgWS/EyMDwGCYAm0d0UUN8g9Q1W2UMpmxujnUTc/UoaszHR0Ed5LwRzRacVqAyQaRaZ6VbZMovomALbSsQ9SAnUFztlEWlGbTFBKMNMq/oAmSqUg2pHrWWNPpi0sR0VfkYhDvf7UhaqpLFXSHqER0P9UacY91BbUj4sFDvn89RVYLYaDzhG+OlHIdxPWtw3RilVkOv6rwMDQoyDWjODQ+r3YDx3EFZhgpRDIXJRI3yS3G0xdISrMdPzNbnrrRjoGHpshFw1KqBYGSITtob1EdInItZwOWrodZzbSHph5xyx2wFMSMFePi+9GTOqV4jw0iOB25ictDYFUjbOWGReAQOLtOffh59a9ldEKR1GnTR4wDVgWJFk/OgCfBH7ep9uIddTx0W+SOsWEZHWQUv4J7AWN6naZIzz6IcaYQ84WoRNfyy9pRClsyL8nPxhYFpYK+3skPfxmHh6XUKbegt7RYxsqQoVJPRI2Gih0GnofKtM78ke6hQkLsah1qrLXD4RumFG0x+pbZLy7xSfoXUa1GCclB9lwB2pP+GaSKnOkXTifylP3V/MPjq1NHTcogtmnc4IkdN/EoeUgpRL7ER15AfQO0TugsgtcEnG9ZRej0rzfqN+fof9Bm2S+xTHnJyhDnP2XMjhwQyRv+qSlCvMw+SgiwrUqcREe+WOeDlBDeZwfVlM3UeiNzFtUq4wCfVXIWm4qOP6oOOhToVBmKR7e0Ib9aJ/MC1SLjEdRXZXETZGo9b+kVQYlQBRxzaFYBQOE5l/GZ1woTNfSoAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAABHNCSVQICAgIfAhkiAAAAlFJREFUSInN1s1rVGcUx/HPc3VAQW2jIopiKGKrROPCFxQRF2IrRRcuAsmlreKISwU34kb0L9D8AQqCSdwquHAh+IaVFmlKIihaRVGx1NeFLmzGp4s7Aze3cyeJZuGBgTvnd+53zuH87nMHjuI14iR8ToT6xWTFoylow2pMmQRgb+PiR1z4DNBFfF9MvsbXnwCbi38aX/JjLsJC/DZB4D48lnU5Ktbj14k36HesKRPvY8kEYN/hTj5R3OwcrMCVcQIPYBBXG4lQKFgq2/a3PT09IyGEMiuN9Pf3V/AAW/CwISSFwnt4g7UhhD9bdDaIDXiehzUDwhn8JNves6IYQnheq9X21mvO/E9vApyDu5ibpukzLCgAn/b19S2qT9KOt2N1+FJmhW2yg+NWTvujVqsdwXZcK8LKOlQf5wf8nF9OjHFkYGCgggGcw9mS+5vGvyX5BB/KbiqzRVU2+vkmWpSZ/yu0csKouCGzRVlskjNzPqY2yS2XnTo3S8zdMPV82YNwLy82G/kQrnd3dy9LkqRdwTYxxqHOzs73Q0ND9+tTXBqrwyqWJEkyiMVFMYSwCsewDrdxOK8XfbgTl9M0bcPMJj/WiLaurq7puIkdrYBVnMTuGGOlBTBUKpVd9dpqXsiPPA9rZU9BfwhhRgvgLByUveBOYTZeMXop+3E7TdOP2FovbhV/d3R03BoeHn4nO2hvMHrkKk7GGI/jmzFg0J4kSa/C2A3gZjzBX+gYBwzEGFfKTqYX2JjXTuOX8YKaxJ56p8g8VfOl/7dZjmmTAOz9D5B5sfvj/7TdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAAABHNCSVQICAgIfAhkiAAAAvBJREFUaIHtmTFoFEEUhr9JFFKoaKEYECKIWIiwapki19keWtnIioVFLAIptLTQUrjSRi6llqKFnRswYKHsaqsQL2JhIbcnghLUsdhbvcvt253Z3bnkgh9Mkdu5///fzbu5ya6iHGeAk8CXku8vYj+wAbx1pP+XeeA7oMc0fvQ9nbExxmLS8c5VMYe3oZh0zJiGnLIo6JrF3Lq56EJ0ne1boSemIZXhvHnghXAtBL6aGhZwADib8fovkpbv1uTDA7I/ufW6DAb4KHhdr8tgBvgmmNysy2SAu4JXUJeBLxikbVA3pwW/38CROgxWBYOndYgLvBE8l6sKHxeENXCpqngOtwTP11WF7wjCXWBvVfEcjgm+GjhRVlQBnwTRVrW8RqwJ3rfLCl4QBDVwqmJYExYF7/dlBR8JgpX72JBDwE8hw3lbsYPApiC2WE9eI54JGe7ZCt0QhDZJih0XV4QcnzE/tgFJW2UJPawxrAn7kDulkfWGPVv+XiDZFs8JBq/6c8bJGtnhl0kKg+THH0iWzQPaSinPfTZ7tNa515VS6bwIuDoN3FdKZS7fJJAWpJQ6CswqpVT+R7ADyFultKCUqaIlnSS01sX3FBYWxr0HyDQao9+MkQXpt9zQ8H1fh2GoBwnDUPu+Lx2FnA2bLEopjVJKpwPQKysrOo92u60H3+NylMkyVFCz2cwVSGk2m86LKZtlqKAgCIxEgiBwXlDZLEMFxXFsJNLtdp0XVDbL0C4Xx7HRbtPr9YzmVaFslqGCoigyEjGdV4XSWQaXy/M8o2X2PM95y5XNwlYh3/fF/o3jWPu+77yYillGz3Jzc3MsLS3hef8O4FEU0Wq16HQ61XrJEtssmQVNMjbPhyaCXVeQAp5vea3on73angIYYpVn5M5J0XdKa211t6Uqtnl2Xcv9L2ins/sL0lqLR+m8a66wzZO1Qnnb8ri37CJPozwN6bBI8W+CC6zyTGcIfAAeA7Mkd/k7JA9xLwMvHQaXsMrzB3YecOdDp7k9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","import React from \"react\";\r\n//import ReactDOM from \"react-dom\";\r\nimport mapboxgl from \"../../../node_modules/mapbox-gl\";\r\n\r\nclass Map extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mapbox: undefined,\r\n      startMarker: undefined,\r\n      viaMarker: undefined,\r\n      endMarker: undefined,\r\n      transferPopups: [],\r\n      route: undefined,\r\n      routeLayers: undefined\r\n    };\r\n    this.addTransferPopup = this.addTransferPopup.bind(this);\r\n    this.clearTransferPopups = this.clearTransferPopups.bind(this);\r\n    this.clearPath = this.clearPath.bind(this);\r\n    this.addMarker = this.addMarker.bind(this);\r\n    this.addPath = this.addPath.bind(this);\r\n  }\r\n\r\n  addTransferPopup(coords) {\r\n    var map = this.state.mapbox;\r\n    var popups = [];\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n    if (coords !== undefined && coords[0][0] !== undefined && coords[0][1] !== undefined) {\r\n      for (let i = 0; i < coords.length; i++) {\r\n        var popup = new mapboxgl.Popup({\"className\":\"transferPopup\"}).setLngLat([coords[i][0], coords[i][1]]).setHTML(\"Přestup\").addTo(map);\r\n        popups.push(popup);\r\n      }\r\n    }\r\n    this.setState({transferPopups: popups})\r\n  }\r\n\r\n  clearTransferPopups() {\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n  }\r\n\r\n  addMarker(lon, lat, type, place) {\r\n    console.log(\"now\");\r\n    console.log(place)\r\n    switch (type) {\r\n      case 0:\r\n        if (this.state.startMarker !== undefined) {\r\n          this.state.startMarker.remove();\r\n        }\r\n        break;\r\n      case 1:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      case 2:\r\n        if (this.state.endMarker !== undefined) {\r\n          this.state.endMarker.remove();\r\n        }\r\n        break;\r\n      case 3:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    var map = this.state.mapbox;\r\n    if (lon !== undefined && lat !== undefined) {\r\n      switch (type) {\r\n        case 0:\r\n          var info = new mapboxgl.Popup({offset:30}).setText(\"Začátek trasy: \"+place);\r\n          var marker = new mapboxgl.Marker({\"color\":\"#ff0000\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ startMarker: marker });\r\n          break;\r\n        case 1:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Průjezd přes: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#fff400\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ viaMarker: marker });\r\n          break;\r\n        case 2:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Cíl trasy: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#00abff\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ endMarker: marker });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  clearPath() {\r\n    var map = this.state.mapbox;\r\n    if (this.state.routeLayers !== undefined) {\r\n      for (let i = 0; i < this.state.routeLayers; i++) {\r\n        var layerId = \"path_layer_\"+i;\r\n        map.removeLayer(layerId);\r\n        map.removeSource(layerId);\r\n      }\r\n      this.setState({mapbox: map, routeLayers: 0});\r\n    }\r\n  }\r\n\r\n  addPath(listCoords, numLayers, colors) {\r\n    var map = this.state.mapbox;\r\n    map.flyTo({center: [listCoords[0][0][0], listCoords[0][0][1]]});\r\n    this.state.startMarker.togglePopup();\r\n    this.state.endMarker.togglePopup();\r\n    for (let i = 0; i < numLayers; i++) {\r\n      var layerId = \"path_layer_\"+i;\r\n      map.addLayer({\r\n        id: layerId,\r\n        type: \"line\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"Feature\",\r\n            properties: {},\r\n            geometry: {\r\n              type: \"LineString\",\r\n              coordinates: listCoords[i]\r\n            }\r\n          }\r\n        },\r\n        layout: {\r\n          \"line-join\": \"round\",\r\n          \"line-cap\": \"round\"\r\n        },\r\n        paint: {\r\n          \"line-color\": colors[i] !== undefined ? colors[i] : \"#888\",\r\n          \"line-width\": 6\r\n          \r\n        }\r\n      });\r\n      \r\n    }\r\n    this.setState({ mapbox: map });\r\n    this.setState({ routeLayers: numLayers });\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN;\r\n    var map = new mapboxgl.Map({\r\n      container: this.mapContainer,\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: [14.42076, 50.08804],\r\n      zoom: 12\r\n    });\r\n    map.addControl(new mapboxgl.NavigationControl());\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.mapbox !== undefined) {\r\n      this.state.mapbox.remove();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    /*\r\n      const style = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: '50%',\r\n        bottom: 0,\r\n        width: '50%'    \r\n      };\r\n      */\r\n    return <div id=\"map\" ref={el => (this.mapContainer = el)} />;\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"./App.css\";\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"header\">\r\n        <link\r\n          href=\"https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.css\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <label className=\"headerLabel\">Prototyp webového klienta vyhledávače intermodálních dopravích spojení:</label>\r\n        <label className=\"headerLabel\"><Link to=\"/form\">Formulářový typ</Link>/<Link to=\"/wizard\">Klient typu Wizard</Link></label>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\n\r\nclass Footer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <footer>Vytvořil <a href=\"mailto:hlavaj28@fel.cvut.cz\">Jan Hlaváč</a> pro <a href=\"https://www.fel.cvut.cz/\">FEL ČVUT</a> v rámci závěrečné práce v ZS ak. roku 2019/2020.</footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nclass OptionSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleAccess = this.handleAccess.bind(this);\r\n    this.handleParameters = this.handleParameters.bind(this);\r\n    this.handleTransport = this.handleTransport.bind(this);\r\n  }\r\n\r\n  handleParameters(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    if (optionBox[0].children[0].style.display === \"none\") {\r\n      optionBox[0].children[0].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[0].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleTransport(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[1].style.display === \"none\") {\r\n      optionBox[0].children[1].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[1].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleAccess(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[2].style.display === \"none\") {\r\n      optionBox[0].children[2].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[2].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <button onClick={this.handleParameters} optionactive=\"false\" title=\"Volba parametrů spoje\">Parametry spojení</button>\r\n        <button onClick={this.handleTransport} optionactive=\"false\" title=\"Výběr dopravních prostředků\">Dopravní prostředky</button>\r\n        <button onClick={this.handleAccess} optionactive=\"false\" title=\"Charakteristika cestujícího\">Přístupnost</button>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OptionSelect;","import React from \"react\";\r\n\r\nclass SelectApi extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleOnChange = this.handleOnChange.bind(this)\r\n  }\r\n\r\n  handleOnChange(e) {\r\n    this.props.updateSelectedApi(e.target.value)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment><label className=\"textLabel\">Oblast:</label>\r\n      <select id=\"api_select\" onChange={this.handleOnChange} defaultValue=\"pid\">\r\n        <option value=\"dpmul\" disabled={true}>DÚK</option>\r\n        <option value=\"pid\">PID</option>\r\n        <option value=\"ids-liberec\" disabled={true}>IDS Liberec</option>\r\n      </select>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SelectApi;","import React from \"react\";\r\nimport OptionsSelect from \"../app/OptionsSelect\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\n\r\nclass PlannerPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false\r\n    };\r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 0; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    \r\n\r\n    var input = e.target.value;\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/places?q=\" + e.target.value;\r\n    var headers = new Headers();\r\n    headers.set(\r\n      \"Authorization\",\r\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n    );\r\n    fetch(url, { method: \"GET\", headers: headers })\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        //this.setState({myData: json});\r\n        var places = [];\r\n        if (json.places !== undefined) {\r\n          if (input.length > 1) {\r\n            for (let i = 0; i < json.places.length; i++) {\r\n              var corresponds = false;\r\n              for (let k = 0; k < input.length; k++) {\r\n                if (\r\n                  input.charAt(k) === json.places[i].name.charAt(k) &&\r\n                  json.places[i].embedded_type === \"stop_area\"\r\n                ) {\r\n                  //console.log(\"Suggested: \"+json.places[i].name)\r\n                  if (k < input.length) {\r\n                    corresponds = true;\r\n                  }\r\n                }\r\n              }\r\n              if (corresponds) {\r\n                places.push(json.places[i].name);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.setState({ suggestions: places });\r\n        if (places !== null && this.state !== null) {\r\n          if (\r\n            this.state.suggestions.length >= 1 &&\r\n            this.state.suggestions !== undefined\r\n          ) {\r\n            //this.drawSuggestions();\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.props.update !== undefined) {\r\n      this.updateInputValues();\r\n      this.props.update();\r\n    } else {\r\n      this.props.ready(true);\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/form_result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n        onClick={this.getOptions}\r\n      >\r\n        <div className=\"plannerBox\">\r\n          <div className=\"box\" id=\"searchBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Odkud:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_from\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte počáteční bod\"\r\n                onChange={this.handleFromInput}\r\n              ></input>\r\n            </div>\r\n            <p id=\"suggestions\"></p>\r\n            <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n              <label className=\"addVia\" onClick={this.changeTransit}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={add_icon}\r\n                  alt=\"+\"\r\n                  title=\"Přidat průjezdní bod\"\r\n                ></img>\r\n                <label id=\"addViaText\">Přidat průjezd</label>\r\n              </label>\r\n              <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={remove_icon}\r\n                  alt=\"×\"\r\n                  onClick={this.changeTransit}\r\n                  title=\"Odebrat průjezdní bod\"\r\n                ></img>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_via\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte průjezdový bod\"\r\n                  onChange={this.handleViaInput}\r\n                ></input>\r\n              </label>\r\n              <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                <img\r\n                  className=\"clickable\"\r\n                  src={swap_icon}\r\n                  alt=\"[SWAP]\"\r\n                  title=\"Prohodit Start a Cíl\"\r\n                ></img>\r\n              </label>\r\n            </div>\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Kam:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_to\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte cílový bod\"\r\n                onChange={this.handleToInput}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"box\" id=\"timeBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Datum a čas:</label>\r\n              <input\r\n                id=\"input_date\"\r\n                type=\"date\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n              <input\r\n                id=\"input_time\"\r\n                type=\"time\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"directPathBox\">\r\n            <label className=\"inputFieldDiv\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"directPath\"\r\n                onChange={this.getOptions}\r\n              ></input>\r\n              Pouze přímý spoj\r\n            </label>\r\n          </div>\r\n          <div className=\"options\">\r\n            <OptionsSelect></OptionsSelect>\r\n            <div className=\"options-box\">\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-parameters\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Trasa</label>\r\n                <br />\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"fastestRoute\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Nejrychlejší\r\n                  <br />\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"lowWalkingRoute\"\r\n                  ></input>\r\n                  Nejméně pěší chůze\r\n                  <br />\r\n                </label>\r\n                <label className=\"optionTitle\">Přestupy</label>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální počet přestupů:\r\n                </label>\r\n                <select defaultValue=\"-1\" id=\"numTransfers\">\r\n                  <option value=\"-1\">Neomezeno</option>\r\n                  <option value=\"0\">0</option>\r\n                  <option value=\"1\">1</option>\r\n                  <option value=\"2\">2</option>\r\n                  <option value=\"3\">3</option>\r\n                  <option value=\"4\">4</option>\r\n                  <option value=\"5\">5</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">Čas na přestup:</label>\r\n                <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n                  <option value=\"5\">Alespoň 5 minut</option>\r\n                  <option value=\"10\">Alespoň 10 minut</option>\r\n                  <option value=\"15\">Alespoň 15 minut</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální vzdálenost mezi přestupy:\r\n                </label>\r\n                <select defaultValue=\"100m\" id=\"transferDistance\">\r\n                  <option value=\"100\">100 m</option>\r\n                  <option value=\"200\">200 m</option>\r\n                  <option value=\"300\">300 m</option>\r\n                </select>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-transport\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Na trase chci využít</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"walker\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Pouze peší chůze\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  Kolo nebo koloběžku\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"motorist\"\r\n                  ></input>\r\n                  Osobní automobil\r\n                </label>\r\n                <label className=\"optionTitle\">\r\n                  Výběr dopravních prostředků\r\n                </label>\r\n                <div className=\"optionMeans\">\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n                    Metro\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n                    Tramvaj\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n                    Autobus\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n                    Příměstský vlak\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"Funicular\"\r\n                      defaultChecked\r\n                    ></input>\r\n                    Lanovka\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n                    Přívoz\r\n                  </label>\r\n                </div>\r\n                <label className=\"optionTitle\" title=\"Momentálně nedostupné\">\r\n                  Doplňkové služby\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"taxi\"\r\n                    disabled\r\n                  ></input>\r\n                  Taxi\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"uber\"\r\n                    disabled\r\n                  ></input>\r\n                  UBER\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-access\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Jsem cestující</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"standard\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Bez dalších potřeb\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"slow_walker\"\r\n                  ></input>\r\n                  S kočárkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"wheelchair\"\r\n                  ></input>\r\n                  S vozíčkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"luggage\"\r\n                  ></input>\r\n                  S těžkými zavazadly\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  S kolem do MHD\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./App.css\";\r\n//import PlannerContext from \"./PlannerContext\";\r\n//import SelectApi from \"../api/SelectApi\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\n\r\nclass Planner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/form_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"results\">\r\n                <PlannerPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerPID setApi={this.updateSelectedApi}></PlannerPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Planner;\r\n","import React from \"react\";\r\n\r\nclass WizardSteps extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handlePreviousStep = this.handlePreviousStep.bind(this);\r\n    this.handleNextStep = this.handleNextStep.bind(this);\r\n    this.handleTransport = this.handleSearch.bind(this);\r\n    this.returnTask = this.returnTask.bind(this);\r\n    this.state = { step: 0, prevBtnDisabled: false, nextBtnDisabled: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.step === 0) {\r\n      this.setState({ prevBtnDisabled: true });\r\n    }\r\n  }\r\n\r\n  handlePreviousStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n\r\n    if (currentStep !== 0) {\r\n      this.setState({ nextBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep - 1].style.display = \"block\";\r\n      this.setState({ step: currentStep - 1 });\r\n      if (currentStep - 1 === 0) {\r\n        this.setState({ prevBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go back\");\r\n    }\r\n  }\r\n\r\n  handleNextStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n\r\n    if (currentStep !== 4) {\r\n      this.setState({ prevBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep + 1].style.display = \"block\";\r\n      this.setState({ step: currentStep + 1 });\r\n      if (currentStep + 1 === 4) {\r\n        this.setState({ nextBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go forth\");\r\n    }\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  returnTask() {\r\n    switch (this.state.step) {\r\n      case 0:\r\n        return \"Zvolte základní hodnoty pro vyhledání Vašeho spoje\";\r\n      case 1:\r\n        return \"Vyberte si parametry Vaší trasy\";\r\n      case 2:\r\n        return \"Vyberte Vámi preferovaný způsob dopravy\";\r\n      case 3:\r\n        return \"V případě dalších požadavků na spoj zvolte níže\";\r\n      case 4:\r\n        return \"Po kontrole Vašeho zadání vyhledejte odpovídající spoj\";\r\n      default:\r\n        return \"Chyba v programu\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"wizardSteps\">\r\n        <div className=\"wizardTasks\">\r\n          <label>\r\n            <b>Krok {this.state.step + 1} z 5</b>\r\n          </label>\r\n          <label>{this.returnTask()}</label>\r\n        </div>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <button\r\n                  onClick={this.handlePreviousStep}\r\n                  id=\"prev\"\r\n                  disabled={this.state.prevBtnDisabled}\r\n                >\r\n                  Předchozí krok\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  onClick={this.handleNextStep}\r\n                  id=\"next\"\r\n                  disabled={this.state.nextBtnDisabled}\r\n                >\r\n                  Další krok\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WizardSteps;\r\n","import React from \"react\";\r\nimport WizardSteps from \"../app/WizardSteps\";\r\nimport SelectApi from \"../api/SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\n\r\nclass PlannerWizardPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //STATE\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false,\r\n      date: \"\",\r\n      time: \"\",\r\n      directPath: false,\r\n      fastestRoute: false,\r\n      numTransfers: \"\",\r\n      traveler_type: \"pouze peší chůze\",\r\n      special: \"bez dalších potřeb\"\r\n    };\r\n    //BINDINGS\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.setState({ date: currentDate, time: currentTime });\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 1; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    var p = document.getElementById(\"suggestions\");\r\n    for (let x = 0; x < p.childNodes.length; x++) {\r\n      p.removeChild(p.childNodes[x]);\r\n    }\r\n\r\n    var input = e.target.value;\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/places?q=\" + e.target.value;\r\n    var headers = new Headers();\r\n    headers.set(\r\n      \"Authorization\",\r\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n    );\r\n    fetch(url, { method: \"GET\", headers: headers })\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        //this.setState({myData: json});\r\n        var places = [];\r\n        if (json.places !== undefined) {\r\n          if (input.length > 1) {\r\n            for (let i = 0; i < json.places.length; i++) {\r\n              var corresponds = false;\r\n              for (let k = 0; k < input.length; k++) {\r\n                if (\r\n                  input.charAt(k) === json.places[i].name.charAt(k) &&\r\n                  json.places[i].embedded_type === \"stop_area\"\r\n                ) {\r\n                  //console.log(\"Suggested: \"+json.places[i].name)\r\n                  if (k < input.length) {\r\n                    corresponds = true;\r\n                  }\r\n                }\r\n              }\r\n              if (corresponds) {\r\n                places.push(json.places[i].name);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.setState({ suggestions: places });\r\n        if (places !== null && this.state !== null) {\r\n          if (\r\n            this.state.suggestions.length >= 1 &&\r\n            this.state.suggestions !== undefined\r\n          ) {\r\n            //this.drawSuggestions();\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    this.setState({ date: timeInput.value, time: timeInput.value });\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.props.update !== undefined) {\r\n      this.updateInputValues();\r\n      this.props.update();\r\n    } else {\r\n      this.props.ready(true);\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    if (options.directPath) {\r\n      this.setState({ directPath: true });\r\n    }\r\n    if (options.fastestRoute) {\r\n      this.setState({ fastestRoute: true });\r\n    }\r\n    if (options.numTransfers > 0) {\r\n      this.setState({ numTransfers: options.numTransfers });\r\n    } else {\r\n      this.setState({ numTransfers: \"neomezeným počtem\" });\r\n    }\r\n    if (options.traveler_type.walker) {\r\n      this.setState({ traveler_type: \"pouze peší chůze\" });\r\n    }\r\n    if (options.traveler_type.bike) {\r\n      this.setState({ traveler_type: \"kola nebo koloběžky\" });\r\n    }\r\n    if (options.traveler_type.car) {\r\n      this.setState({ traveler_type: \"osobního automobilu\" });\r\n    }\r\n    if (options.special.standard) {\r\n      this.setState({ special: \"bez dalších potřeb\" });\r\n    }\r\n    if (options.special.baby) {\r\n      this.setState({ special: \"s kočárkem\" });\r\n    }\r\n    if (options.special.wheelchair) {\r\n      this.setState({ special: \"s vozíčkem\" });\r\n    }\r\n    if (options.special.luggage) {\r\n      this.setState({ special: \"s těžkými zavazadly\" });\r\n    }\r\n    if (options.special.cyclist) {\r\n      this.setState({ special: \"s kolem do MHD\" });\r\n    }\r\n\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n      >\r\n        <div className=\"options\">\r\n          <WizardSteps step={this.state.step}></WizardSteps>\r\n          <div className=\"options-box\">\r\n            <div id=\"options-box-main\" display=\"block\">\r\n              <div className=\"inputFieldDiv\">\r\n                <label className=\"textLabel\">Odkud:</label>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_from\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte počáteční bod\"\r\n                  onChange={this.handleFromInput}\r\n                ></input>\r\n              </div>\r\n              <p id=\"suggestions\"></p>\r\n              <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n                <label className=\"addVia\" onClick={this.changeTransit}>\r\n                  <img\r\n                    className=\"viaBtn\"\r\n                    src={add_icon}\r\n                    alt=\"+\"\r\n                    title=\"Přidat průjezdní bod\"\r\n                  ></img>\r\n                  <label id=\"addViaText\">Přidat průjezd</label>\r\n                </label>\r\n                <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                  <img\r\n                    className=\"viaBtn\"\r\n                    src={remove_icon}\r\n                    alt=\"×\"\r\n                    onClick={this.changeTransit}\r\n                    title=\"Odebrat průjezdní bod\"\r\n                  ></img>\r\n                  <input\r\n                    className=\"locations\"\r\n                    id=\"input_via\"\r\n                    type=\"form\"\r\n                    placeholder=\"Zadejte průjezdový bod\"\r\n                    onChange={this.handleViaInput}\r\n                  ></input>\r\n                </label>\r\n                <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                  <img\r\n                    className=\"clickable\"\r\n                    src={swap_icon}\r\n                    alt=\"[SWAP]\"\r\n                    title=\"Prohodit Start a Cíl\"\r\n                  ></img>\r\n                </label>\r\n              </div>\r\n              <div className=\"inputFieldDiv\">\r\n                <label className=\"textLabel\">Kam:</label>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_to\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte cílový bod\"\r\n                  onChange={this.handleToInput}\r\n                ></input>\r\n              </div>\r\n              <div className=\"box\" id=\"timeBox\">\r\n                <div className=\"inputFieldDiv\">\r\n                  <label className=\"textLabel\">Datum a čas:</label>\r\n                  <input\r\n                    id=\"input_date\"\r\n                    type=\"date\"\r\n                    onChange={this.handleTimeAndDate}\r\n                  ></input>\r\n                  <input\r\n                    id=\"input_time\"\r\n                    type=\"time\"\r\n                    onChange={this.handleTimeAndDate}\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"directPathBox\">\r\n                <label className=\"inputFieldDiv\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"directPath\"\r\n                    onChange={this.getOptions}\r\n                  ></input>\r\n                  Pouze přímý spoj\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"optionsSettings\"\r\n              id=\"options-box-parameters\"\r\n              display=\"none\"\r\n            >\r\n              <label className=\"optionTitle\">Trasa</label>\r\n              <br />\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"route\"\r\n                  className=\"route\"\r\n                  id=\"fastestRoute\"\r\n                  defaultChecked\r\n                ></input>\r\n                Nejrychlejší\r\n                <br />\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"route\"\r\n                  className=\"route\"\r\n                  id=\"lowWalkingRoute\"\r\n                ></input>\r\n                Nejméně pěší chůze\r\n                <br />\r\n              </label>\r\n              <label className=\"optionTitle\">Přestupy</label>\r\n              <br />\r\n              <label className=\"transfersLabel\">\r\n                Maximální počet přestupů:\r\n              </label>\r\n              <select defaultValue=\"-1\" id=\"numTransfers\">\r\n                <option value=\"-1\">Neomezeno</option>\r\n                <option value=\"0\">0</option>\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"5\">5</option>\r\n              </select>\r\n              <br />\r\n              <label className=\"transfersLabel\">Čas na přestup:</label>\r\n              <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n                <option value=\"5\">Alespoň 5 minut</option>\r\n                <option value=\"10\">Alespoň 10 minut</option>\r\n                <option value=\"15\">Alespoň 15 minut</option>\r\n              </select>\r\n              <br />\r\n              <label className=\"transfersLabel\">\r\n                Maximální vzdálenost mezi přestupy:\r\n              </label>\r\n              <select defaultValue=\"100m\" id=\"transferDistance\">\r\n                <option value=\"100\">100 m</option>\r\n                <option value=\"200\">200 m</option>\r\n                <option value=\"300\">300 m</option>\r\n              </select>\r\n            </div>\r\n            <div\r\n              className=\"optionsSettings\"\r\n              id=\"options-box-transport\"\r\n              display=\"none\"\r\n            >\r\n              <label className=\"optionTitle\">Na trase chci využít</label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"ownTransport\"\r\n                  className=\"traveler_type\"\r\n                  id=\"walker\"\r\n                  defaultChecked\r\n                ></input>\r\n                Pouze peší chůze\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"ownTransport\"\r\n                  className=\"traveler_type\"\r\n                  id=\"cyclist\"\r\n                ></input>\r\n                Kolo nebo koloběžku\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"ownTransport\"\r\n                  className=\"traveler_type\"\r\n                  id=\"motorist\"\r\n                ></input>\r\n                Osobní automobil\r\n              </label>\r\n              <label className=\"optionTitle\">Výběr dopravních prostředků</label>\r\n              <div className=\"optionMeans\">\r\n                <label className=\"means\">\r\n                  <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n                  Metro\r\n                </label>\r\n                <label className=\"means\">\r\n                  <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n                  Tramvaj\r\n                </label>\r\n                <label className=\"means\">\r\n                  <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n                  Autobus\r\n                </label>\r\n                <label className=\"means\">\r\n                  <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n                  Příměstský vlak\r\n                </label>\r\n                <label className=\"means\">\r\n                  <input type=\"checkbox\" id=\"Funicular\" defaultChecked></input>\r\n                  Lanovka\r\n                </label>\r\n                <label className=\"means\">\r\n                  <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n                  Přívoz\r\n                </label>\r\n              </div>\r\n              <label className=\"optionTitle\" title=\"Momentálně nedostupné\">\r\n                Doplňkové služby\r\n              </label>\r\n              <label title=\"Momentálně nedostupné\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"journeyFeature\"\r\n                  id=\"taxi\"\r\n                  disabled\r\n                ></input>\r\n                Taxi\r\n              </label>\r\n              <label title=\"Momentálně nedostupné\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"journeyFeature\"\r\n                  id=\"uber\"\r\n                  disabled\r\n                ></input>\r\n                UBER\r\n              </label>\r\n            </div>\r\n            <div\r\n              className=\"optionsSettings\"\r\n              id=\"options-box-access\"\r\n              display=\"none\"\r\n            >\r\n              <label className=\"optionTitle\">Jsem cestující</label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"transportRequest\"\r\n                  className=\"traveler_type\"\r\n                  id=\"standard\"\r\n                  defaultChecked\r\n                ></input>\r\n                Bez dalších potřeb\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"transportRequest\"\r\n                  className=\"traveler_type\"\r\n                  id=\"slow_walker\"\r\n                ></input>\r\n                S kočárkem\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"transportRequest\"\r\n                  className=\"traveler_type\"\r\n                  id=\"wheelchair\"\r\n                ></input>\r\n                S vozíčkem\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"transportRequest\"\r\n                  className=\"traveler_type\"\r\n                  id=\"luggage\"\r\n                ></input>\r\n                S těžkými zavazadly\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"transportRequest\"\r\n                  className=\"traveler_type\"\r\n                  id=\"cyclist\"\r\n                ></input>\r\n                S kolem do MHD\r\n              </label>\r\n            </div>\r\n            <div\r\n              className=\"optionsSettings\"\r\n              id=\"options-box-summary\"\r\n              display=\"none\"\r\n            >\r\n              <label className=\"optionTitle\">\r\n                Souhrn před zobrazením výsledků:\r\n              </label>\r\n              <label className=\"summaryText\">\r\n                <label>\r\n                  <b>Spoj z: </b>\r\n                  {this.state.from}\r\n                  <b> do: </b>\r\n                  {this.state.to}\r\n                </label>\r\n                <label>\r\n                  <b>Datum: </b>\r\n                  {this.state.date}\r\n                  <b> v </b>\r\n                  {this.state.time}\r\n                </label>\r\n                <label>\r\n                  <b>Trasa s max </b>\r\n                  {this.state.numTransfers > 0\r\n                    ? this.state.numTransfers\r\n                    : \"neomezenými\"}\r\n                  <b> přestupy</b>\r\n                </label>\r\n                <label>\r\n                  <b>S využitím: </b>\r\n                  {this.state.traveler_type}\r\n                </label>\r\n                <label>\r\n                  <b>Pro cestující: </b>\r\n                  {this.state.special}\r\n                </label>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerWizardPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./App.css\";\r\n//import PlannerContext from \"./PlannerContext\";\r\n//import SelectApi from \"../api/SelectApi\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\n\r\nclass PlannerWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/wizard_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerWizardPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID setApi={this.updateSelectedApi}></PlannerWizardPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlannerWizard;\r\n","import React from \"react\";\r\n//import { Redirect } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass Result extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ startId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length >= 1) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    for (\r\n      let i = 0;\r\n      i < document.getElementsByClassName(\"optionsSettings\").length;\r\n      i++\r\n    ) {\r\n      document.getElementsByClassName(\"optionsSettings\")[i].style.display =\r\n        \"none\";\r\n    }\r\n    if (this.state.results !== undefined) {\r\n      for (\r\n        let resultNumber = 0;\r\n        resultNumber < this.state.results.length;\r\n        resultNumber++\r\n      ) {\r\n        let label = document.createElement(\"label\");\r\n        label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n        let resultItem = this.createResultItem(\r\n          this.state.results[resultNumber],\r\n          resultNumber\r\n        );\r\n        label.appendChild(resultItem);\r\n        resdiv.appendChild(label);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass ResultWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ startId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length >= 1) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    if (this.state.results !== undefined) {\r\n    for (\r\n      let resultNumber = 0;\r\n      resultNumber < this.state.results.length;\r\n      resultNumber++\r\n    ) {\r\n      let label = document.createElement(\"label\");\r\n      label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n      let resultItem = this.createResultItem(\r\n        this.state.results[resultNumber],\r\n        resultNumber\r\n      );\r\n      label.appendChild(resultItem);\r\n      resdiv.appendChild(label);\r\n    }\r\n  }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerWizardPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerWizardPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultWizard;\r\n","import React from \"react\";\n//import ReactDOM from \"react-dom\";\nimport { Route, Switch} from \"react-router-dom\";\nimport \"./App.css\";\nimport Planner from \"./Planner\";\nimport PlannerWizard from \"./PlannerWizard\";\nimport Result from \"./Result\";\nimport ResultWizard from \"./ResultWizard\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.writeStart = this.writeStart.bind(this);\n    this.writeVia = this.writeVia.bind(this);\n    this.writeEnd = this.writeEnd.bind(this);\n    this.writeStartId = this.writeStartId.bind(this);\n    this.writeViaId = this.writeViaId.bind(this);\n    this.writeEndId = this.writeEndId.bind(this);\n    this.writeTimeAndDate = this.writeTimeAndDate.bind(this);\n    this.writeOptions = this.writeOptions.bind(this);\n    this.state = {\n      start: \"\",\n      via: \"\",\n      end: \"\",\n      startId: undefined,\n      viaId: undefined,\n      endId: undefined,\n      timedate: \"\",\n      api: \"\",\n      options: \"\"\n    };\n  }\n\n  writeStart(from) {\n    this.setState({ start: from });\n  }\n\n  writeVia(thru) {\n    this.setState({ via: thru });\n  }\n\n  writeEnd(to) {\n    this.setState({ end: to });\n  }\n\n  writeStartId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ startId: json.places[0].id });\n        }\n      });\n  }\n\n  writeViaId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ viaId: json.places[0].id });\n        }\n      });\n  }\n\n  writeEndId(place) {\n    console.log(this.state.startId);\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ endId: json.places[0].id });\n        }\n      });\n  }\n\n  writeTimeAndDate(timedate) {\n    this.setState({ timedate: timedate });\n  }\n\n  writeOptions(options) {\n    this.setState({options: options});\n  }\n\n  render() {\n    return (\n      <Switch>\n      <Route\n          exact path=\"/\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions = {this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          path=\"/form\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions = {this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          path=\"/form_result\"\n          render={props => (\n            <Result\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions = {this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          path=\"/wizard\"\n          render={props => (\n            <PlannerWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions = {this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          path=\"/wizard_result\"\n          render={props => (\n            <ResultWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions = {this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n      </Switch>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router} from \"react-router-dom\";\nimport './index.css';\nimport App from './components/app/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\nserviceWorker.register();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}