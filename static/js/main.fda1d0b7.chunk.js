(this["webpackJsonpintermodal-planner"]=this["webpackJsonpintermodal-planner"]||[]).push([[0],[,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAABHNCSVQICAgIfAhkiAAAAN1JREFUKJGV0TFKQ0EQxvEf4gHeAQRzhHcE7SzjDSzs9QqewNjamDaCaBsU9AZqZat4AWNpo8XOwGNJNvGDBztv9z8z3wz0OMfIPzTHL74x3hSaBpTfLboWsIWfOM+wiGrP2GtBqQfF36vi71Hx2oTgPcCziE+jal+Dl4qX4+p/H0nS68mqSkO9BHgR8QSf2G1B8BUtziLewWR7DTRSVpCe5jhsVRoO4QP7OMjLehBdZM8BTFXLrtsb4yoeLXCEu2VtZKX7QfanOnutm8HjnNZaXQfwZsnmV6nbNHvqD6m+N2Pvvzt3AAAAAElFTkSuQmCC"},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAApCAYAAABqUERyAAAABHNCSVQICAgIfAhkiAAABe9JREFUaIHVmmtsFUUUx3+UIoVWaFMRMEQKAo1YsFhN8IUlgaAQEE00mpDYEL+JUD+IJpKIKBpNfEXxg0ZEYnyHNCJGYwQpaH0RBVIfBAHBYnmIVMG2Frt+OGeY7d7du3O72974TzZ7d+bMf8/OzJ7XXvh/owJYBmwBqvOsS7/CPPi3gOc76vOpVH+hmswHPwmsAxbmUa9+RT3y4H/r+aP8qpM/1AKXIpNwKM+65B1HkYm4OA2ywoTjK4CngdJAewkwAdgLnAr0nQTuAQ4kuO8moA6YA/yQgCcVmPc01yOpJb9NeT5MyAPAgBQ4akPaRgFv6O/5ZO6GTxPesxQ4AfwDDAc6E/L1GRqQ1arrI/4vlH9OUqKC5LpEokHPy/qI37jI65MSpfE6ZEMbMAxoIv0tOxqoRFzlhSlzp4YixBP0xnDmeoxJomhSF5kNaxCjBWIY56fEex2wAtH9CDASmAu8mBJ/argVWaFWYLf+TiO+Xwz8q3wv6LUHbEiB2wklwETgKmASUBwhNwE4jSh7NTaWaIiQd0U90K1cj2rbCL0+hbjNST79zk14v7OoBFYBzYS/i83AQyoHYge+174V2lbqk6/opR4P+jj8gdZkbAgddvwEPEYvw+spyBYzM2+ONuAr4M9Ae7fKb9DrzfT0PCZmyDVSHICE5eYei7W9FHgO+2p4+nsf8Lmeu3x9Z4DnsTYqFrOAdh3cCTwOLADGBuTGAjcCT6qcueEJoDwgu1D79rsqgcQwL+u4LuAWba8BfsMuyjr9vSMwvhC4EtlFbSpzGJgWd+ObkVnzgG+w2zwOs7GrcgaZnCAOaL9LGWwQ8LbKdwA3aPtC7IS/ApQhD9uhbSMi+MpU3kMW+KaoG1chBYtuYDnu0aTfDnyMLXxMCcg9o33rYviGAB9gDd612j4dmYBuYGlgzPsqvyiGe6mO70B2SQ8MRbaqp8rmArNljR14Vq9/pqcHqdD2P8hMvQ2GAY0+uRptLwaOafvqkHFLtO81B31Xq+wxxOOdxSrt2IusrCv88YCxA0XK4wErA/LfEZ1UlSOvoIcEQZN9fcY7fE34Dp2o/UcddC5A7IenvIDE4B3IO10TPi4UwXjAjyuQbXcKON/XXqc33xKQvwDrhg8C43x9JcrjIa9EFA6pjMszTFfZv5Sf+7Rhm8Ngg7B4IIht2n+vr60Um0+YmGEc4tI8YA8yIX6Y3bY1Rqc1KveA0xNITcNT/rNG5SnHwZBpB8JgDGEwUjQubSWy5Vv0eieZrhXgde2PS8kXqFxjvPqgfB5a/NmjF7c7Dg6zA2FYhI3a/KjV9hbguP5uQoxiGHapTJx/L0biiS6iQ3o/qpV3VyGShYEYpTjMQFYG5CHezSI7VM/jybQBndht/wmSYbZH8IzW88EY3U4jr+BMpNoUl1SZkv1oo5BH9Er48Rbp1gEOI4FRNpiPLYMd9LtLZe90kD1HZdsHIDMyBglKtjsMvgP4xUFuKhIzHEGqw34MRKJKkxlmwz7EeI7DrUx/OW67ugKJjfaD9Zl3OwzMBcbwfJmQZ6vyzEusUU/MVd7GAqySsYlFjrhMzy6rkg3GnqRVmTJYoOfNIFmjCVPPS+kGI7HxwMyEXFXKcxw3q++CoVjPVAUSRv6Iz2emAJMB7iadsn6T8j2SAhfKk/GqzsNa7KQrN9vHlfibgMLEFp3oyiXAJViPOCPYuRab/UVleXEoA35VnrW95IjCemzw5VwhCmA4NjhcHyYwEBtPtyK2IhfM0nGe8gzspaJRGIT1FHuBi3IcX4nNbreSJT4ZAryJ3c4vEW+MhmFzCQ94R3n6AkOAjdjCzcMO+pWonCkZbgzqF5X8LEGqtCVImt2MJDg7kdmcgPxjZCpSQRqMpKX3I98D+hrLkSp3ETIZ24HPkGCqFfkqPh6pHl2DeIMOpH7wRC43GoXU5Uz9LupoB14lPffqijHIrvUXecOOTpWL/FTn8kG2GAlxpyFJzwjEx7Yg5fdNyGrkCyVI4FODJEPlwO9IRXoH8B6Z/4/ogf8AKeECUaxNiMUAAAAASUVORK5CYII="},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAApCAYAAADeWrJ9AAAABHNCSVQICAgIfAhkiAAAAoZJREFUSImtlk9sTUEUh7+iVNG+aLrQBGVjIaKiVJomSASJsBM2ojbdSd5SxUKIxKppLCysGjaIpq+x8G+BTYM0KQvdKGktaFoprYiiz7WYM5n77ps75s7rL7m5eXN+8915M3PODGRXDrgNfAE+A8+BjgBOmRqBX0CUeGaBY5WAVwALFrB+vgKHQuG9DrB+hkPhbz3gC6h/CMCS0C/5KAv8kYdnBLXgmbUMKJI+Jd+AAyFgrQbgjwU8BxypBLwJ6E9APwHPgD2h0FXAFWAesyM0/GAotAo4JaPTsEFgNPb7Xgh4JyohNGQMlX3NmHQvoua/IQv4GvBXID+A88ByiXVKewEz/92+4L2x0d4FmhLxPonlUfMdAROoKXSqCpPiV1M84xJvEf8EngvbJcZxoNoSb4nFtc5JW78LXAtMifFEiicv8b5YWzyp8mnwS2J44RhAQTydifYeSrfqmmTHO6gd0uaAa0DOEusCfkv8A7AtHqxB7e007ZOOrx2eHZgFngPqHN4SXZROvf/x1QMPgCFgqQ+4DnXSR8B139H46qSAddYeX0z4DYEOyHse2LVY8DGBtmLSfwpYVyl4g8C+o9K9GngpbSPAykrgZzBVUKsRk82DeBStNN0SyNlE+25M0lwOhU8KYKsldlpiRQKmZ4t0nnF43otnvy3ouhRdkLfrMvRY3q6aVKZ2TKFKVsG49NQUHJ4SbUcVngi4iXs36Kmb9gFvxtSRAfzukrPi3+gyNQEfxfgEdTf00UNSTjA9shzwFFiPOo2Oom5WPtKnl3VRa4FX8vU3wGpPqNZh6TtkC96X4CiwNiMYVL2PUBlbdmuYAd6hakaohoGfWP51s60xo+qFU6J/Fd7ZY+iuhegAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAApCAYAAABp50paAAAABHNCSVQICAgIfAhkiAAAA81JREFUaIHNmVuITlEUx3+GiTBj8CC5lsQLuSSaUhOPItc8qXnwMIxClFLyJFMe3ApJcgmFXEYJCQ8u82AaIURu5U6DcZtxOx722u39Hd855zvnO/s786/TOWfvtdb+77P3XnutfSBbzARuAi+At8CebOm4xRrgM+D5rg6gV4a8nGAp8JH/O6uvr9lRSx/dgCcEd9YDvgOrsiKYNkYAbYR32AMuuGi8zIXRzowsOvwMeB8h8wM4VwIuJUMd8Ing6dyWHTV3qEdtQf7OtgM9M+TlBLOAx5hOfgPeALuzJOUCo4GLmI7+kfs7SuhPxgHLgSqHbfQFtgK/MSO6TZ5/yX1OAruJuOsv/hKoSdBoGLoCS4BWzKgeB4agAgsPuCH3JF75NAm4HybXaWxO0HA+DALuWnYfANOs+nNSXotyVH+BoTHb2EcC7rtFuNFSbEFNl2JwwLK3GhVSanRHddJDTcf98rwhZhuJuGulxSL4zFJeHpOAxnjR/ynPfkyT+mZ5r5b3D8RzXom420qgvvgWS/EyMDwGCYAm0d0UUN8g9Q1W2UMpmxujnUTc/UoaszHR0Ed5LwRzRacVqAyQaRaZ6VbZMovomALbSsQ9SAnUFztlEWlGbTFBKMNMq/oAmSqUg2pHrWWNPpi0sR0VfkYhDvf7UhaqpLFXSHqER0P9UacY91BbUj4sFDvn89RVYLYaDzhG+OlHIdxPWtw3RilVkOv6rwMDQoyDWjODQ+r3YDx3EFZhgpRDIXJRI3yS3G0xdISrMdPzNbnrrRjoGHpshFw1KqBYGSITtob1EdInItZwOWrodZzbSHph5xyx2wFMSMFePi+9GTOqV4jw0iOB25ictDYFUjbOWGReAQOLtOffh59a9ldEKR1GnTR4wDVgWJFk/OgCfBH7ep9uIddTx0W+SOsWEZHWQUv4J7AWN6naZIzz6IcaYQ84WoRNfyy9pRClsyL8nPxhYFpYK+3skPfxmHh6XUKbegt7RYxsqQoVJPRI2Gih0GnofKtM78ke6hQkLsah1qrLXD4RumFG0x+pbZLy7xSfoXUa1GCclB9lwB2pP+GaSKnOkXTifylP3V/MPjq1NHTcogtmnc4IkdN/EoeUgpRL7ER15AfQO0TugsgtcEnG9ZRej0rzfqN+fof9Bm2S+xTHnJyhDnP2XMjhwQyRv+qSlCvMw+SgiwrUqcREe+WOeDlBDeZwfVlM3UeiNzFtUq4wCfVXIWm4qOP6oOOhToVBmKR7e0Ib9aJ/MC1SLjEdRXZXETZGo9b+kVQYlQBRxzaFYBQOE5l/GZ1woTNfSoAAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAABHNCSVQICAgIfAhkiAAAAlFJREFUSInN1s1rVGcUx/HPc3VAQW2jIopiKGKrROPCFxQRF2IrRRcuAsmlreKISwU34kb0L9D8AQqCSdwquHAh+IaVFmlKIihaRVGx1NeFLmzGp4s7Aze3cyeJZuGBgTvnd+53zuH87nMHjuI14iR8ToT6xWTFoylow2pMmQRgb+PiR1z4DNBFfF9MvsbXnwCbi38aX/JjLsJC/DZB4D48lnU5Ktbj14k36HesKRPvY8kEYN/hTj5R3OwcrMCVcQIPYBBXG4lQKFgq2/a3PT09IyGEMiuN9Pf3V/AAW/CwISSFwnt4g7UhhD9bdDaIDXiehzUDwhn8JNves6IYQnheq9X21mvO/E9vApyDu5ibpukzLCgAn/b19S2qT9KOt2N1+FJmhW2yg+NWTvujVqsdwXZcK8LKOlQf5wf8nF9OjHFkYGCgggGcw9mS+5vGvyX5BB/KbiqzRVU2+vkmWpSZ/yu0csKouCGzRVlskjNzPqY2yS2XnTo3S8zdMPV82YNwLy82G/kQrnd3dy9LkqRdwTYxxqHOzs73Q0ND9+tTXBqrwyqWJEkyiMVFMYSwCsewDrdxOK8XfbgTl9M0bcPMJj/WiLaurq7puIkdrYBVnMTuGGOlBTBUKpVd9dpqXsiPPA9rZU9BfwhhRgvgLByUveBOYTZeMXop+3E7TdOP2FovbhV/d3R03BoeHn4nO2hvMHrkKk7GGI/jmzFg0J4kSa/C2A3gZjzBX+gYBwzEGFfKTqYX2JjXTuOX8YKaxJ56p8g8VfOl/7dZjmmTAOz9D5B5sfvj/7TdAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAAABHNCSVQICAgIfAhkiAAAAvBJREFUaIHtmTFoFEEUhr9JFFKoaKEYECKIWIiwapki19keWtnIioVFLAIptLTQUrjSRi6llqKFnRswYKHsaqsQL2JhIbcnghLUsdhbvcvt253Z3bnkgh9Mkdu5///fzbu5ya6iHGeAk8CXku8vYj+wAbx1pP+XeeA7oMc0fvQ9nbExxmLS8c5VMYe3oZh0zJiGnLIo6JrF3Lq56EJ0ne1boSemIZXhvHnghXAtBL6aGhZwADib8fovkpbv1uTDA7I/ufW6DAb4KHhdr8tgBvgmmNysy2SAu4JXUJeBLxikbVA3pwW/38CROgxWBYOndYgLvBE8l6sKHxeENXCpqngOtwTP11WF7wjCXWBvVfEcjgm+GjhRVlQBnwTRVrW8RqwJ3rfLCl4QBDVwqmJYExYF7/dlBR8JgpX72JBDwE8hw3lbsYPApiC2WE9eI54JGe7ZCt0QhDZJih0XV4QcnzE/tgFJW2UJPawxrAn7kDulkfWGPVv+XiDZFs8JBq/6c8bJGtnhl0kKg+THH0iWzQPaSinPfTZ7tNa515VS6bwIuDoN3FdKZS7fJJAWpJQ6CswqpVT+R7ADyFultKCUqaIlnSS01sX3FBYWxr0HyDQao9+MkQXpt9zQ8H1fh2GoBwnDUPu+Lx2FnA2bLEopjVJKpwPQKysrOo92u60H3+NylMkyVFCz2cwVSGk2m86LKZtlqKAgCIxEgiBwXlDZLEMFxXFsJNLtdp0XVDbL0C4Xx7HRbtPr9YzmVaFslqGCoigyEjGdV4XSWQaXy/M8o2X2PM95y5XNwlYh3/fF/o3jWPu+77yYillGz3Jzc3MsLS3hef8O4FEU0Wq16HQ61XrJEtssmQVNMjbPhyaCXVeQAp5vea3on73angIYYpVn5M5J0XdKa211t6Uqtnl2Xcv9L2ins/sL0lqLR+m8a66wzZO1Qnnb8ri37CJPozwN6bBI8W+CC6zyTGcIfAAeA7Mkd/k7JA9xLwMvHQaXsMrzB3YecOdDp7k9AAAAAElFTkSuQmCC"},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAABBxJREFUWIXN2E1PIkkcBvBnGinBZKNtNy8NbXoO4sHDfIWZIyT4khiuawBDyB7WZDeTycRN4I6J7H4NT2rCjWzmC9hEbu6MiVGxgwqN8mbhpPawshnQgW5kxOcGVOf/SxXV9fIKg+c1gEWv1/u20Wj4KKUipVQAAELIFSHk0m63H56dnX0CsAvgeJAirwZ45rfJyclfCSFCKBSy+v3+cZ7n4Xa74Xa7AQCapkHTNOi6jkwmc7u9vd26u7u70nU9DSA9CLRvBEH4yHHcXTqdruXzeWY2BwcHbGtrq2axWFqCIHwYpu2N0+k8isfjFUqpaVh3ms0mi8ViFafT+RnA/JNkkiTFFEUpXVxcPBnWnWKxyGRZLns8nshAuNnZ2cTy8nJp6LKuBIPBks/n2zCNi0ajzR+NayccDt+Kovi7IZwkSbHn6LnuBIPBkpHhfqMoSl+cqqqMEMJUVTUMcLvdfdvIslxGr4njdDqP+k0IVVWZoigMAFMUxTASQN82mqYxl8v15VGcIAgf4/F4xQhOVVUGoOPzMICMMRaNRiuiKL5/ALRYLF97vee6Me2CRpFGgfV6nVmt1lYHjuf5jXQ6Xev1YCKR6EB8W1BVVZZIJIYCZIyxVCpVA7D+P3BqaurY7PJlpqDZ9qqqMp7nj9q+1w6H48ZUtR8MZIwxQRBqAGQOwGIoFLL2e/88d5aWlr4CWOS8Xu9bv98/PmpQd4LB4E8zMzPvuEaj4eN5ftSeBxEEAbVabY6jlIrtjeZLiiRJoJQ6OEqp8IKBIjdqSL9whJArTdNG7XiQ8/NzEEIuOULI5UsEFgoF2Gy2C25iYuJQ1/VRex6kVCrBbrcfcqenp58ymQwdNag7e3t7NycnJ38DgOJwOKqm1qEBli6z7aenp2sAvByA41ardZnP50fZYR1RVRWMMQ3AGQcAuq6ns9lsY5hFkskkcrnco7/lcjkkk8nvPpvNZhvlcvnPji/Hxsbumk3jBzn0GbJBN7jVapURQh7OCUEQPsRisethAbsxMHhEiEQi1wB+ebRrXS7X52KxODTgt0gYOGQVCgXmdrv/6fXXmZdluWyksCzLhoBt5Pj4eN9ziyRJFQBzvYDweDyRhYUFQ8hhJhAI6F6v9+eeuHZ8Pt9GOBy+fS7c6urqrcPhWO8v60T+8Rw9GQgEdNO4djweT0SW5bKmaUOHFQoFJklSxfCw9si8y+X6sra2dl2v158Mq1arLBKJXN/P1t4TwkxEUXxvtVpbm5ubdTOXRu3s7++zVCpVJ4RQw1dtGOwSfZ3n+XWO41wrKytjfr+fCIIASZIgSRKA/zabhUIB5XIZu7u7Nzs7OxbGmHa/fP1lptggwHZkAIszMzPvarXaHKXUQSkVAYAQcmmz2S7sdvvh/ZZpF8DZIEX+BXlY9mPXngHYAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAgFJREFUOI2llTtv2lAYhh8gGKXQbuYwRLIHhnbjMlfcIrFZCsr/gR8UyaqMuYm0ZKoqYvDULkS4G4aJyqqUUskdWipuBiV5FkuffB5/fs/n4xDBXAN5IUTZ87y3APF4/Nt8Pv8EWMDNoUWhA7XXsiwParXahaqqyUwmQyaTAcC2bWzbZjqdznVd/75YLIrAzyNNUYnFYo/9ft8/Rbfb9SVJWgGFg6Z0Oq2Vy+XlSdMOpVJpCRT3XjMWiz0GLbq/v/eHw2GgNBqNroBzgDCALMsD0zSloByazSbNZjMwJ8MwzoQQd2vhda1Wu6hUKseyPUq1WkXTNAW4CgN5VVWTz7b9Q1GUJJAPCyHK67F4CblcDiHEZSgejy8nk8mbVCoFgGVZe3kNBgMAisXtzdQ0jWw2C8BsNiOdTv84232S7/v4vr9X27zu1rcQQnxpt9tHZ63RaPj1ev3oPaZp+kKIz2HXdT/atv2UuA4yHo9xXfc2DFjT6XTxUqHjOAtgGAZudF13er3es2WtVgvDMB6AD+vaK0mSVkH5jEYj37KswPwikchvYO9LK5RKpScfDoVCYQm8D+q+GI1GV51O56TINM11Z1uyQwfsuRDiTtM0VVEUOZfL/R/e0WjEeDzGcZyFYRgPrusWgF+nhGuu+PsLuPQ87x1AIpH46rruLTDc3IBN/gCPT/yk/yllywAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAABHNCSVQICAgIfAhkiAAAAqtJREFUSIntlr9LG2EYx78Xgu/dBc/kIJqCOSUd7CB6hEALJYlbSxcdHLuUOphJobi4CNLBqX9AF8GlpSCSSoYOoqXXuLQEHEqW4hR60iRvfl0jJN7boabkx51eQju0+Blfjufzfp+H5+WAG/43uD6+9QBQAYRlWY5xHOellL43TfMzgE8Avv9JKXG73esA1hVFqUejUXc0GhVGRkZwfHzcPDo6+nFycuIhhLwzDOMpAL2PIJbECCG5WCxWPT09ZXZUq1W2urp6TgipAVgB4BrINj4+/lCSpNre3t6Fra2LbDbLpqenS2NjYy8HcUo8z+cPDw+d+n5TKBTY8PBwDcD9voyCILxZWloy+jZekkqlLnie/waAd5wyEAhU6/V6R6H5+XmWyWR6BJRSNjc3xyilHeeLi4sVWZafODISQh5tbGz0zDGTybCJiYkOMaWUqarKtre3ey6TTqdZOBx+60gaDAZf7OzsWLatXXyVkDHGdF1niqJ8dSQNBAJpTdMsC7XEwWCQTU1N2QpbiKJYh8X69ByYpnlLEATbS01OTkIUReTzeaiqemUAjuNcAKRrk0qS9NouQXtLrWbcTi6XYx6Pp3St8JKV5eXlnnWxmuFV4v39feb3+z86lcZnZ2eL3UXi8bjlDFvi7pXZ3Nw0eZ7fcip1+Xy+L5qmdaxNd9F2ut/lQqHARkdHKQDFqRQAbnu93pKu67YiO0zTZJFIpEoISfQj/BXX5Xo2MzNTOjs7cyxsNBoskUicC4KQ7lt4CQfguSiKtWQy2bhOmM1mWSgUKhFCNAD+QaUt7hJCcgsLC8Xd3V3WnrxSqbCDgwO2trZmDA0NlQE4aqnT3xU3gHuhUOixYRgPms2mX5KkJqX0wufzfSgWi6/K5XIKQG3QZE6QAdz5m4Ib/i1+AsudvqDWHe+XAAAAAElFTkSuQmCC"},,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAyCAYAAADbTRIgAAAABHNCSVQICAgIfAhkiAAAA4RJREFUWIXtmM9LFFEcwD+7m1Yj7pLpIgnqxVMgQtExQpIyAyv2Pwi6VFRbWXro0LEg1uoY0bWTeBM7hHhYjDKhDbZOriutFsZCbrXW+jo8V8bnm52Z3dndSx94l++8H599Pr/vO+PDGQeBk8AA0AuEgXagAHwDMsBHYHqrZR3OWxYhIAb8BYTD9gd4BASrIXQOuQtOZdT2dWsOz7hdgYy5bQJRt4v7NLGnwGU12NnZyfDwMP39/fT09NDV1cXm5ibpdJpkMsnMzAyTk5MsLS3p1nkMXHMrVySK8mtDoZAYHx8XGxsbwo58Pi9isZgIBoO6XbtRjtAA8r9pe6KOjg6RSCRsZVQSiYRob29XpQrAKTdC+4A18yRtbW0ilUq5FiqyuLgowuGwKpYB9juVumse3NDQIObm5soWKhKPx0UgEFDFbjmVypgHjo2NVSxUZHR0VJX64kTomHlQOBwWuVzOM6lcLidaW1tVsaOlhPxAxByIRCIYhuF0h20xDINIJKKGL9hJHTEHhoaGPBMqMjg4qIaOlervBzrMgd7eXo+VoK+vTw0dKtXfB+SA7b9XPp+nsbHRU6n19XWam5vNoSxwwKq/H3nwqorPt+s221Oqvx9YNQcymYzHSrCysrIrVKq/H1libDM/P++xEiwsLKghW6m35sD09LTHSjA1NaWG3tuNOY0psQWDQZHNZj1Lnmtra7qqYcBOai+wbh40MjLimVQ0GlWFfgIBJzv8EOVCjsfjFQvNzs7qLuQHToRAFvnfUe7AdDpdtlAqlRItLS26ur3Z0kLDKTRFXjKZdC1UosizPUs6bioTiVAoJGKxmKty2DAMXTl83amE7sXhCXBFDaovDt3d3RQKhR0vDhMTEywvL+vWeQpcdSplxY5K1IN2qVKhIueBtEdSq5gu/UppAC4iM3ClYvedLqo7U1aEgSFkUXgY+aGjgPyw8QF4A7wCZoEezfjfQBfKXVsrzmC9W8/rIVTktYVUAbnLdeEwSiI2tdf1kgJ4YSElgF1vErXiEPDLQuozspbT4qiEKJMfyG8UxzXPDiLflN9VcX1LDGTidJVQq7lTIL9//gDOap41Ib/01eXgB5BnSLdbv5BJuS78T6hu+J9Q3eAooVY7JajYJdT3wKeaGm1RKqGOQ4n7p4r8BO5ZPPtYSxEVPzDFzl16Ru2P0y6agDvAS+BEnV3s+QfWRa3X7QmX6wAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAyCAYAAADm33NGAAAABHNCSVQICAgIfAhkiAAAAPpJREFUaIHtmUEOgkAMRd+gR/AUbryMnmfgkBK4gpfAhWHjoIK0A+n0JeyAzuOnpAyB/xlWXLuGsPSCSmMVe8MlrXCUutEw6LRoCItbMKGIJF3SCi5phSIkAa5Ax2tMs3Z0wC0Ad+As9cR2SBvYbtDORhE9mYx1WuNZTt5HwSKSdEkruKQVXNIKRUiK7fF8Ys4ejfYAkkjWda1acArtmtkG9Km0JHbi5pAkGWMULdA0zc9ztGsmSUr3x5jWtyS1ao7421WSXP03hScpwR4+wotI0iWt4JJWcEkruKQVXNIKLmkF/wlrhQpot16EMu0BeAAX4LTxYjTogfgEdpljkghB7DwAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAA0CAYAAAAUnx+bAAAABHNCSVQICAgIfAhkiAAAA+FJREFUeJzt3M9rHGUcx/HXmrVRLGX9fVAw4NGDPYgFiSagHsRCQ4NQEbToP6B/QRS8eTCHnkQwQlEwNUQR8SCYEEFPkoD0Iv4qUiqItmAtGuN6+M50J5tkkk1mdzKbfcNDZmcm8zz55PnxfT7zTWrK5yGcxNO4lpQqcRPuwL94tl5CA27AI0LEZ3BvCW3oFuO1HlVUxzgmhZB3Za6t4Xdcxl9o9qhNnXIzbsMRDGfOr+E8zuCtbjZgGMfxjhCsmSmruISLbeerUq5hBu8nn6fSH7roIX8LnhI98TgOZ66tJg05ktR7d8F1d5tf8SU+w9vJuan2m4oQtCHEmxRitg+HoeT4xqRUiVTE17G8k2/YraB3YkLMh0+0PWdVS7gh1eN7nMW8HYqYpRNB7xECnsRjYrVO+QeHkuOq9UJCxDNCxJ/28qDtBL1fCDiJYzn3Hcq5tl8pTMQsmwn6gFZ482BRFe0TPhICzoswrXCygp7CG9YH2k30KlbtFl0XMUsq6ATes1G8Kop5FeewoEciZqmLsOdNiXijo6OGhqq3OC8uLqaHh/Pu6zbplnAkPbG0tFRea/ZArVbqYDqGL/BKXQz3AZ1xFC+IdYfY0MB4XaZ3DsglFXHCRs2W8Rrm6/ovNCqSMSFgu4hXxII3LHppGkVcX5QGtDihJWJWm5+FaDNaW9KumCP9QCci5lLHioM37BtaIo5bL+KK1hDelTnS08C3RLIitkc2K6IXFmKOzIvJtx8ZsX5hyVKYiFnqYovWT4yInnhahDpZemKOLONdEWOZnp7uRj295Me2zz01R1KeU/6Lr6LKZTGUT+t+SDhlk5d0DfHOBIyNVXM6zZgjpcbVG8yRhYVqTqklmyOP42G8PDBHOieb+fJScu7R5OvHA3NkZ+RlvhCZI69idmCObM0wnhQinsCtmWtX8Il4TX4KH2CWgTnSTl7my28i9JrD5yL/YGCObEJe5stFIeAcFvHfdg87qOZIXubLD0LAD/F1pw8+SOZIXubLeSHgnF04TFn63RzJy3z5Rog4i++KqrAfzZGtMl+a+EqIeA4XulF5P5oj32aO10SHSReWS71qREP5pkZR5W8RI75ofezYDTY1R4hdAPrCHLkdf5bYFA3hITbRrCpaPbSXpD30U5E5cnSD2zRgR+Rmjgzcpp2xVebIVfGHDGclmSOD3rk122WOXM8YSanhDxmDJKaj6pExmPfqNO8p6aGmbSI/oIIWmjlyEOlq5shBcZt6ljnSz25TKZkj/eY2lZ45ss5tqupr5Az7InNkRvmmRhUzRzaQhhgN8Zu8D7+If/dQRS7g+TIb8D9TF3iHystS6gAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAJJJREFUaIHt2UEKhDAQBdHfg/fWOXnPYvQC0mAZ6oG4MrGCm5hK0lnAdt5rYrC+sSg1M3d/BgZBMITGEBpDaAyhMYTGEBpDaJYJ2ZKkk+OpF5iYu86r377XrSz0aRlCYwiNITSG0BhCc/2N/w6Nt994ZmLuvfI/CvBYgcIQGkNoDKExhMYQGkNoDKFZJuTaWL3eD1s0EGJwGEPVAAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a(49)},,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(30),r=a.n(i),l=a(11),o=(a(42),a(2)),c=a(3),d=a(5),u=a(4),p=a(1),m=a(6),h=a(15),b=(a(43),a(10)),v=a.n(b),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={mapbox:void 0,startMarker:void 0,viaMarker:void 0,endMarker:void 0,transferPopups:[],route:void 0,routeLayers:void 0},a.addTransferPopup=a.addTransferPopup.bind(Object(p.a)(a)),a.clearTransferPopups=a.clearTransferPopups.bind(Object(p.a)(a)),a.clearPath=a.clearPath.bind(Object(p.a)(a)),a.addMarker=a.addMarker.bind(Object(p.a)(a)),a.addPath=a.addPath.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"addTransferPopup",value:function(e){var t=this.state.mapbox,a=[];if(0!==this.state.transferPopups.length)for(var n=0;n<this.state.transferPopups.length;n++)this.state.transferPopups[n].remove();if(void 0!==e&&void 0!==e[0][0]&&void 0!==e[0][1])for(var s=0;s<e.length;s++){var i=new v.a.Popup({className:"transferPopup"}).setLngLat([e[s][0],e[s][1]]).setHTML("P\u0159estup").addTo(t);a.push(i)}this.setState({transferPopups:a})}},{key:"clearTransferPopups",value:function(){if(0!==this.state.transferPopups.length)for(var e=0;e<this.state.transferPopups.length;e++)this.state.transferPopups[e].remove()}},{key:"addMarker",value:function(e,t,a,n){switch(a){case 0:void 0!==this.state.startMarker&&this.state.startMarker.remove();break;case 1:void 0!==this.state.viaMarker&&this.state.viaMarker.remove();break;case 2:void 0!==this.state.endMarker&&this.state.endMarker.remove();break;case 3:void 0!==this.state.viaMarker&&this.state.viaMarker.remove()}var s=this.state.mapbox;if(void 0!==e&&void 0!==t)switch(a){case 0:var i=new v.a.Popup({offset:30}).setText("Za\u010d\xe1tek trasy: "+n),r=new v.a.Marker({color:"#ff0000"}).setLngLat([e,t]).setPopup(i).addTo(s);this.setState({startMarker:r});break;case 1:i=new v.a.Popup({offset:30}).setText("Pr\u016fjezd p\u0159es: "+n),r=new v.a.Marker({color:"#fff400"}).setLngLat([e,t]).setPopup(i).addTo(s),this.setState({viaMarker:r});break;case 2:i=new v.a.Popup({offset:30}).setText("C\xedl trasy: "+n),r=new v.a.Marker({color:"#00abff"}).setLngLat([e,t]).setPopup(i).addTo(s),this.setState({endMarker:r})}this.setState({mapbox:s})}},{key:"clearPath",value:function(){var e=this.state.mapbox;if(void 0!==this.state.routeLayers){for(var t=0;t<this.state.routeLayers;t++){var a="path_layer_"+t;e.removeLayer(a),e.removeSource(a)}this.setState({mapbox:e,routeLayers:0})}}},{key:"addPath",value:function(e,t,a){var n=this.state.mapbox;n.flyTo({center:[e[0][0][0],e[0][0][1]]}),this.state.startMarker.togglePopup(),this.state.endMarker.togglePopup();for(var s=0;s<t;s++){var i="path_layer_"+s;n.addLayer({id:i,type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e[s]}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":void 0!==a[s]?a[s]:"#888","line-width":6}})}this.setState({mapbox:n}),this.setState({routeLayers:t})}},{key:"componentDidMount",value:function(){v.a.accessToken="pk.eyJ1IjoiYXdlbmVlciIsImEiOiJjazF0ZGg3bGMwbmpmM2NsaWtsNTM4NmswIn0.oevCdPbm5M8ujrlxqOHWOQ";var e=new v.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[14.42076,50.08804],zoom:12});e.addControl(new v.a.NavigationControl),this.setState({mapbox:e})}},{key:"componentWillUnmount",value:function(){void 0!==this.state.mapbox&&this.state.mapbox.remove()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"map",ref:function(t){return e.mapContainer=t}})}}]),t}(s.a.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"header"},s.a.createElement("label",{className:"headerLabel"},"Prototyp webov\xe9ho klienta vyhled\xe1va\u010de intermod\xe1ln\xedch doprav\xedch spojen\xed."),s.a.createElement("label",{className:"headerLabel"},s.a.createElement(l.b,{to:"/form"},"Formul\xe1\u0159ov\xfd typ"),"/",s.a.createElement(l.b,{to:"/wizard"},"Contextov\xfd wizard"),"/",s.a.createElement(l.b,{to:"/old_wizard"},"Klasick\xfd wizard")))}}]),t}(s.a.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",null,"Vytvo\u0159il ",s.a.createElement("a",{href:"mailto:hlavaj28@fel.cvut.cz"},"Jan Hlav\xe1\u010d")," b\u011bhem studia na ",s.a.createElement("a",{href:"https://www.fel.cvut.cz/"},"FEL \u010cVUT")," v r\xe1mci z\xe1v\u011bre\u010dn\xe9 pr\xe1ce v akademick\xe9m roce 2019/2020.")}}]),t}(s.a.Component),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleAccess=a.handleAccess.bind(Object(p.a)(a)),a.handleParameters=a.handleParameters.bind(Object(p.a)(a)),a.handleTransport=a.handleTransport.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleParameters",value:function(e){e.preventDefault();var t=document.getElementsByClassName("options-box");"none"===t[0].children[0].style.display?(t[0].children[0].style.display="block",e.target.setAttribute("optionactive","true"),t[0].children[0].setAttribute("optionactive","true"),document.getElementsByClassName("options")[0].children[1].setAttribute("optionactive","false"),document.getElementsByClassName("options")[0].children[2].setAttribute("optionactive","false")):(t[0].children[0].style.display="none",e.target.setAttribute("optionactive","false"),t[0].children[0].setAttribute("optionactive","false")),t[0].children[1].style.display="none",t[0].children[1].setAttribute("optionactive","false"),t[0].children[2].style.display="none",t[0].children[2].setAttribute("optionactive","false")}},{key:"handleTransport",value:function(e){e.preventDefault();var t=document.getElementsByClassName("options-box");t[0].children[0].style.display="none",t[0].children[0].setAttribute("optionactive","false"),"none"===t[0].children[1].style.display?(t[0].children[1].style.display="block",e.target.setAttribute("optionactive","true"),t[0].children[1].setAttribute("optionactive","true"),document.getElementsByClassName("options")[0].children[0].setAttribute("optionactive","false"),document.getElementsByClassName("options")[0].children[2].setAttribute("optionactive","false")):(t[0].children[1].style.display="none",e.target.setAttribute("optionactive","false"),t[0].children[1].setAttribute("optionactive","false")),t[0].children[2].style.display="none",t[0].children[2].setAttribute("optionactive","false")}},{key:"handleAccess",value:function(e){e.preventDefault();var t=document.getElementsByClassName("options-box");t[0].children[0].style.display="none",t[0].children[0].setAttribute("optionactive","false"),t[0].children[1].style.display="none",t[0].children[1].setAttribute("optionactive","false"),"none"===t[0].children[2].style.display?(t[0].children[2].style.display="block",e.target.setAttribute("optionactive","true"),t[0].children[2].setAttribute("optionactive","true"),document.getElementsByClassName("options")[0].children[0].setAttribute("optionactive","false"),document.getElementsByClassName("options")[0].children[1].setAttribute("optionactive","false")):(t[0].children[2].style.display="none",e.target.setAttribute("optionactive","false"),t[0].children[2].setAttribute("optionactive","false"))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:this.handleParameters,optionactive:"false",title:"Volba parametr\u016f spoje"},"Parametry spojen\xed"),s.a.createElement("button",{onClick:this.handleTransport,optionactive:"false",title:"V\xfdb\u011br dopravn\xedch prost\u0159edk\u016f"},"Dopravn\xed prost\u0159edky"),s.a.createElement("button",{onClick:this.handleAccess,optionactive:"false",title:"Charakteristika cestuj\xedc\xedho"},"P\u0159\xedstupnost"))}}]),t}(s.a.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleOnChange=a.handleOnChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleOnChange",value:function(e){this.props.setApi(e.target.value)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:"textLabel"},"Oblast:"),s.a.createElement("select",{id:"api_select",onChange:this.handleOnChange,defaultValue:"pid"},s.a.createElement("option",{value:"dpmul",disabled:!0},"D\xdaK"),s.a.createElement("option",{value:"pid"},"PID"),s.a.createElement("option",{value:"ids-liberec",disabled:!0},"IDS Liberec"),s.a.createElement("option",{value:"mmplanner"},"Multimodal Planner")))}}]),t}(s.a.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("label",{className:this.props.className,title:this.props.title},this.props.text)}}]),t}(s.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a.isDefaultChecked=a.isDefaultChecked.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"isDefaultChecked",value:function(){return!0===this.props.defaultChecked}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("input",{type:this.props.type,name:this.props.name,className:this.props.className,id:this.props.id,defaultChecked:this.isDefaultChecked()}),this.props.text))}}]),t}(s.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"optionsSettings",id:"options-box-parameters",display:"none"},s.a.createElement(k,{className:"optionTitle",text:"Trasa"}),s.a.createElement(w,{element:"input",type:"radio",name:"route",className:"route",id:"fastestRoute",text:"Nejrychlej\u0161\xed",defaultChecked:!0}),s.a.createElement(w,{element:"input",type:"radio",name:"route",className:"route",id:"lowWalkingRoute",text:"Nejm\xe9n\u011b p\u011bs\xed ch\u016fze",defaultChecked:!1}),s.a.createElement(k,{className:"optionTitle",text:"P\u0159estupy"}),s.a.createElement(k,{className:"transfersLabel",text:"Maxim\xe1ln\xed po\u010det p\u0159estup\u016f"}),s.a.createElement("select",{defaultValue:"-1",id:"numTransfers"},s.a.createElement("option",{value:"-1"},"Neomezeno"),s.a.createElement("option",{value:"0"},"0"),s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"3"},"3"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5")),s.a.createElement(k,{className:"transfersLabel",text:"\u010cas na p\u0159estup:"}),s.a.createElement("select",{defaultValue:"10",id:"timeToTransfer"},s.a.createElement("option",{value:"5"},"Alespo\u0148 5 minut"),s.a.createElement("option",{value:"10"},"Alespo\u0148 10 minut"),s.a.createElement("option",{value:"15"},"Alespo\u0148 15 minut")),s.a.createElement(k,{className:"transfersLabel",text:"Maxim\xe1ln\xed vzd\xe1lenost mezi p\u0159estupy:"}),s.a.createElement("select",{defaultValue:"100m",id:"transferDistance"},s.a.createElement("option",{value:"100"},"100 m"),s.a.createElement("option",{value:"200"},"200 m"),s.a.createElement("option",{value:"300"},"300 m")))}}]),t}(s.a.Component),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"optionsSettings",id:"options-box-transport",display:"none"},s.a.createElement(k,{className:"optionTitle",text:"Na trase chci vyu\u017e\xedt"}),s.a.createElement(w,{element:"input",type:"radio",name:"ownTransport",className:"traveler_type",id:"walker",text:"Pouze pe\u0161\xed ch\u016fze",defaultChecked:!0}),s.a.createElement(w,{element:"input",type:"radio",name:"ownTransport",className:"traveler_type",id:"cyclist",text:"Kolo nebo kolob\u011b\u017eku",defaultChecked:!1}),s.a.createElement(w,{element:"input",type:"radio",name:"ownTransport",className:"traveler_type",id:"motorist",text:"Osobn\xed automobil",defaultChecked:!1}),s.a.createElement(k,{className:"optionTitle",text:"V\xfdb\u011br dopravn\xedch prost\u0159edk\u016f"}),s.a.createElement("div",{className:"optionMeans"},s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Metro",defaultChecked:!0}),"Metro"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Tramway",defaultChecked:!0}),"Tramvaj"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Bus",defaultChecked:!0}),"Autobus"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Train",defaultChecked:!0}),"P\u0159\xedm\u011bstsk\xfd vlak"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Funicular",defaultChecked:!0}),"Lanovka"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Ferry",defaultChecked:!0}),"P\u0159\xedvoz")),s.a.createElement(k,{className:"optionTitle",title:"Moment\xe1ln\u011b nedostupn\xe9",text:"Dopl\u0148kov\xe9 slu\u017eby"}),s.a.createElement("label",{title:"Moment\xe1ln\u011b nedostupn\xe9"},s.a.createElement("input",{type:"checkbox",className:"journeyFeature",id:"taxi",disabled:!0}),"Taxi"),s.a.createElement("label",{title:"Moment\xe1ln\u011b nedostupn\xe9"},s.a.createElement("input",{type:"checkbox",className:"journeyFeature",id:"uber",disabled:!0}),"UBER"))}}]),t}(s.a.Component),S=a(21),j=a.n(S),C=a(22),N=a.n(C),_=a(23),T=a.n(_),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"optionsSettings",id:"options-box-access",display:"none"},s.a.createElement(k,{className:"optionTitle",text:"Jsem cestuj\xedc\xed"}),s.a.createElement(w,{element:"input",type:"radio",name:"transportRequest",className:"traveler_type",id:"standard",text:"Bez dal\u0161\xedch pot\u0159eb",defaultChecked:!0}),s.a.createElement(w,{element:"input",type:"radio",name:"transportRequest",className:"traveler_type",id:"slow_walker",text:"S ko\u010d\xe1rkem",defaultChecked:!1}),s.a.createElement(w,{element:"input",type:"radio",name:"transportRequest",className:"traveler_type",id:"wheelchair",text:"S voz\xed\u010dkem",defaultChecked:!1}),s.a.createElement(w,{element:"input",type:"radio",name:"transportRequest",className:"traveler_type",id:"luggage",text:"S t\u011b\u017ek\xfdmi zavazadly",defaultChecked:!1}),s.a.createElement(w,{element:"input",type:"radio",name:"transportRequest",className:"traveler_type",id:"cyclist",text:"S kolem do MHD",defaultChecked:!1}))}}]),t}(s.a.Component),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).initialTimeDateSetup=a.initialTimeDateSetup.bind(Object(p.a)(a)),a.handleFromInput=a.handleFromInput.bind(Object(p.a)(a)),a.handleViaInput=a.handleViaInput.bind(Object(p.a)(a)),a.handleToInput=a.handleToInput.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleTimeAndDate=a.handleTimeAndDate.bind(Object(p.a)(a)),a.drawSuggestions=a.drawSuggestions.bind(Object(p.a)(a)),a.setApi=a.setApi.bind(Object(p.a)(a)),a.changeTransit=a.changeTransit.bind(Object(p.a)(a)),a.updateInputValues=a.updateInputValues.bind(Object(p.a)(a)),a.swapInputFields=a.swapInputFields.bind(Object(p.a)(a)),a.updateOptions=a.updateOptions.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a.state={via:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"initialTimeDateSetup",value:function(){var e=new Date,t=e.getFullYear()+""+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+(e.getHours()<10?"0"+e.getHours():e.getHours())+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+"00",a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate()),n=(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes());document.getElementById("input_date").value=a,document.getElementById("input_time").value=n,this.props.timedate(t)}},{key:"componentDidMount",value:function(){this.initialTimeDateSetup();for(var e=document.getElementsByClassName("options-box"),t=0;t<e[0].children.length;t++)e[0].children[t].style.display="none"}},{key:"setApi",value:function(e){this.props.setApi(e)}},{key:"handleFromInput",value:function(e){this.setState({from:e.target.value});var t=e.target.value,a=e.target.value,n="https://api.navitia.io/v1/coverage/cz/places?q="+e.target.value,s=new Headers;s.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(n,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.places)for(var n=0;n<e.places.length;n++)if("stop_area"===e.places[n].embedded_type){t=e.places[n].name,a=e.places[n].id;break}})),this.props.start(t),this.props.startId(a),e.target.value.length<1?e.target.setAttribute("warning","true"):e.target.setAttribute("warning","false")}},{key:"handleViaInput",value:function(e){this.props.via(e.target.value),this.props.viaId(e.target.value),e.target.value.length<1?e.target.setAttribute("warning","true"):e.target.setAttribute("warning","false")}},{key:"handleToInput",value:function(e){this.setState({to:e.target.value});var t=e.target.value,a=e.target.value,n="https://api.navitia.io/v1/coverage/cz/places?q="+e.target.value,s=new Headers;s.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(n,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.places)for(var n=0;n<e.places.length;n++)if("stop_area"===e.places[n].embedded_type){t=e.places[n].name,a=e.places[n].id;break}})),this.props.end(t),this.props.endId(a),e.target.value.length<1?e.target.setAttribute("warning","true"):e.target.setAttribute("warning","false")}},{key:"handleTimeAndDate",value:function(e){var t=document.getElementById("input_time"),a=document.getElementById("input_date"),n=t.value.substr(0,2)+t.value.substr(3,2),s=a.value.substr(0,4)+a.value.substr(5,2)+a.value.substr(8,2)+"T"+n;this.props.timedate(s)}},{key:"drawSuggestions",value:function(){var e=document.getElementById("suggestions");e.appendChild(document.createElement("ul"));for(var t=0;t<this.state.suggestions.length;t++){var a=document.createElement("li");a.appendChild(document.createTextNode(this.state.suggestions[t])),e.childNodes[0].appendChild(a)}}},{key:"updateInputValues",value:function(){var e=document.getElementById("input_from"),t=document.getElementById("input_to");this.props.start(e.value),this.props.end(t.value)}},{key:"updateOptions",value:function(){this.getOptions()}},{key:"handleSubmit",value:function(e){document.getElementById("input_from").value.length<1||document.getElementById("input_to").value.length<1?(e.preventDefault(),document.getElementById("input_from").setAttribute("warning","true"),document.getElementById("input_to").setAttribute("warning","true")):(e.preventDefault(),void 0!==this.props.update?(this.updateInputValues(),this.props.update()):this.props.ready(!0))}},{key:"changeTransit",value:function(e){this.getOptions();var t=document.getElementById("via");if(!1===this.state.via){t.setAttribute("active","true");var a=document.getElementsByClassName("addVia"),n=document.getElementsByClassName("removeVia");a[0].style.display="none",n[0].style.display="inline-block",this.setState({via:!0})}else{document.getElementById("input_via").value="",this.props.via(document.getElementById("input_via").value),t.setAttribute("active","false");var s=document.getElementsByClassName("addVia"),i=document.getElementsByClassName("removeVia");s[0].style.display="inline-block",i[0].style.display="none",this.setState({via:!1})}}},{key:"swapInputFields",value:function(){this.getOptions();var e=document.getElementById("input_from").value,t=document.getElementById("input_to"),a=document.getElementById("input_from");a.value=t.value,t.value=e,this.props.start(a.value),this.props.startId(a.value),this.props.end(t.value),this.props.endId(t.value),this.setState({from:a.value}),this.setState({to:t.value})}},{key:"getOptions",value:function(){var e={directPath:document.getElementById("directPath").checked,fastestRoute:document.getElementsByClassName("route")[0].checked,lowWalkingRoute:document.getElementsByClassName("route")[1].checked,numTransfers:document.getElementById("numTransfers").value,timeToTransfer:document.getElementById("timeToTransfer").value,transferDistance:document.getElementById("transferDistance").value,traveler_type:{walker:document.getElementsByClassName("traveler_type")[0].checked,bike:document.getElementsByClassName("traveler_type")[1].checked,car:document.getElementsByClassName("traveler_type")[2].checked},means:{metro:document.getElementsByClassName("means")[0].firstChild.checked,tram:document.getElementsByClassName("means")[1].firstChild.checked,bus:document.getElementsByClassName("means")[2].firstChild.checked,train:document.getElementsByClassName("means")[3].firstChild.checked,fenicular:document.getElementsByClassName("means")[4].firstChild.checked,ferry:document.getElementsByClassName("means")[5].firstChild.checked},special:{standard:document.getElementsByClassName("traveler_type")[3].checked,baby:document.getElementsByClassName("traveler_type")[4].checked,wheelchair:document.getElementsByClassName("traveler_type")[5].checked,luggage:document.getElementsByClassName("traveler_type")[6].checked,cyclist:document.getElementsByClassName("traveler_type")[7].checked}};this.props.getOptions(e)}},{key:"render",value:function(){return s.a.createElement("form",{className:"input",id:"inputForm",action:"/form_result",onSubmit:this.handleSubmit,onChange:this.getOptions,onClick:this.getOptions},s.a.createElement("div",{className:"plannerBox"},s.a.createElement("div",{className:"box",id:"searchBox"},s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Odkud:"),s.a.createElement("input",{className:"locations",id:"input_from",type:"form",placeholder:"Zadejte po\u010d\xe1te\u010dn\xed bod",onChange:this.handleFromInput})),s.a.createElement("div",{className:"inputFieldDiv",id:"via",active:"false"},s.a.createElement("label",{className:"addVia",onClick:this.changeTransit},s.a.createElement("img",{className:"viaBtn",src:N.a,alt:"+",title:"P\u0159idat pr\u016fjezdn\xed bod"}),s.a.createElement("label",{id:"addViaText"},"P\u0159idat pr\u016fjezd")),s.a.createElement("label",{className:"removeVia",style:{display:"none"}},s.a.createElement("img",{className:"viaBtn",src:T.a,alt:"\xd7",onClick:this.changeTransit,title:"Odebrat pr\u016fjezdn\xed bod"}),s.a.createElement("input",{className:"locations",id:"input_via",type:"form",placeholder:"Zadejte pr\u016fjezdov\xfd bod",onChange:this.handleViaInput})),s.a.createElement("label",{id:"swapper",onClick:this.swapInputFields},s.a.createElement("img",{className:"clickable",src:j.a,alt:"[SWAP]",title:"Prohodit Start a C\xedl"}))),s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Kam:"),s.a.createElement("input",{className:"locations",id:"input_to",type:"form",placeholder:"Zadejte c\xedlov\xfd bod",onChange:this.handleToInput}))),s.a.createElement("div",{className:"box",id:"timeBox"},s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Datum a \u010das:"),s.a.createElement("input",{id:"input_date",type:"date",onChange:this.handleTimeAndDate}),s.a.createElement("input",{id:"input_time",type:"time",onChange:this.handleTimeAndDate}))),s.a.createElement("div",{className:"directPathBox"},s.a.createElement("label",{className:"inputFieldDiv"},s.a.createElement("input",{type:"checkbox",id:"directPath",onChange:this.getOptions}),"Pouze p\u0159\xedm\xfd spoj")),s.a.createElement("div",{className:"options"},s.a.createElement(E,null),s.a.createElement("div",{className:"options-box"},s.a.createElement(O,null),s.a.createElement(I,null),s.a.createElement(P,null)))),s.a.createElement("div",{className:"submitBox"},s.a.createElement(A,{setApi:this.setApi}),s.a.createElement("input",{type:"submit",value:"Vyhledat spojen\xed",title:"Vyhledat spoj dle zadan\xfdch hodnot"})))}}]),t}(s.a.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={ready:!1,selectedApi:"pid",suggestions:""},a.map=s.a.createRef(),a.setApi=a.setApi.bind(Object(p.a)(a)),a.getStart=a.getStart.bind(Object(p.a)(a)),a.getVia=a.getVia.bind(Object(p.a)(a)),a.getEnd=a.getEnd.bind(Object(p.a)(a)),a.getTimeAndDate=a.getTimeAndDate.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a.setReady=a.setReady.bind(Object(p.a)(a)),a.getStartStopPointId=a.getStartStopPointId.bind(Object(p.a)(a)),a.getViaStopPointId=a.getViaStopPointId.bind(Object(p.a)(a)),a.getEndStopPointId=a.getEndStopPointId.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"setApi",value:function(e){this.props.writeApi(e)}},{key:"getStart",value:function(e){this.props.writeStart(e)}},{key:"getVia",value:function(e){this.props.writeVia(e)}},{key:"getEnd",value:function(e){this.props.writeEnd(e)}},{key:"getStartStopPointId",value:function(e){this.props.writeStartId(e)}},{key:"getViaStopPointId",value:function(e){this.props.writeViaId(e)}},{key:"getEndStopPointId",value:function(e){this.props.writeEndId(e)}},{key:"getTimeAndDate",value:function(e){this.props.writeTimeAndDate(e)}},{key:"getOptions",value:function(e){this.props.writeOptions(e)}},{key:"setReady",value:function(e){this.setState({ready:e})}},{key:"render",value:function(){return this.state.ready?s.a.createElement(h.a,{to:"/form_result"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(y,null),s.a.createElement("main",{className:"journey-planner"},s.a.createElement("section",{className:"results"},s.a.createElement(R,{start:this.getStart,via:this.getVia,end:this.getEnd,startId:this.getStartStopPointId,viaId:this.getViaStopPointId,endId:this.getEndStopPointId,timedate:this.getTimeAndDate,ready:this.setReady,planner:this.props.planner,setApi:this.setApi,getOptions:this.getOptions})),s.a.createElement(g,{ref:this.map})),s.a.createElement(f,null))}}]),t}(s.a.Component),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handlePreviousStep=a.handlePreviousStep.bind(Object(p.a)(a)),a.handleNextStep=a.handleNextStep.bind(Object(p.a)(a)),a.handleTransport=a.handleSearch.bind(Object(p.a)(a)),a.returnTask=a.returnTask.bind(Object(p.a)(a)),a.state={step:0,prevBtnDisabled:!1,nextBtnDisabled:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){0===this.state.step&&this.setState({prevBtnDisabled:!0})}},{key:"handlePreviousStep",value:function(e){e.preventDefault();var t=this.state.step;if(console.log(t),0!==t){this.setState({nextBtnDisabled:!1});var a=document.getElementsByClassName("options-box");a[0].children[t].style.display="none",a[0].children[t-1].style.display="block",this.setState({step:t-1}),t-1===0&&this.setState({prevBtnDisabled:!0})}else console.log("Can't go back")}},{key:"handleNextStep",value:function(e){e.preventDefault();var t=this.state.step;if(console.log(t),4!==t){this.setState({prevBtnDisabled:!1});var a=document.getElementsByClassName("options-box");a[0].children[t].style.display="none",a[0].children[t+1].style.display="block",this.setState({step:t+1}),t+1===4&&this.setState({nextBtnDisabled:!0})}else console.log("Can't go forth")}},{key:"handleSearch",value:function(e){e.preventDefault()}},{key:"returnTask",value:function(){switch(this.state.step){case 0:return"Zvolte z\xe1kladn\xed hodnoty pro vyhled\xe1n\xed Va\u0161eho spoje";case 1:return"Vyberte si parametry Va\u0161\xed trasy";case 2:return"Vyberte V\xe1mi preferovan\xfd zp\u016fsob dopravy";case 3:return"V p\u0159\xedpad\u011b dal\u0161\xedch po\u017eadavk\u016f na spoj zvolte n\xed\u017ee";case 4:return"Po kontrole Va\u0161eho zad\xe1n\xed vyhledejte odpov\xeddaj\xedc\xed spoj";default:return"Chyba v programu"}}},{key:"render",value:function(){return s.a.createElement("section",{className:"wizardSteps"},s.a.createElement("div",{className:"wizardTasks"},s.a.createElement("label",null,s.a.createElement("b",null,"Krok ",this.state.step+1," z 5")),s.a.createElement("label",null,this.returnTask())),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("button",{onClick:this.handlePreviousStep,id:"prev",disabled:this.state.prevBtnDisabled},"P\u0159edchoz\xed krok")),s.a.createElement("td",null,s.a.createElement("button",{onClick:this.handleNextStep,id:"next",disabled:this.state.nextBtnDisabled},"Dal\u0161\xed krok"))))))}}]),t}(s.a.Component),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={from:"",to:"",suggestions:void 0,via:!1,date:"",time:"",directPath:!1,fastestRoute:!1,numTransfers:"",traveler_type:"pouze pe\u0161\xed ch\u016fze",special:"bez dal\u0161\xedch pot\u0159eb"},a.initialTimeDateSetup=a.initialTimeDateSetup.bind(Object(p.a)(a)),a.handleFromInput=a.handleFromInput.bind(Object(p.a)(a)),a.handleViaInput=a.handleViaInput.bind(Object(p.a)(a)),a.handleToInput=a.handleToInput.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleTimeAndDate=a.handleTimeAndDate.bind(Object(p.a)(a)),a.drawSuggestions=a.drawSuggestions.bind(Object(p.a)(a)),a.updateSelectedApi=a.updateSelectedApi.bind(Object(p.a)(a)),a.changeTransit=a.changeTransit.bind(Object(p.a)(a)),a.updateInputValues=a.updateInputValues.bind(Object(p.a)(a)),a.swapInputFields=a.swapInputFields.bind(Object(p.a)(a)),a.updateOptions=a.updateOptions.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"initialTimeDateSetup",value:function(){var e=new Date,t=e.getFullYear()+""+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+(e.getHours()<10?"0"+e.getHours():e.getHours())+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+"00",a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate()),n=(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes());document.getElementById("input_date").value=a,document.getElementById("input_time").value=n,this.setState({date:a,time:n}),this.props.timedate(t)}},{key:"componentDidMount",value:function(){this.initialTimeDateSetup();for(var e=document.getElementsByClassName("options-box"),t=1;t<e[0].children.length;t++)e[0].children[t].style.display="none"}},{key:"updateSelectedApi",value:function(e){this.props.setApi(e)}},{key:"handleFromInput",value:function(e){this.setState({from:e.target.value}),this.props.start(e.target.value),this.props.startId(e.target.value),e.target.value.length<1?e.target.setAttribute("warning","true"):e.target.setAttribute("warning","false")}},{key:"handleViaInput",value:function(e){this.props.via(e.target.value),this.props.viaId(e.target.value)}},{key:"handleToInput",value:function(e){this.setState({to:e.target.value}),this.props.end(e.target.value),this.props.endId(e.target.value),e.target.value.length<1?e.target.setAttribute("warning","true"):e.target.setAttribute("warning","false")}},{key:"handleTimeAndDate",value:function(e){var t=document.getElementById("input_time"),a=document.getElementById("input_date");this.setState({date:t.value,time:t.value});var n=t.value.substr(0,2)+t.value.substr(3,2),s=a.value.substr(0,4)+a.value.substr(5,2)+a.value.substr(8,2)+"T"+n;this.props.timedate(s)}},{key:"drawSuggestions",value:function(){var e=document.getElementById("suggestions");e.appendChild(document.createElement("ul"));for(var t=0;t<this.state.suggestions.length;t++){var a=document.createElement("li");a.appendChild(document.createTextNode(this.state.suggestions[t])),e.childNodes[0].appendChild(a)}}},{key:"updateInputValues",value:function(){var e=document.getElementById("input_from"),t=document.getElementById("input_to");this.props.start(e.value),this.props.end(t.value)}},{key:"updateOptions",value:function(){this.getOptions()}},{key:"handleSubmit",value:function(e){this.setState({vialFrom:this.state.from,vialTo:this.state.to}),document.getElementById("input_from").value.length<1||document.getElementById("input_to").value.length<1?(e.preventDefault(),document.getElementById("input_from").setAttribute("warning","true"),document.getElementById("input_to").setAttribute("warning","true")):(e.preventDefault(),void 0!==this.props.update?(this.updateInputValues(),this.props.update()):this.props.ready(!0))}},{key:"changeTransit",value:function(e){this.getOptions();var t=document.getElementById("via");if(!1===this.state.via){t.setAttribute("active","true");var a=document.getElementsByClassName("addVia"),n=document.getElementsByClassName("removeVia");a[0].style.display="none",n[0].style.display="inline-block",this.setState({via:!0})}else{document.getElementById("input_via").value="",this.props.via(document.getElementById("input_via").value),t.setAttribute("active","false");var s=document.getElementsByClassName("addVia"),i=document.getElementsByClassName("removeVia");s[0].style.display="inline-block",i[0].style.display="none",this.setState({via:!1})}}},{key:"swapInputFields",value:function(){this.getOptions();var e=document.getElementById("input_from").value,t=document.getElementById("input_to"),a=document.getElementById("input_from");a.value=t.value,t.value=e,this.props.start(a.value),this.props.startId(a.value),this.props.end(t.value),this.props.endId(t.value),this.setState({from:a.value}),this.setState({to:t.value})}},{key:"getOptions",value:function(){var e={directPath:document.getElementById("directPath").checked,fastestRoute:document.getElementsByClassName("route")[0].checked,lowWalkingRoute:document.getElementsByClassName("route")[1].checked,numTransfers:document.getElementById("numTransfers").value,timeToTransfer:document.getElementById("timeToTransfer").value,transferDistance:document.getElementById("transferDistance").value,traveler_type:{walker:document.getElementsByClassName("traveler_type")[0].checked,bike:document.getElementsByClassName("traveler_type")[1].checked,car:document.getElementsByClassName("traveler_type")[2].checked},means:{metro:document.getElementsByClassName("means")[0].firstChild.checked,tram:document.getElementsByClassName("means")[1].firstChild.checked,bus:document.getElementsByClassName("means")[2].firstChild.checked,train:document.getElementsByClassName("means")[3].firstChild.checked,fenicular:document.getElementsByClassName("means")[4].firstChild.checked,ferry:document.getElementsByClassName("means")[5].firstChild.checked},special:{standard:document.getElementsByClassName("traveler_type")[3].checked,baby:document.getElementsByClassName("traveler_type")[4].checked,wheelchair:document.getElementsByClassName("traveler_type")[5].checked,luggage:document.getElementsByClassName("traveler_type")[6].checked,cyclist:document.getElementsByClassName("traveler_type")[7].checked}};e.directPath&&this.setState({directPath:!0}),e.fastestRoute&&this.setState({fastestRoute:!0}),e.numTransfers>0?this.setState({numTransfers:e.numTransfers}):this.setState({numTransfers:"neomezen\xfdm po\u010dtem"}),e.traveler_type.walker&&this.setState({traveler_type:"pouze pe\u0161\xed ch\u016fze"}),e.traveler_type.bike&&this.setState({traveler_type:"kola nebo kolob\u011b\u017eky"}),e.traveler_type.car&&this.setState({traveler_type:"osobn\xedho automobilu"}),e.special.standard&&this.setState({special:"bez dal\u0161\xedch pot\u0159eb"}),e.special.baby&&this.setState({special:"s ko\u010d\xe1rkem"}),e.special.wheelchair&&this.setState({special:"s voz\xed\u010dkem"}),e.special.luggage&&this.setState({special:"s t\u011b\u017ek\xfdmi zavazadly"}),e.special.cyclist&&this.setState({special:"s kolem do MHD"}),console.log("Writing:"),console.log(e.traveler_type),console.log(e.means),console.log(e.special),this.props.getOptions(e)}},{key:"render",value:function(){return s.a.createElement("form",{className:"input",id:"inputForm",action:"/result",onSubmit:this.handleSubmit,onChange:this.getOptions},s.a.createElement("div",{className:"options"},s.a.createElement(V,{step:this.state.step}),s.a.createElement("div",{className:"options-box"},s.a.createElement("div",{id:"options-box-main",display:"block"},s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Odkud:"),s.a.createElement("input",{className:"locations",id:"input_from",type:"form",placeholder:"Zadejte po\u010d\xe1te\u010dn\xed bod",onChange:this.handleFromInput})),s.a.createElement("p",{id:"suggestions"}),s.a.createElement("div",{className:"inputFieldDiv",id:"via",active:"false"},s.a.createElement("label",{className:"addVia",onClick:this.changeTransit},s.a.createElement("img",{className:"viaBtn",src:N.a,alt:"+",title:"P\u0159idat pr\u016fjezdn\xed bod"}),s.a.createElement("label",{id:"addViaText"},"P\u0159idat pr\u016fjezd")),s.a.createElement("label",{className:"removeVia",style:{display:"none"}},s.a.createElement("img",{className:"viaBtn",src:T.a,alt:"\xd7",onClick:this.changeTransit,title:"Odebrat pr\u016fjezdn\xed bod"}),s.a.createElement("input",{className:"locations",id:"input_via",type:"form",placeholder:"Zadejte pr\u016fjezdov\xfd bod",onChange:this.handleViaInput})),s.a.createElement("label",{id:"swapper",onClick:this.swapInputFields},s.a.createElement("img",{className:"clickable",src:j.a,alt:"[SWAP]",title:"Prohodit Start a C\xedl"}))),s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Kam:"),s.a.createElement("input",{className:"locations",id:"input_to",type:"form",placeholder:"Zadejte c\xedlov\xfd bod",onChange:this.handleToInput})),s.a.createElement("div",{className:"box",id:"timeBox"},s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Datum a \u010das:"),s.a.createElement("input",{id:"input_date",type:"date",onChange:this.handleTimeAndDate}),s.a.createElement("input",{id:"input_time",type:"time",onChange:this.handleTimeAndDate}))),s.a.createElement("div",{className:"directPathBox"},s.a.createElement("label",{className:"inputFieldDiv"},s.a.createElement("input",{type:"checkbox",id:"directPath",onChange:this.getOptions}),"Pouze p\u0159\xedm\xfd spoj"))),s.a.createElement("div",{className:"optionsSettings",id:"options-box-parameters",display:"none"},s.a.createElement("label",{className:"optionTitle"},"Trasa"),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"route",className:"route",id:"fastestRoute",defaultChecked:!0}),"Nejrychlej\u0161\xed",s.a.createElement("br",null)),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"route",className:"route",id:"lowWalkingRoute"}),"Nejm\xe9n\u011b p\u011b\u0161\xed ch\u016fze",s.a.createElement("br",null)),s.a.createElement("label",{className:"optionTitle"},"P\u0159estupy"),s.a.createElement("br",null),s.a.createElement("label",{className:"transfersLabel"},"Maxim\xe1ln\xed po\u010det p\u0159estup\u016f:"),s.a.createElement("select",{defaultValue:"-1",id:"numTransfers"},s.a.createElement("option",{value:"-1"},"Neomezeno"),s.a.createElement("option",{value:"0"},"0"),s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"3"},"3"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5")),s.a.createElement("br",null),s.a.createElement("label",{className:"transfersLabel"},"\u010cas na p\u0159estup:"),s.a.createElement("select",{defaultValue:"10",id:"timeToTransfer"},s.a.createElement("option",{value:"5"},"Alespo\u0148 5 minut"),s.a.createElement("option",{value:"10"},"Alespo\u0148 10 minut"),s.a.createElement("option",{value:"15"},"Alespo\u0148 15 minut")),s.a.createElement("br",null),s.a.createElement("label",{className:"transfersLabel"},"Maxim\xe1ln\xed vzd\xe1lenost mezi p\u0159estupy:"),s.a.createElement("select",{defaultValue:"100m",id:"transferDistance"},s.a.createElement("option",{value:"100"},"100 m"),s.a.createElement("option",{value:"200"},"200 m"),s.a.createElement("option",{value:"300"},"300 m"))),s.a.createElement("div",{className:"optionsSettings",id:"options-box-transport",display:"none"},s.a.createElement("label",{className:"optionTitle"},"Na trase chci vyu\u017e\xedt"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"ownTransport",className:"traveler_type",id:"walker",defaultChecked:!0}),"Pouze pe\u0161\xed ch\u016fze"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"ownTransport",className:"traveler_type",id:"cyclist"}),"Kolo nebo kolob\u011b\u017eku"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"ownTransport",className:"traveler_type",id:"motorist"}),"Osobn\xed automobil"),s.a.createElement("label",{className:"optionTitle"},"V\xfdb\u011br dopravn\xedch prost\u0159edk\u016f"),s.a.createElement("div",{className:"optionMeans"},s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Metro",defaultChecked:!0}),"Metro"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Tramway",defaultChecked:!0}),"Tramvaj"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Bus",defaultChecked:!0}),"Autobus"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Train",defaultChecked:!0}),"P\u0159\xedm\u011bstsk\xfd vlak"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Funicular",defaultChecked:!0}),"Lanovka"),s.a.createElement("label",{className:"means"},s.a.createElement("input",{type:"checkbox",id:"Ferry",defaultChecked:!0}),"P\u0159\xedvoz")),s.a.createElement("label",{className:"optionTitle",title:"Moment\xe1ln\u011b nedostupn\xe9"},"Dopl\u0148kov\xe9 slu\u017eby"),s.a.createElement("label",{title:"Moment\xe1ln\u011b nedostupn\xe9"},s.a.createElement("input",{type:"checkbox",className:"journeyFeature",id:"taxi",disabled:!0}),"Taxi"),s.a.createElement("label",{title:"Moment\xe1ln\u011b nedostupn\xe9"},s.a.createElement("input",{type:"checkbox",className:"journeyFeature",id:"uber",disabled:!0}),"UBER")),s.a.createElement("div",{className:"optionsSettings",id:"options-box-access",display:"none"},s.a.createElement("label",{className:"optionTitle"},"Jsem cestuj\xedc\xed"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"transportRequest",className:"traveler_type",id:"standard",defaultChecked:!0}),"Bez dal\u0161\xedch pot\u0159eb"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"transportRequest",className:"traveler_type",id:"slow_walker"}),"S ko\u010d\xe1rkem"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"transportRequest",className:"traveler_type",id:"wheelchair"}),"S voz\xed\u010dkem"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"transportRequest",className:"traveler_type",id:"luggage"}),"S t\u011b\u017ek\xfdmi zavazadly"),s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"transportRequest",className:"traveler_type",id:"cyclist"}),"S kolem do MHD")),s.a.createElement("div",{className:"optionsSettings",id:"options-box-summary",display:"none"},s.a.createElement("label",{className:"optionTitle"},"Souhrn p\u0159ed zobrazen\xedm v\xfdsledk\u016f:"),s.a.createElement("label",{className:"summaryText"},s.a.createElement("label",null,s.a.createElement("b",null,"Spoj z: "),this.state.vialFrom,s.a.createElement("b",null," do: "),this.state.vialTo),s.a.createElement("label",null,s.a.createElement("b",null,"Datum: "),this.state.date,s.a.createElement("b",null," v "),this.state.time),s.a.createElement("label",null,s.a.createElement("b",null,"Trasa s max "),this.state.numTransfers>0?this.state.numTransfers:"neomezen\xfdmi",s.a.createElement("b",null," p\u0159estupy")),s.a.createElement("label",null,s.a.createElement("b",null,"S vyu\u017eit\xedm: "),this.state.traveler_type),s.a.createElement("label",null,s.a.createElement("b",null,"Pro cestuj\xedc\xed: "),this.state.special))))),s.a.createElement("div",{className:"submitBox"},s.a.createElement(A,{updateSelectedApi:this.updateSelectedApi}),s.a.createElement("input",{type:"submit",value:"Vyhledat spojen\xed",title:"Vyhledat spoj dle zadan\xfdch hodnot"})))}}]),t}(s.a.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={ready:!1},a.map=s.a.createRef(),a.setApi=a.setApi.bind(Object(p.a)(a)),a.getStart=a.getStart.bind(Object(p.a)(a)),a.getVia=a.getVia.bind(Object(p.a)(a)),a.getEnd=a.getEnd.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a.getTimeAndDate=a.getTimeAndDate.bind(Object(p.a)(a)),a.setReady=a.setReady.bind(Object(p.a)(a)),a.getStartStopPointId=a.getStartStopPointId.bind(Object(p.a)(a)),a.getViaStopPointId=a.getViaStopPointId.bind(Object(p.a)(a)),a.getEndStopPointId=a.getEndStopPointId.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"setApi",value:function(e){this.props.writeApi(e)}},{key:"getStart",value:function(e){this.props.writeStart(e)}},{key:"getVia",value:function(e){this.props.writeVia(e)}},{key:"getEnd",value:function(e){this.props.writeEnd(e)}},{key:"getStartStopPointId",value:function(e){this.props.writeStartId(e)}},{key:"getViaStopPointId",value:function(e){this.props.writeViaId(e)}},{key:"getEndStopPointId",value:function(e){this.props.writeEndId(e)}},{key:"getOptions",value:function(e){this.props.writeOptions(e)}},{key:"getTimeAndDate",value:function(e){this.props.writeTimeAndDate(e)}},{key:"setReady",value:function(e){this.setState({ready:e})}},{key:"render",value:function(){return this.state.ready?s.a.createElement(h.a,{to:"/old_wizard_result"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(y,null),s.a.createElement("main",{className:"journey-planner"},s.a.createElement("section",{className:"planner"},s.a.createElement(D,{start:this.getStart,via:this.getVia,end:this.getEnd,startId:this.getStartStopPointId,viaId:this.getViaStopPointId,endId:this.getEndStopPointId,timedate:this.getTimeAndDate,ready:this.setReady,planner:this.props.planner,setApi:this.setApi,getOptions:this.getOptions})),s.a.createElement(g,{ref:this.map})),s.a.createElement(f,null))}}]),t}(s.a.Component),x=a(16),z=a.n(x),F=a(17),L=a.n(F),H=a(12),G=a.n(H),q=a(18),K=a.n(q),X=a(19),J=a.n(X),U=a(14),Y=a.n(U),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={ready:!1,results:[],updateResults:!1,startId:"no_point",selectedResult:""},a.map=s.a.createRef(),a.resultRef=s.a.createRef(),a.getStart=a.getStart.bind(Object(p.a)(a)),a.getVia=a.getVia.bind(Object(p.a)(a)),a.getEnd=a.getEnd.bind(Object(p.a)(a)),a.getStartStopPointId=a.getStartStopPointId.bind(Object(p.a)(a)),a.getViaStopPointId=a.getViaStopPointId.bind(Object(p.a)(a)),a.getEndStopPointId=a.getEndStopPointId.bind(Object(p.a)(a)),a.getTimeAndDate=a.getTimeAndDate.bind(Object(p.a)(a)),a.setApi=a.setApi.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a.setReady=a.setReady.bind(Object(p.a)(a)),a.setInputValues=a.setInputValues.bind(Object(p.a)(a)),a.createResultItem=a.createResultItem.bind(Object(p.a)(a)),a.renderResults=a.renderResults.bind(Object(p.a)(a)),a.updateResults=a.updateResults.bind(Object(p.a)(a)),a.drawJourney=a.drawJourney.bind(Object(p.a)(a)),a.drawStartPoint=a.drawStartPoint.bind(Object(p.a)(a)),a.drawViaPoint=a.drawViaPoint.bind(Object(p.a)(a)),a.drawEndPoint=a.drawEndPoint.bind(Object(p.a)(a)),a.fetchData=a.fetchData.bind(Object(p.a)(a)),a.showJourneyDetails=a.showJourneyDetails.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getStart",value:function(e){this.props.writeStart(e)}},{key:"getVia",value:function(e){this.props.writeVia(e)}},{key:"getEnd",value:function(e){this.props.writeEnd(e)}},{key:"getStartStopPointId",value:function(e){this.props.writeStartId(e)}},{key:"getViaStopPointId",value:function(e){this.props.writeViaId(e)}},{key:"getEndStopPointId",value:function(e){this.props.writeEndId(e)}},{key:"setApi",value:function(e){this.props.writeApi(e)}},{key:"getTimeAndDate",value:function(e){this.props.writeTimeAndDate(e)}},{key:"getOptions",value:function(e){this.props.writeOptions(e)}},{key:"setReady",value:function(e){this.setState({ready:e})}},{key:"setInputValues",value:function(){var e=document.getElementById("input_from"),t=document.getElementById("input_via"),a=document.getElementById("input_to");e.value=this.props.planner.start,null===this.props.planner.via?t.value="":t.value=this.props.planner.via,a.value=this.props.planner.end}},{key:"checkSearch",value:function(){return 0===this.props.planner.start.length?"":" >>> "}},{key:"checkViaRoute",value:function(){return this.props.planner.via.length>=1?" p\u0159es ":""}},{key:"checkResults",value:function(){if(void 0===this.state.results)return" nebyl nalezen \u017e\xe1dn\xfd v\xfdsledek, zvolte pros\xedm jin\xe9 zad\xe1n\xed.";switch(this.state.results.length){case 0:return"";case 1:return" --- nalezen 1 v\xfdsledek";case 2:case 3:case 4:return" --- nalezeny "+this.state.results.length+" v\xfdsledky";default:return" --- nalezeno "+this.state.results.length+" v\xfdsledk\u016f"}}},{key:"drawStartPoint",value:function(e){var t=this;if(e.length>=1){var a="https://api.navitia.io/v1/coverage/cz/places?q="+e,n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(a){var n=a;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){t.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,0,e),t.map.current.clearTransferPopups(),t.setState({startId:n.places[s].id});break}}else console.log("Nothing")}))}}},{key:"drawViaPoint",value:function(e,t){var a=this;if(console.log("== saved stuff =="),console.log(this.state.results),t){if(e.length>=1){var n="https://api.navitia.io/v1/coverage/cz/places?q="+e,s=new Headers;s.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(n,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(t){var n=t;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){a.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,1,e),a.setState({viaId:n.places[s].id});break}}else console.log("Nothing")}))}}else this.map.current.addMarker("","",3)}},{key:"drawEndPoint",value:function(e){var t=this;if(e.length>=1){var a="https://api.navitia.io/v1/coverage/cz/places?q="+e,n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(a){var n=a;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){t.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,2,e),t.setState({endId:n.places[s].id});break}}else console.log("Nothing")}))}}},{key:"fetchData",value:function(){var e=this;console.log(this.state.startId);var t=this.props.planner.start,a=this.props.planner.end,n=this.props.planner.via,s=this.props.planner.options;console.log("fetch:"),console.log(s.traveler_type),console.log(s.means),console.log(s.special);var i="https://api.navitia.io/v1/coverage/cz/journeys?from="+this.props.planner.startId+"&to="+this.props.planner.endId+"&datetime="+this.props.planner.timedate+"&min_nb_journeys=3";if(s.directPath?i+="&max_nb_transfers=0":i+="&max_nb_transfers="+s.numTransfers,s.fastestRoute,s.lowWalkingRoute&&(i+="&max_walking_duration_to_pt=360"),s.transferDistance,console.log(JSON.stringify(s.means)),void 0!==s&&void 0!==s.traveler_type&&void 0!==s.means)if(s.traveler_type.walker)if(console.log("WALKER==="),s.special.baby)i+="&traveler_type=slow_walker";else switch(s.timeToTransfer){case"5":i+="&traveler_type=fast_walker";break;case"15":i+="&traveler_type=slow_walker"}else s.traveler_type.bike||s.special.cyclist?i+="&traveler_type=cyclist":s.traveler_type.car?(console.log("CAR==="),i+="&traveler_type=motorist"):s.special.wheelchair?i+="&traveler_type=wheelchair":s.special.luggage&&(i+="&traveler_type=luggage");if(n.length<0);else if(console.log(i),t.length>=1&&a.length>=1){var r=new Headers;r.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(i,{method:"GET",headers:r}).then((function(e){return e.json()})).then((function(t){var a=t;e.setState({results:a.journeys},(function(){for(var t=document.getElementById("results"),n=t.lastElementChild;n;)t.removeChild(n),n=t.lastElementChild;e.renderResults(),console.log(a.journeys)}))}))}else console.log("no fetch")}},{key:"componentDidMount",value:function(){console.log("======================================="),this.setInputValues(),this.drawStartPoint(this.props.planner.start),this.drawViaPoint(this.props.planner.via,!0),this.drawEndPoint(this.props.planner.end),this.fetchData(),console.log("results:"),console.log(this.state.results),this.renderResults(),this.state.updateResults&&this.updateResults()}},{key:"updateResults",value:function(){this.drawStartPoint(this.props.planner.start),this.props.planner.via.length>=1?this.drawViaPoint(this.props.planner.via,!0):this.drawViaPoint(this.props.planner.via,!1),this.drawEndPoint(this.props.planner.end),this.fetchData(),this.map.current.clearPath()}},{key:"drawJourney",value:function(e){var t=e.target.getAttribute("result_id"),a=this.state.results[t].sections,n=[],s=[],i=[];void 0!==this.state.selectedResult.style&&this.state.selectedResult.setAttribute("selectedResult","false");var r=document.getElementsByClassName("result_item");this.setState({selectedResult:r[t]}),r[t].setAttribute("selectedResult","true");for(var l=0;l<a.length;l++)if(void 0!==a[l].geojson)if(n.push(a[l].geojson.coordinates),"public_transport"===a[l].type){var o="#"+a[l].display_informations.color;s.push(o)}else"transfer"===a[l].type||"street_network"===a[l].type||"crow_fly"===a[l].type?("transfer"===a[l].type&&i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push(Object({NODE_ENV:"production",PUBLIC_URL:"/bp-testing",REACT_APP_COLOR_BIKE:"#54ffc9",REACT_APP_COLOR_BUS:"#007DA8",REACT_APP_COLOR_CAR:"#000000",REACT_APP_COLOR_METRO_A:"#039a00",REACT_APP_COLOR_METRO_B:"#ffea08",REACT_APP_COLOR_METRO_C:"#fe0000",REACT_APP_COLOR_TRAIN:"#251E62",REACT_APP_COLOR_TRAM:"#0045c7",REACT_APP_COLOR_WALK:"#810095",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiYXdlbmVlciIsImEiOiJjazF0ZGg3bGMwbmpmM2NsaWtsNTM4NmswIn0.oevCdPbm5M8ujrlxqOHWOQ",REACT_APP_NAVITIA_TOKEN:"84b58c39-ed14-4e4c-9b81-05ebc3ac9df2"}).REACT_APP_COLOR_WALKING)):"bike"===a[l].mode?(i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push("#54ffc9")):"car"===a[l].mode&&(i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push("#000000"));i.length>0?this.map.current.addTransferPopup(i):this.map.current.clearTransferPopups(),this.map.current.clearPath(),this.map.current.addPath(n,n.length,s)}},{key:"createResultItem",value:function(e,t){var a=document.createElement("p");a.className="result_item",a.setAttribute("result_id",t),a.setAttribute("id","result_item"+t),a.setAttribute("selectedResult","false");var n=document.createTextNode("Odjezd: "+e.departure_date_time.substr(9,2)+":"+e.departure_date_time.substr(11,2)+" >> P\u0159\xedjezd: "+e.arrival_date_time.substr(9,2)+":"+e.arrival_date_time.substr(11,2));a.appendChild(n),a.appendChild(document.createElement("br"));var s=document.createTextNode("Trv\xe1n\xed: "+Math.round(e.duration/60)+" minut");a.appendChild(s),a.appendChild(document.createElement("br"));for(var i=[],r=0;r<e.sections.length;r++){var l=e.sections[r].type;if("street_network"===l||"crow_fly"===l){if("bike"===e.sections[r].mode){var o=document.createElement("img");o.src=Y.a,o.setAttribute("result_id",t),i.push(o)}else if("car"===e.sections[r].mode){var c=document.createElement("img");c.src=J.a,c.setAttribute("result_id",t),i.push(c)}else{var d=document.createElement("img");d.src=z.a,d.setAttribute("result_id",t),i.push(d)}if(0===r){var u=document.createElement("img");u.src=G.a,u.setAttribute("result_id",t),i.push(u)}}if("waiting"===l&&"transfer"!==e.sections[r-1].type){var p=document.createElement("img");p.src=K.a,p.setAttribute("result_id",t),i.push(p)}if("public_transport"===l){var m=document.createElement("p");m.setAttribute("result_id",t),"Metro"===e.sections[r].display_informations.commercial_mode?m.className=e.sections[r].display_informations.code:m.className=e.sections[r].display_informations.commercial_mode,m.innerHTML=e.sections[r].display_informations.code,i.push(m)}if("transfer"!==l){if(r!==e.sections.length-1&&0!==r&&"transfer"!==e.sections[r-1].type&&"transfer"!==e.sections[r+1].type){var h=document.createElement("img");h.src=G.a,h.setAttribute("result_id",t),i.push(h)}}else{var b=document.createElement("img");b.src=L.a,b.setAttribute("result_id",t),i.push(b)}}var v=document.createElement("label");v.setAttribute("result_id",t),v.className="journeyMeans";for(var g=0;g<i.length;g++)v.appendChild(i[g]);var y=document.createElement("a");y.className="detailsBtn",y.setAttribute("result_id",a.getAttribute("result_id")),y.innerHTML="Detaily spojen\xed",y.addEventListener("click",this.showJourneyDetails);var f=document.createElement("div");f.className="details",f.setAttribute("result_id",a.getAttribute("result_id")),f.style.display="none";var E="";if(void 0!==e.sections)for(var A=0;A<e.sections.length;A++){var k=e.sections[A];A<e.sections.length-1?"crow_fly"===k.type?E+="<label>P\u0159esun na zast\xe1vku "+k.to.name+"</label></br>":"public_transport"===k.type?E+="<label>Nastupte do "+k.display_informations.commercial_mode+" linky "+k.display_informations.code+" a pokra\u010dujte na z\xe1st\xe1vku "+k.to.name+"</label></br>":"transfer"===k.type?E+="<label>N\xe1sleduje p\u0159estup na zast\xe1vce "+k.to.name+"</label></br>":"waiting"===k.type?A+1!==e.sections.length&&(E+="<label>Vy\u010dkejte p\u0159\xedjezdu spoje "+e.sections[A+1].display_informations.commercial_mode+" linky "+e.sections[A+1].display_informations.code+"</label></br>"):"street_network"===k.type&&(E+="<label>Doje\u010fte na zast\xe1vku "+k.to.name+"</label></br>"):E+="<label>Vystupte na zast\xe1vce "+k.to.name+"</label></br>"}return f.innerHTML="<label><b>Pokyny pro navigaci trasou</b></label></br>"+E,a.appendChild(v),a.addEventListener("click",this.drawJourney),a.appendChild(y),a.appendChild(f),a}},{key:"showJourneyDetails",value:function(e){for(var t=e.target.getAttribute("result_id"),a=document.getElementsByClassName("details"),n=0;n<a.length;n++)n!==t&&(a[n].style.display="none");"none"===a[t].style.display?a[t].style.display="block":a[t].style.display="none"}},{key:"renderResults",value:function(){for(var e=document.getElementById("results"),t=0;t<document.getElementsByClassName("optionsSettings").length;t++)document.getElementsByClassName("optionsSettings")[t].style.display="none";if(void 0!==this.state.results)for(var a=0;a<this.state.results.length;a++){var n=document.createElement("label");n.setAttribute("for","result_item"+a);var s=this.createResultItem(this.state.results[a],a);n.appendChild(s),e.appendChild(n)}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(y,null),s.a.createElement("main",{className:"result_page"},s.a.createElement("section",{className:"results"},s.a.createElement("div",{id:"search"},s.a.createElement(R,{start:this.getStart,via:this.getVia,end:this.getEnd,startId:this.getStartStopPointId,viaId:this.getViaStopPointId,endId:this.getEndStopPointId,timedate:this.getTimeAndDate,getOptions:this.getOptions,setApi:this.setApi,ready:this.setReady,update:this.updateResults,resultRef:this.resultRef}),s.a.createElement("p",null,s.a.createElement("b",null,"Pro trasu: "),this.props.planner.start,s.a.createElement("b",null,this.checkSearch()),this.props.planner.end,s.a.createElement("b",null,this.checkViaRoute()),this.props.planner.via,this.checkResults())),s.a.createElement("div",{id:"results",ref:this.resultRef})),s.a.createElement(g,{ref:this.map})),s.a.createElement(f,null))}}]),t}(s.a.Component),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={ready:!1,results:[],updateResults:!1,startId:"no_point",viaId:"no_point",endId:"no_point",selectedResult:""},a.map=s.a.createRef(),a.resultRef=s.a.createRef(),a.getStart=a.getStart.bind(Object(p.a)(a)),a.getVia=a.getVia.bind(Object(p.a)(a)),a.getEnd=a.getEnd.bind(Object(p.a)(a)),a.getStartStopPointId=a.getStartStopPointId.bind(Object(p.a)(a)),a.getViaStopPointId=a.getViaStopPointId.bind(Object(p.a)(a)),a.getEndStopPointId=a.getEndStopPointId.bind(Object(p.a)(a)),a.getTimeAndDate=a.getTimeAndDate.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a.setReady=a.setReady.bind(Object(p.a)(a)),a.setInputValues=a.setInputValues.bind(Object(p.a)(a)),a.createResultItem=a.createResultItem.bind(Object(p.a)(a)),a.renderResults=a.renderResults.bind(Object(p.a)(a)),a.updateResults=a.updateResults.bind(Object(p.a)(a)),a.drawJourney=a.drawJourney.bind(Object(p.a)(a)),a.drawStartPoint=a.drawStartPoint.bind(Object(p.a)(a)),a.drawViaPoint=a.drawViaPoint.bind(Object(p.a)(a)),a.drawEndPoint=a.drawEndPoint.bind(Object(p.a)(a)),a.fetchData=a.fetchData.bind(Object(p.a)(a)),a.showJourneyDetails=a.showJourneyDetails.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getStart",value:function(e){this.props.writeStart(e)}},{key:"getVia",value:function(e){this.props.writeVia(e)}},{key:"getEnd",value:function(e){this.props.writeEnd(e)}},{key:"getStartStopPointId",value:function(e){this.props.writeStartId(e)}},{key:"getViaStopPointId",value:function(e){this.props.writeViaId(e)}},{key:"getEndStopPointId",value:function(e){this.props.writeEndId(e)}},{key:"getTimeAndDate",value:function(e){this.props.writeTimeAndDate(e)}},{key:"getOptions",value:function(e){this.props.writeOptions(e)}},{key:"setReady",value:function(e){this.setState({ready:e})}},{key:"setInputValues",value:function(){var e=document.getElementById("input_from"),t=document.getElementById("input_via"),a=document.getElementById("input_to");e.value=this.props.planner.start,null===this.props.planner.via?t.value="":t.value=this.props.planner.via,a.value=this.props.planner.end}},{key:"checkSearch",value:function(){return 0===this.props.planner.start.length?"":" >>> "}},{key:"checkViaRoute",value:function(){return this.props.planner.via.length>=1?" p\u0159es ":""}},{key:"checkResults",value:function(){if(void 0===this.state.results)return" nebyl nalezen \u017e\xe1dn\xfd v\xfdsledek, zvolte pros\xedm jin\xe9 zad\xe1n\xed.";switch(this.state.results.length){case 0:return"";case 1:return" --- nalezen 1 v\xfdsledek";case 2:case 3:case 4:return" --- nalezeny "+this.state.results.length+" v\xfdsledky";default:return" --- nalezeno "+this.state.results.length+" v\xfdsledk\u016f"}}},{key:"drawStartPoint",value:function(e){var t=this;if(e.length>=1){var a="https://api.navitia.io/v1/coverage/cz/places?q="+e,n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(a){var n=a;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){t.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,0,e),t.map.current.clearTransferPopups(),t.setState({startId:n.places[s].id});break}}else console.log("Nothing")}))}}},{key:"drawViaPoint",value:function(e,t){var a=this;if(t){if(e.length>=1){var n="https://api.navitia.io/v1/coverage/cz/places?q="+e,s=new Headers;s.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(n,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(t){var n=t;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){a.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,1,e),a.setState({viaId:n.places[s].id});break}}else console.log("Nothing")}))}}else this.map.current.addMarker("","",3)}},{key:"drawEndPoint",value:function(e){var t=this;if(e.length>=1){var a="https://api.navitia.io/v1/coverage/cz/places?q="+e,n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(a){var n=a;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){t.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,2,e),t.setState({endId:n.places[s].id});break}}else console.log("Nothing")}))}}},{key:"fetchData",value:function(){var e=this;console.log(this.state.startId);var t=this.props.planner.start,a=this.props.planner.end,n=this.props.planner.via,s=this.props.planner.options;console.log("fetch:"),console.log(s.traveler_type),console.log(s.means),console.log(s.special);var i="https://api.navitia.io/v1/coverage/cz/journeys?from="+this.props.planner.startId+"&to="+this.props.planner.endId+"&datetime="+this.props.planner.timedate+"&min_nb_journeys=3";if(s.directPath?i+="&max_nb_transfers=0":i+="&max_nb_transfers="+s.numTransfers,s.fastestRoute,s.lowWalkingRoute&&(i+="&max_walking_duration_to_pt=360"),s.transferDistance,console.log(JSON.stringify(s.means)),void 0!==s&&void 0!==s.traveler_type&&void 0!==s.means)if(s.traveler_type.walker)if(console.log("WALKER==="),s.special.baby)i+="&traveler_type=slow_walker";else switch(s.timeToTransfer){case"5":i+="&traveler_type=fast_walker";break;case"15":i+="&traveler_type=slow_walker"}else s.traveler_type.bike||s.special.cyclist?i+="&traveler_type=cyclist":s.traveler_type.car?(console.log("CAR==="),i+="&traveler_type=motorist"):s.special.wheelchair?i+="&traveler_type=wheelchair":s.special.luggage&&(i+="&traveler_type=luggage");if(n.length<0);else if(console.log(i),t.length>=1&&a.length>=1){var r=new Headers;r.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(i,{method:"GET",headers:r}).then((function(e){return e.json()})).then((function(t){var a=t;e.setState({results:a.journeys},(function(){for(var t=document.getElementById("results"),n=t.lastElementChild;n;)t.removeChild(n),n=t.lastElementChild;e.renderResults(),console.log(a.journeys)}))}))}else console.log("no fetch")}},{key:"componentDidMount",value:function(){console.log("======================================="),this.setInputValues(),this.drawStartPoint(this.props.planner.start),this.drawViaPoint(this.props.planner.via,!0),this.drawEndPoint(this.props.planner.end),this.fetchData(),console.log("results:"),console.log(this.state.results),this.renderResults(),this.state.updateResults&&this.updateResults()}},{key:"updateResults",value:function(){this.drawStartPoint(this.props.planner.start),this.props.planner.via.length>=1?this.drawViaPoint(this.props.planner.via,!0):this.drawViaPoint(this.props.planner.via,!1),this.drawEndPoint(this.props.planner.end),this.fetchData(),this.map.current.clearPath()}},{key:"drawJourney",value:function(e){var t=e.target.getAttribute("result_id"),a=this.state.results[t].sections,n=[],s=[],i=[];void 0!==this.state.selectedResult.style&&this.state.selectedResult.setAttribute("selectedResult","false");var r=document.getElementsByClassName("result_item");this.setState({selectedResult:r[t]}),r[t].setAttribute("selectedResult","true");for(var l=0;l<a.length;l++)if(void 0!==a[l].geojson)if(n.push(a[l].geojson.coordinates),"public_transport"===a[l].type){var o="#"+a[l].display_informations.color;s.push(o)}else"transfer"===a[l].type||"street_network"===a[l].type||"crow_fly"===a[l].type?("transfer"===a[l].type&&i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push(Object({NODE_ENV:"production",PUBLIC_URL:"/bp-testing",REACT_APP_COLOR_BIKE:"#54ffc9",REACT_APP_COLOR_BUS:"#007DA8",REACT_APP_COLOR_CAR:"#000000",REACT_APP_COLOR_METRO_A:"#039a00",REACT_APP_COLOR_METRO_B:"#ffea08",REACT_APP_COLOR_METRO_C:"#fe0000",REACT_APP_COLOR_TRAIN:"#251E62",REACT_APP_COLOR_TRAM:"#0045c7",REACT_APP_COLOR_WALK:"#810095",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiYXdlbmVlciIsImEiOiJjazF0ZGg3bGMwbmpmM2NsaWtsNTM4NmswIn0.oevCdPbm5M8ujrlxqOHWOQ",REACT_APP_NAVITIA_TOKEN:"84b58c39-ed14-4e4c-9b81-05ebc3ac9df2"}).REACT_APP_COLOR_WALKING)):"bike"===a[l].mode?(i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push("#54ffc9")):"car"===a[l].mode&&(i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push("#000000"));i.length>0?this.map.current.addTransferPopup(i):this.map.current.clearTransferPopups(),this.map.current.clearPath(),this.map.current.addPath(n,n.length,s)}},{key:"createResultItem",value:function(e,t){var a=document.createElement("p");a.className="result_item",a.setAttribute("result_id",t),a.setAttribute("id","result_item"+t),a.setAttribute("selectedResult","false");var n=document.createTextNode("Odjezd: "+e.departure_date_time.substr(9,2)+":"+e.departure_date_time.substr(11,2)+" >> P\u0159\xedjezd: "+e.arrival_date_time.substr(9,2)+":"+e.arrival_date_time.substr(11,2));a.appendChild(n),a.appendChild(document.createElement("br"));var s=document.createTextNode("Trv\xe1n\xed: "+Math.round(e.duration/60)+" minut");a.appendChild(s),a.appendChild(document.createElement("br"));for(var i=[],r=0;r<e.sections.length;r++){var l=e.sections[r].type;if("street_network"===l||"crow_fly"===l){if("bike"===e.sections[r].mode){var o=document.createElement("img");o.src=Y.a,o.setAttribute("result_id",t),i.push(o)}else if("car"===e.sections[r].mode){var c=document.createElement("img");c.src=J.a,c.setAttribute("result_id",t),i.push(c)}else{var d=document.createElement("img");d.src=z.a,d.setAttribute("result_id",t),i.push(d)}if(0===r){var u=document.createElement("img");u.src=G.a,u.setAttribute("result_id",t),i.push(u)}}if("waiting"===l&&"transfer"!==e.sections[r-1].type){var p=document.createElement("img");p.src=K.a,p.setAttribute("result_id",t),i.push(p)}if("public_transport"===l){var m=document.createElement("p");m.setAttribute("result_id",t),"Metro"===e.sections[r].display_informations.commercial_mode?m.className=e.sections[r].display_informations.code:m.className=e.sections[r].display_informations.commercial_mode,m.innerHTML=e.sections[r].display_informations.code,i.push(m)}if("transfer"!==l){if(r!==e.sections.length-1&&0!==r&&"transfer"!==e.sections[r-1].type&&"transfer"!==e.sections[r+1].type){var h=document.createElement("img");h.src=G.a,h.setAttribute("result_id",t),i.push(h)}}else{var b=document.createElement("img");b.src=L.a,b.setAttribute("result_id",t),i.push(b)}}var v=document.createElement("label");v.setAttribute("result_id",t),v.className="journeyMeans";for(var g=0;g<i.length;g++)v.appendChild(i[g]);var y=document.createElement("a");y.className="detailsBtn",y.setAttribute("result_id",a.getAttribute("result_id")),y.innerHTML="Detaily spojen\xed",y.addEventListener("click",this.showJourneyDetails);var f=document.createElement("div");f.className="details",f.setAttribute("result_id",a.getAttribute("result_id")),f.style.display="none";var E="";if(void 0!==e.sections)for(var A=0;A<e.sections.length;A++){var k=e.sections[A];A<e.sections.length-1?"crow_fly"===k.type?E+="<label>P\u0159esun na zast\xe1vku "+k.to.name+"</label></br>":"public_transport"===k.type?E+="<label>Nastupte do "+k.display_informations.commercial_mode+" linky "+k.display_informations.code+" a pokra\u010dujte na z\xe1st\xe1vku "+k.to.name+"</label></br>":"transfer"===k.type?E+="<label>N\xe1sleduje p\u0159estup na zast\xe1vce "+k.to.name+"</label></br>":"waiting"===k.type?A+1!==e.sections.length&&(E+="<label>Vy\u010dkejte p\u0159\xedjezdu spoje "+e.sections[A+1].display_informations.commercial_mode+" linky "+e.sections[A+1].display_informations.code+"</label></br>"):"street_network"===k.type&&(E+="<label>Doje\u010fte na zast\xe1vku "+k.to.name+"</label></br>"):E+="<label>Vystupte na zast\xe1vce "+k.to.name+"</label></br>"}return f.innerHTML="<label><b>Pokyny pro navigaci trasou</b></label></br>"+E,a.appendChild(v),a.addEventListener("click",this.drawJourney),a.appendChild(y),a.appendChild(f),a}},{key:"showJourneyDetails",value:function(e){for(var t=e.target.getAttribute("result_id"),a=document.getElementsByClassName("details"),n=0;n<a.length;n++)n!==t&&(a[n].style.display="none");"none"===a[t].style.display?a[t].style.display="block":a[t].style.display="none"}},{key:"renderResults",value:function(){var e=document.getElementById("results");if(void 0!==this.state.results)for(var t=0;t<this.state.results.length;t++){var a=document.createElement("label");a.setAttribute("for","result_item"+t);var n=this.createResultItem(this.state.results[t],t);a.appendChild(n),e.appendChild(a)}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(y,null),s.a.createElement("main",{className:"result_page"},s.a.createElement("section",{className:"results"},s.a.createElement("div",{id:"search"},s.a.createElement(D,{start:this.getStart,via:this.getVia,end:this.getEnd,startId:this.getStartStopPointId,viaId:this.getViaStopPointId,endId:this.getEndStopPointId,timedate:this.getTimeAndDate,getOptions:this.getOptions,ready:this.setReady,update:this.updateResults,resultRef:this.resultRef}),s.a.createElement("p",null,s.a.createElement("b",null,"Pro trasu: "),this.props.planner.start,s.a.createElement("b",null,this.checkSearch()),this.props.planner.end,s.a.createElement("b",null,this.checkViaRoute()),this.props.planner.via,this.checkResults())),s.a.createElement("div",{id:"results",ref:this.resultRef})),s.a.createElement(g,{ref:this.map})),s.a.createElement(f,null))}}]),t}(s.a.Component),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handlePreviousStep=a.handlePreviousStep.bind(Object(p.a)(a)),a.handleNextStep=a.handleNextStep.bind(Object(p.a)(a)),a.handleTransport=a.handleSearch.bind(Object(p.a)(a)),a.returnTask=a.returnTask.bind(Object(p.a)(a)),a.state={step:0,prevBtnDisabled:!1,nextBtnDisabled:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){0===this.state.step&&this.setState({prevBtnDisabled:!0})}},{key:"handlePreviousStep",value:function(e){e.preventDefault();var t=this.state.step;if(console.log(t),0!==t){this.setState({nextBtnDisabled:!1});var a=document.getElementsByClassName("options-box");a[0].children[t].style.display="none",a[0].children[t-1].style.display="block",this.setState({step:t-1}),t-1===0&&this.setState({prevBtnDisabled:!0})}else console.log("Can't go back")}},{key:"handleNextStep",value:function(e){e.preventDefault();var t=this.state.step;if(console.log(t),3!==t){this.setState({prevBtnDisabled:!1});var a=document.getElementsByClassName("options-box");a[0].children[t].style.display="none",a[0].children[t+1].style.display="block",this.setState({step:t+1}),t+1===3&&this.setState({nextBtnDisabled:!0})}else console.log("Can't go forth")}},{key:"handleSearch",value:function(e){e.preventDefault()}},{key:"returnTask",value:function(){switch(this.state.step){case 0:return"Zvolte z\xe1kladn\xed hodnoty pro vyhled\xe1n\xed Va\u0161eho spoje";case 1:return"Jak\xfd je \xfa\u010del va\u0161\xed cesty?";case 2:return"Vyberte V\xe1mi preferovan\xe9 dopravn\xed prost\u0159edky";case 3:return"M\xe1te n\u011bjak\xe9 omezen\xed?";default:return"Chyba v programu"}}},{key:"render",value:function(){return s.a.createElement("section",{className:"wizardSteps"},s.a.createElement("div",{className:"wizardTasks"},s.a.createElement("label",null,s.a.createElement("b",null,"Krok ",this.state.step+1," ze 4")),s.a.createElement("label",null,this.returnTask())),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("button",{onClick:this.handlePreviousStep,id:"prev",disabled:this.state.prevBtnDisabled},"P\u0159edchoz\xed krok")),s.a.createElement("td",null,s.a.createElement("button",{onClick:this.handleNextStep,id:"next",disabled:this.state.nextBtnDisabled},"Dal\u0161\xed krok"))))))}}]),t}(s.a.Component),$=a(33),ee=a.n($),te=a(34),ae=a.n(te),ne=a(35),se=a.n(ne),ie=a(36),re=a.n(ie),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={from:"",to:"",suggestions:void 0,via:!1,date:"",time:"",directPath:!1,traveler_type:"pouze pe\u0161\xed ch\u016fze",means:"",special:"bez dal\u0161\xedch pot\u0159eb",context:"none"},a.initialTimeDateSetup=a.initialTimeDateSetup.bind(Object(p.a)(a)),a.handleFromInput=a.handleFromInput.bind(Object(p.a)(a)),a.handleViaInput=a.handleViaInput.bind(Object(p.a)(a)),a.handleToInput=a.handleToInput.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleTimeAndDate=a.handleTimeAndDate.bind(Object(p.a)(a)),a.drawSuggestions=a.drawSuggestions.bind(Object(p.a)(a)),a.setApi=a.setApi.bind(Object(p.a)(a)),a.changeTransit=a.changeTransit.bind(Object(p.a)(a)),a.updateInputValues=a.updateInputValues.bind(Object(p.a)(a)),a.swapInputFields=a.swapInputFields.bind(Object(p.a)(a)),a.updateOptions=a.updateOptions.bind(Object(p.a)(a)),a.getSelectedMeans=a.getSelectedMeans.bind(Object(p.a)(a)),a.getCurrentWeather=a.getCurrentWeather.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"initialTimeDateSetup",value:function(){var e=new Date,t=e.getFullYear()+""+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+(e.getHours()<10?"0"+e.getHours():e.getHours())+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+"00",a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate()),n=(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes());document.getElementById("input_date").value=a,document.getElementById("input_time").value=n,this.setState({date:a,time:n}),this.props.timedate(t)}},{key:"componentDidMount",value:function(){this.initialTimeDateSetup();for(var e=document.getElementsByClassName("options-box"),t=1;t<e[0].children.length;t++)e[0].children[t].style.display="none"}},{key:"setApi",value:function(e){this.props.setApi(e)}},{key:"handleFromInput",value:function(e){this.setState({from:e.target.value});var t=e.target.value,a=e.target.value,n="https://api.navitia.io/v1/coverage/cz/places?q="+e.target.value,s=new Headers;s.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(n,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.places)for(var n=0;n<e.places.length;n++)if("stop_area"===e.places[n].embedded_type){t=e.places[n].name,a=e.places[n].id;break}})),this.props.start(t),this.props.startId(a),e.target.value.length<1?e.target.setAttribute("warning","true"):e.target.setAttribute("warning","false")}},{key:"handleViaInput",value:function(e){this.props.via(e.target.value),this.props.viaId(e.target.value)}},{key:"handleToInput",value:function(e){this.setState({to:e.target.value});var t=e.target.value,a=e.target.value,n="https://api.navitia.io/v1/coverage/cz/places?q="+e.target.value,s=new Headers;s.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(n,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.places)for(var n=0;n<e.places.length;n++)if("stop_area"===e.places[n].embedded_type){t=e.places[n].name,a=e.places[n].id;break}})),this.props.end(t),this.props.endId(a),e.target.value.length<1?e.target.setAttribute("warning","true"):e.target.setAttribute("warning","false")}},{key:"handleTimeAndDate",value:function(e){var t=document.getElementById("input_time"),a=document.getElementById("input_date");this.setState({date:t.value,time:t.value});var n=t.value.substr(0,2)+t.value.substr(3,2),s=a.value.substr(0,4)+a.value.substr(5,2)+a.value.substr(8,2)+"T"+n;this.props.timedate(s)}},{key:"drawSuggestions",value:function(){var e=document.getElementById("suggestions");e.appendChild(document.createElement("ul"));for(var t=0;t<this.state.suggestions.length;t++){var a=document.createElement("li");a.appendChild(document.createTextNode(this.state.suggestions[t])),e.childNodes[0].appendChild(a)}}},{key:"updateInputValues",value:function(){var e=document.getElementById("input_from"),t=document.getElementById("input_to");this.props.start(e.value),this.props.end(t.value)}},{key:"updateOptions",value:function(){this.getOptions()}},{key:"handleSubmit",value:function(e){this.setState({vialFrom:this.state.from,vialTo:this.state.to}),document.getElementById("input_from").value.length<1||document.getElementById("input_to").value.length<1?(e.preventDefault(),document.getElementById("input_from").setAttribute("warning","true"),document.getElementById("input_to").setAttribute("warning","true")):(e.preventDefault(),void 0!==this.props.update?(this.updateInputValues(),this.props.update()):this.props.ready(!0))}},{key:"changeTransit",value:function(e){this.getOptions();var t=document.getElementById("via");if(!1===this.state.via){t.setAttribute("active","true");var a=document.getElementsByClassName("addVia"),n=document.getElementsByClassName("removeVia");a[0].style.display="none",n[0].style.display="inline-block",this.setState({via:!0})}else{document.getElementById("input_via").value="",this.props.via(document.getElementById("input_via").value),t.setAttribute("active","false");var s=document.getElementsByClassName("addVia"),i=document.getElementsByClassName("removeVia");s[0].style.display="inline-block",i[0].style.display="none",this.setState({via:!1})}}},{key:"swapInputFields",value:function(){this.getOptions();var e=document.getElementById("input_from").value,t=document.getElementById("input_to"),a=document.getElementById("input_from");a.value=t.value,t.value=e,this.props.start(a.value),this.props.startId(a.value),this.props.end(t.value),this.props.endId(t.value),this.setState({from:a.value}),this.setState({to:t.value})}},{key:"getSelectedMeans",value:function(){for(var e=document.getElementsByClassName("means"),t={},a=0;a<e.length;a++)t[e[a].id]=e[a].checked;return t}},{key:"getCurrentWeather",value:function(){switch(Math.floor(7*Math.random())){case 3:return"snow";case 2:return"rain";case 1:return"cloudy";case 0:return"sunny";default:return"partly_cloudy"}}},{key:"getOptions",value:function(){console.log("Options:");var e={directPath:document.getElementById("directPath").checked,travel_type:document.querySelector('input[name="travel_type"]:checked').getAttribute("id"),means:this.getSelectedMeans(),special:document.querySelector('input[name="special"]:checked').getAttribute("id"),weather:this.getCurrentWeather()};console.log("======== WEATHER: ==== "+this.getCurrentWeather()),e.directPath&&this.setState({directPath:!0}),"normal"===e.travel_type&&this.setState({traveler_type:"pouze pe\u0161\xed ch\u016fze"}),"work"===e.travel_type&&this.setState({travel_type:"kola nebo kolob\u011b\u017eky"}),"school"===e.travel_type&&this.setState({traveler_type:"osobn\xedho automobilu"}),"freetime"===e.travel_type&&this.setState({traveler_type:"osobn\xedho automobilu"}),this.setState({means:e.means}),"standard"===e.special&&this.setState({traveler_type:"standard"}),"slow_walker"===e.special&&this.setState({traveler_type:"slow_walker"}),"wheelchair"===e.special&&this.setState({traveler_type:"wheelchair"}),"luggage"===e.special&&this.setState({traveler_type:"luggage"}),"cyclist"===e.special&&this.setState({traveler_type:"cyclist"}),this.props.getOptions(e)}},{key:"render",value:function(){return s.a.createElement("form",{className:"input",id:"contextForm",action:"/result",onSubmit:this.handleSubmit,onChange:this.getOptions},s.a.createElement("div",{className:"options"},s.a.createElement(Z,{step:this.state.step}),s.a.createElement("div",{className:"options-box"},s.a.createElement("div",{id:"options-box-main",display:"block"},s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Odkud:"),s.a.createElement("input",{className:"locations",id:"input_from",type:"form",placeholder:"Zadejte po\u010d\xe1te\u010dn\xed bod",onChange:this.handleFromInput})),s.a.createElement("p",{id:"suggestions"}),s.a.createElement("div",{className:"inputFieldDiv",id:"via",active:"false"},s.a.createElement("label",{className:"addVia",onClick:this.changeTransit},s.a.createElement("img",{className:"viaBtn",src:N.a,alt:"+",title:"P\u0159idat pr\u016fjezdn\xed bod"}),s.a.createElement("label",{id:"addViaText"},"P\u0159idat pr\u016fjezd")),s.a.createElement("label",{className:"removeVia",style:{display:"none"}},s.a.createElement("img",{className:"viaBtn",src:T.a,alt:"\xd7",onClick:this.changeTransit,title:"Odebrat pr\u016fjezdn\xed bod"}),s.a.createElement("input",{className:"locations",id:"input_via",type:"form",placeholder:"Zadejte pr\u016fjezdov\xfd bod",onChange:this.handleViaInput})),s.a.createElement("label",{id:"swapper",onClick:this.swapInputFields},s.a.createElement("img",{className:"clickable",src:j.a,alt:"[SWAP]",title:"Prohodit Start a C\xedl"}))),s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Kam:"),s.a.createElement("input",{className:"locations",id:"input_to",type:"form",placeholder:"Zadejte c\xedlov\xfd bod",onChange:this.handleToInput})),s.a.createElement("div",{className:"box",id:"timeBox"},s.a.createElement("div",{className:"inputFieldDiv"},s.a.createElement("label",{className:"textLabel"},"Datum a \u010das:"),s.a.createElement("input",{id:"input_date",type:"date",onChange:this.handleTimeAndDate}),s.a.createElement("input",{id:"input_time",type:"time",onChange:this.handleTimeAndDate}))),s.a.createElement("div",{className:"directPathBox"},s.a.createElement("label",{className:"inputFieldDiv"},s.a.createElement("input",{type:"checkbox",id:"directPath",onChange:this.getOptions}),"Pouze p\u0159\xedm\xfd spoj"))),s.a.createElement("div",{className:"contextOptionsSettings",id:"options-box-parameters",display:"none"},s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"travel_type",className:"route",id:"normal",defaultChecked:!0}),s.a.createElement("img",{src:ee.a,alt:"n"}),s.a.createElement("label",{htmlFor:"normal",className:"travel_type"},"Norm\xe1ln\xed")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"travel_type",className:"route",id:"work"}),s.a.createElement("label",{htmlFor:"work",className:"travel_type"},s.a.createElement("img",{src:ae.a,alt:"n"}),"Do pr\xe1ce")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"travel_type",className:"route",id:"school"}),s.a.createElement("img",{src:se.a,alt:"n"}),s.a.createElement("label",{htmlFor:"school",className:"travel_type"},"Do \u0161koly")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"travel_type",className:"route",id:"doctor"}),s.a.createElement("img",{src:re.a,alt:"n"}),s.a.createElement("label",{htmlFor:"doctor",className:"travel_type"},"Za l\xe9ka\u0159em")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"travel_type",className:"route",id:"freetime"}),s.a.createElement("img",{src:Y.a,alt:"n"}),s.a.createElement("label",{htmlFor:"freetime",className:"travel_type"},"Rekreace"))),s.a.createElement("div",{className:"contextOptionsSettings",id:"options-box-transport",display:"none"},s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Metro",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Metro"},"Metro")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Tramway",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Tramway"},"Tramvaj")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Bus",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Bus"},"Autobus")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Train",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Train"},"P\u0159\xedm\u011bstsk\xfd vlak")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Funicular",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Funicular"},"Lanovka")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Ferry",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Ferry"},"P\u0159\xedvoz")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Car",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Car"},"Osobn\xed automobil")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Bike",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Bike"},"Kolo nebo kolob\u011b\u017eka")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"checkbox",className:"means",id:"Shared",defaultChecked:!0}),s.a.createElement("label",{className:"meansLabel",htmlFor:"Shared"},"Sd\xedlen\xe9 kolo nebo kolob\u011b\u017eka"))),s.a.createElement("div",{className:"contextOptionsSettings",id:"options-box-access",display:"none"},s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"special",className:"traveler_type",id:"standard",defaultChecked:!0}),s.a.createElement("label",{htmlFor:"standard",className:"access"},"Nem\xe1m omezen\xed")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"special",className:"traveler_type",id:"slow_walker"}),s.a.createElement("label",{htmlFor:"slow_walker",className:"access"},"Cestuji s ko\u010d\xe1rkem")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"special",className:"traveler_type",id:"wheelchair"}),s.a.createElement("label",{htmlFor:"wheelchair",className:"access"},"Cestuji s voz\xed\u010dkem")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"special",className:"traveler_type",id:"luggage"}),s.a.createElement("label",{htmlFor:"luggage",className:"access"},"Cestuji s t\u011b\u017ek\xfdmi zavazadly")),s.a.createElement("label",{className:"outline"},s.a.createElement("input",{type:"radio",name:"special",className:"traveler_type",id:"cyclist"}),s.a.createElement("label",{htmlFor:"cyclist",className:"access"},"Cestuji s kolem/kolob\u011b\u017ekou"))))),s.a.createElement("div",{className:"submitBox"},s.a.createElement(A,{setApi:this.setApi}),s.a.createElement("input",{type:"submit",value:"Vyhledat spojen\xed",title:"Vyhledat spoj dle zadan\xfdch hodnot"})))}}]),t}(s.a.Component),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={ready:!1},a.map=s.a.createRef(),a.setApi=a.setApi.bind(Object(p.a)(a)),a.getStart=a.getStart.bind(Object(p.a)(a)),a.getVia=a.getVia.bind(Object(p.a)(a)),a.getEnd=a.getEnd.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a.getTimeAndDate=a.getTimeAndDate.bind(Object(p.a)(a)),a.setReady=a.setReady.bind(Object(p.a)(a)),a.getStartStopPointId=a.getStartStopPointId.bind(Object(p.a)(a)),a.getViaStopPointId=a.getViaStopPointId.bind(Object(p.a)(a)),a.getEndStopPointId=a.getEndStopPointId.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"setApi",value:function(e){this.props.writeApi(e)}},{key:"getStart",value:function(e){this.props.writeStart(e)}},{key:"getVia",value:function(e){this.props.writeVia(e)}},{key:"getEnd",value:function(e){this.props.writeEnd(e)}},{key:"getStartStopPointId",value:function(e){this.props.writeStartId(e)}},{key:"getViaStopPointId",value:function(e){this.props.writeViaId(e)}},{key:"getEndStopPointId",value:function(e){this.props.writeEndId(e)}},{key:"getOptions",value:function(e){this.props.writeOptions(e)}},{key:"getTimeAndDate",value:function(e){this.props.writeTimeAndDate(e)}},{key:"setReady",value:function(e){this.setState({ready:e})}},{key:"render",value:function(){return this.state.ready?s.a.createElement(h.a,{to:"/wizard_result"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(y,null),s.a.createElement("main",{className:"journey-planner"},s.a.createElement("section",{className:"planner"},s.a.createElement(le,{start:this.getStart,via:this.getVia,end:this.getEnd,startId:this.getStartStopPointId,viaId:this.getViaStopPointId,endId:this.getEndStopPointId,timedate:this.getTimeAndDate,ready:this.setReady,planner:this.props.planner,setApi:this.setApi,getOptions:this.getOptions})),s.a.createElement(g,{ref:this.map})),s.a.createElement(f,null))}}]),t}(s.a.Component),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={ready:!1,results:[],updateResults:!1,startId:"no_point",viaId:"no_point",endId:"no_point",selectedResult:""},a.map=s.a.createRef(),a.resultRef=s.a.createRef(),a.getStart=a.getStart.bind(Object(p.a)(a)),a.getVia=a.getVia.bind(Object(p.a)(a)),a.getEnd=a.getEnd.bind(Object(p.a)(a)),a.getStartStopPointId=a.getStartStopPointId.bind(Object(p.a)(a)),a.getViaStopPointId=a.getViaStopPointId.bind(Object(p.a)(a)),a.getEndStopPointId=a.getEndStopPointId.bind(Object(p.a)(a)),a.getTimeAndDate=a.getTimeAndDate.bind(Object(p.a)(a)),a.processOptions=a.processOptions.bind(Object(p.a)(a)),a.getOptions=a.getOptions.bind(Object(p.a)(a)),a.setApi=a.setApi.bind(Object(p.a)(a)),a.setReady=a.setReady.bind(Object(p.a)(a)),a.setInputValues=a.setInputValues.bind(Object(p.a)(a)),a.createResultItem=a.createResultItem.bind(Object(p.a)(a)),a.createResultItemMM=a.createResultItemMM.bind(Object(p.a)(a)),a.renderResults=a.renderResults.bind(Object(p.a)(a)),a.updateResults=a.updateResults.bind(Object(p.a)(a)),a.drawJourney=a.drawJourney.bind(Object(p.a)(a)),a.drawStartPoint=a.drawStartPoint.bind(Object(p.a)(a)),a.drawViaPoint=a.drawViaPoint.bind(Object(p.a)(a)),a.drawEndPoint=a.drawEndPoint.bind(Object(p.a)(a)),a.fetchData=a.fetchData.bind(Object(p.a)(a)),a.sendRequestPid=a.sendRequestPid.bind(Object(p.a)(a)),a.sendRequestMM=a.sendRequestMM.bind(Object(p.a)(a)),a.showJourneyDetails=a.showJourneyDetails.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getStart",value:function(e){this.props.writeStart(e)}},{key:"getVia",value:function(e){this.props.writeVia(e)}},{key:"getEnd",value:function(e){this.props.writeEnd(e)}},{key:"getStartStopPointId",value:function(e){this.props.writeStartId(e)}},{key:"getViaStopPointId",value:function(e){this.props.writeViaId(e)}},{key:"getEndStopPointId",value:function(e){this.props.writeEndId(e)}},{key:"getTimeAndDate",value:function(e){this.props.writeTimeAndDate(e)}},{key:"getOptions",value:function(e){this.props.writeOptions(e)}},{key:"setApi",value:function(e){this.props.writeApi(e)}},{key:"setReady",value:function(e){this.setState({ready:e})}},{key:"setInputValues",value:function(){var e=document.getElementById("input_from"),t=document.getElementById("input_via"),a=document.getElementById("input_to");e.value=this.props.planner.start,null===this.props.planner.via?t.value="":t.value=this.props.planner.via,a.value=this.props.planner.end}},{key:"checkSearch",value:function(){return 0===this.props.planner.start.length?"":" >>> "}},{key:"checkViaRoute",value:function(){return this.props.planner.via.length>=1?" p\u0159es ":""}},{key:"checkResults",value:function(){if(void 0===this.state.results)return" nebyl nalezen \u017e\xe1dn\xfd v\xfdsledek, zvolte pros\xedm jin\xe9 zad\xe1n\xed.";switch(this.state.results.length){case 0:return"";case 1:return" --- nalezen 1 v\xfdsledek";case 2:case 3:case 4:return" --- nalezeny "+this.state.results.length+" v\xfdsledky";default:return" --- nalezeno "+this.state.results.length+" v\xfdsledk\u016f"}}},{key:"drawStartPoint",value:function(e){var t=this;if(e.length>=1){var a="https://api.navitia.io/v1/coverage/cz/places?q="+e,n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(a){var n=a;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){t.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,0,e),t.map.current.clearTransferPopups(),t.setState({startId:n.places[s].id});break}}else console.log("Nothing")}))}}},{key:"drawViaPoint",value:function(e,t){var a=this;if(t){if(e.length>=1){var n="https://api.navitia.io/v1/coverage/cz/places?q="+e,s=new Headers;s.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(n,{method:"GET",headers:s}).then((function(e){return e.json()})).then((function(t){var n=t;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){a.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,1,e),a.setState({viaId:n.places[s].id});break}}else console.log("Nothing")}))}}else this.map.current.addMarker("","",3)}},{key:"drawEndPoint",value:function(e){var t=this;if(e.length>=1){var a="https://api.navitia.io/v1/coverage/cz/places?q="+e,n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(a){var n=a;if(null!==n.places&&void 0!==n.places){console.log(n);for(var s=0;s<n.places.length;s++)if(console.log("test"),"stop_area"===n.places[s].embedded_type){t.map.current.addMarker(n.places[s].stop_area.coord.lon,n.places[s].stop_area.coord.lat,2,e),t.setState({endId:n.places[s].id});break}}else console.log("Nothing")}))}}},{key:"processOptions",value:function(e){console.log("Process:");var t=0,a=e,n=0;switch(console.log("travel_type = "+a.travel_type),a.travel_type){case"normal":n=.8;break;case"work":case"school":n=.5;break;case"doctor":n=.45;break;case"freetime":n=.85;break;default:n=1}switch(console.log(n),t=n,a.special){case"standard":t*=1;break;case"slow_walker":t*=.5;break;case"wheelchair":t*=.3;break;case"luggage":t*=.5;break;case"cyclist":t*=.8;break;default:t=1}return console.log(t),t}},{key:"fetchData",value:function(){console.log(this.state.startId);var e=this.props.planner.start,t=this.props.planner.end,a=this.props.planner.via,n=this.props.planner.options,s=this.props.planner.api;console.log("fetch:"),console.log(n.directPath),console.log(n.travel_type),console.log(n.means),console.log(n.special),console.log(n.weather);var i=this.processOptions(n);switch(console.log(i),s){case"pid":this.sendRequestPid(e,t,a,n);break;case"mmplanner":this.sendRequestMM(e,t,a,n)}}},{key:"sendRequestPid",value:function(e,t,a,n){var s=this,i="https://api.navitia.io/v1/coverage/cz/journeys?from="+this.props.planner.startId+"&to="+this.props.planner.endId+"&datetime="+this.props.planner.timedate+"&min_nb_journeys=3";if(n.directPath?i+="&max_nb_transfers=0":i+="&max_nb_transfers=4",n.fastestRoute,n.lowWalkingRoute&&(i+="&max_walking_duration_to_pt=360"),n.transferDistance,void 0!==n&&void 0!==n.travel_type&&void 0!==n.means&&void 0!==n.special&&void 0!==n.weather){if("walker"===n.travel_type)if(console.log("WALKER==="),n.special.baby)i+="&traveler_type=slow_walker";else switch(n.timeToTransfer){case"5":i+="&traveler_type=fast_walker";break;case"15":i+="&traveler_type=slow_walker"}else"freetime"===n.travel_type?i+="&traveler_type=cyclist":"normal"===n.travel_type&&(console.log("x"),!0!==n.means.Car||!1!==n.means.Bus&&!1!==n.means.Tramway&&!1!==n.means.Metro||(console.log("y"),i+="&traveler_type=motorist"));"wheelchair"===n.special?i+="&traveler_type=wheelchair":"luggage"===n.special&&(i+="&traveler_type=luggage")}if(a.length<0);else if(console.log(i),e.length>=1&&t.length>=1){var r=new Headers;r.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(i,{method:"GET",headers:r}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("Query:"),console.log(t),s.setState({results:t.journeys},(function(){for(var e=document.getElementById("results"),a=e.lastElementChild;a;)e.removeChild(a),a=e.lastElementChild;s.renderResults(),console.log(t.journeys)}))}))}else console.log("no fetch")}},{key:"sendRequestMM",value:function(){var e=this;fetch("http://localhost:8125/api/findRoutes?maxDate=2020-04-28T14:30:00",{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t;console.log("Query MM:"),console.log(a),e.setState({results:a.data.routes},(function(){for(var t=document.getElementById("results"),n=t.lastElementChild;n;)t.removeChild(n),n=t.lastElementChild;console.log("mm render now"),e.renderResults(),console.log(a.data.routes)}))}))}},{key:"componentDidMount",value:function(){this.setInputValues(),this.drawStartPoint(this.props.planner.start),this.drawViaPoint(this.props.planner.via,!0),this.drawEndPoint(this.props.planner.end),this.fetchData(),this.renderResults(),this.state.updateResults&&this.updateResults()}},{key:"updateResults",value:function(){this.drawStartPoint(this.props.planner.start),this.props.planner.via.length>=1?this.drawViaPoint(this.props.planner.via,!0):this.drawViaPoint(this.props.planner.via,!1),this.drawEndPoint(this.props.planner.end),this.fetchData(),this.map.current.clearPath()}},{key:"drawJourney",value:function(e){var t=e.target.getAttribute("result_id"),a=this.state.results[t].sections,n=[],s=[],i=[];void 0!==this.state.selectedResult.style&&this.state.selectedResult.setAttribute("selectedResult","false");var r=document.getElementsByClassName("result_item");this.setState({selectedResult:r[t]}),r[t].setAttribute("selectedResult","true");for(var l=0;l<a.length;l++)if(void 0!==a[l].geojson)if(n.push(a[l].geojson.coordinates),"public_transport"===a[l].type){var o="#"+a[l].display_informations.color;s.push(o)}else"transfer"===a[l].type||"street_network"===a[l].type||"crow_fly"===a[l].type?("transfer"===a[l].type&&i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push(Object({NODE_ENV:"production",PUBLIC_URL:"/bp-testing",REACT_APP_COLOR_BIKE:"#54ffc9",REACT_APP_COLOR_BUS:"#007DA8",REACT_APP_COLOR_CAR:"#000000",REACT_APP_COLOR_METRO_A:"#039a00",REACT_APP_COLOR_METRO_B:"#ffea08",REACT_APP_COLOR_METRO_C:"#fe0000",REACT_APP_COLOR_TRAIN:"#251E62",REACT_APP_COLOR_TRAM:"#0045c7",REACT_APP_COLOR_WALK:"#810095",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiYXdlbmVlciIsImEiOiJjazF0ZGg3bGMwbmpmM2NsaWtsNTM4NmswIn0.oevCdPbm5M8ujrlxqOHWOQ",REACT_APP_NAVITIA_TOKEN:"84b58c39-ed14-4e4c-9b81-05ebc3ac9df2"}).REACT_APP_COLOR_WALKING)):"bike"===a[l].mode?(i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push("#54ffc9")):"car"===a[l].mode&&(i.push(a[l].geojson.coordinates[a[l].geojson.coordinates.length-1]),s.push("#000000"));i.length>0?this.map.current.addTransferPopup(i):this.map.current.clearTransferPopups(),this.map.current.clearPath(),this.map.current.addPath(n,n.length,s)}},{key:"createResultItem",value:function(e,t){var a=document.createElement("p");a.className="result_item",a.setAttribute("result_id",t),a.setAttribute("id","result_item"+t),a.setAttribute("selectedResult","false");var n=document.createTextNode("Odjezd: "+e.departure_date_time.substr(9,2)+":"+e.departure_date_time.substr(11,2)+" >> P\u0159\xedjezd: "+e.arrival_date_time.substr(9,2)+":"+e.arrival_date_time.substr(11,2));a.appendChild(n),a.appendChild(document.createElement("br"));var s=document.createTextNode("Trv\xe1n\xed: "+Math.round(e.duration/60)+" minut");a.appendChild(s),a.appendChild(document.createElement("br"));var i=[],r=[];for(var l in this.props.planner.options.means)!1===this.props.planner.options.means[l]&&r.push(l);for(var o=!1,c=0;c<e.sections.length;c++){var d=e.sections[c].type;if("street_network"===d||"crow_fly"===d){if("bike"===e.sections[c].mode){for(var u=0;u<r.length;u++)"Bike"===r[u]&&(o=!0);var p=document.createElement("img");p.src=Y.a,p.setAttribute("result_id",t),i.push(p)}else if("car"===e.sections[c].mode){for(var m=0;m<r.length;m++)"Bike"===r[m]&&(o=!0);var h=document.createElement("img");h.src=J.a,h.setAttribute("result_id",t),i.push(h)}else{var b=document.createElement("img");b.src=z.a,b.setAttribute("result_id",t),i.push(b)}if(0===c){var v=document.createElement("img");v.src=G.a,v.setAttribute("result_id",t),i.push(v)}}if("waiting"===d&&"transfer"!==e.sections[c-1].type){var g=document.createElement("img");g.src=K.a,g.setAttribute("result_id",t),i.push(g)}if("public_transport"===d){var y=document.createElement("p");y.setAttribute("result_id",t),"Metro"===e.sections[c].display_informations.commercial_mode?y.className=e.sections[c].display_informations.code:y.className=e.sections[c].display_informations.commercial_mode,y.innerHTML=e.sections[c].display_informations.code,i.push(y)}if("transfer"!==d){if(c!==e.sections.length-1&&0!==c&&"transfer"!==e.sections[c-1].type&&"transfer"!==e.sections[c+1].type){var f=document.createElement("img");f.src=G.a,f.setAttribute("result_id",t),i.push(f)}}else{var E=document.createElement("img");E.src=L.a,E.setAttribute("result_id",t),i.push(E)}}var A=document.createElement("label");A.setAttribute("result_id",t),A.className="journeyMeans";for(var k=0;k<i.length;k++)A.appendChild(i[k]);var w=document.createElement("a");w.className="detailsBtn",w.setAttribute("result_id",a.getAttribute("result_id")),w.innerHTML="Detaily spojen\xed",w.addEventListener("click",this.showJourneyDetails);var O=document.createElement("div");O.className="details",O.setAttribute("result_id",a.getAttribute("result_id")),O.style.display="none";var I="";if(void 0!==e.sections)for(var S=0;S<e.sections.length;S++){var j=e.sections[S];S<e.sections.length-1?"crow_fly"===j.type?I+="<label>P\u0159esun na zast\xe1vku "+j.to.name+"</label></br>":"public_transport"===j.type?I+="<label>Nastupte do "+j.display_informations.commercial_mode+" linky "+j.display_informations.code+" a pokra\u010dujte na z\xe1st\xe1vku "+j.to.name+"</label></br>":"transfer"===j.type?I+="<label>N\xe1sleduje p\u0159estup na zast\xe1vce "+j.to.name+"</label></br>":"waiting"===j.type?S+1!==e.sections.length&&(I+="<label>Vy\u010dkejte p\u0159\xedjezdu spoje "+e.sections[S+1].display_informations.commercial_mode+" linky "+e.sections[S+1].display_informations.code+"</label></br>"):"street_network"===j.type&&(I+="<label>Doje\u010fte na zast\xe1vku "+j.to.name+"</label></br>"):I+="<label>Vystupte na zast\xe1vce "+j.to.name+"</label></br>"}return O.innerHTML="<label><b>Pokyny pro navigaci trasou</b></label></br>"+I,a.appendChild(A),a.addEventListener("click",this.drawJourney),a.appendChild(w),a.appendChild(O),console.log(a),o?null:a}},{key:"createResultItemMM",value:function(e,t){var a=document.createElement("p");a.className="result_item",a.setAttribute("result_id",t),a.setAttribute("id","result_item"+t),a.setAttribute("selectedResult","false");var n=document.createTextNode("Odjezd: "+e.fromTime.substr(11,2)+":"+e.fromTime.substr(14,2)+" >> P\u0159\xedjezd: "+e.toTime.substr(11,2)+":"+e.toTime.substr(14,2));a.appendChild(n),a.appendChild(document.createElement("br"));var s=document.createTextNode("Trv\xe1n\xed: "+Math.round(e.totalDistance/433)+" minut");a.appendChild(s),a.appendChild(document.createElement("br"));var i=[],r=[];for(var l in this.props.planner.options.means)!1===this.props.planner.options.means[l]&&r.push(l);for(var o=!1,c=0;c<e.segments.length;c++){var d=e.segments[c].type;if("WALK"===d){if("bike"===e.segments[c].mode){for(var u=0;u<r.length;u++)"Bike"===r[u]&&(o=!0);var p=document.createElement("img");p.src=Y.a,p.setAttribute("result_id",t),i.push(p)}else if("car"===e.segments[c].mode){var m=document.createElement("img");m.src=J.a,m.setAttribute("result_id",t),i.push(m)}else{var h=document.createElement("img");h.src=z.a,h.setAttribute("result_id",t),i.push(h)}if(0===c){var b=document.createElement("img");b.src=G.a,b.setAttribute("result_id",t),i.push(b)}}if("WAIT"===d){var v=document.createElement("img");v.src=K.a,v.setAttribute("result_id",t),i.push(v)}if("public_transport"===d){var g=document.createElement("p");g.setAttribute("result_id",t),"Metro"===e.segments[c].display_informations.commercial_mode?g.className=e.segments[c].display_informations.code:g.className=e.segments[c].display_informations.commercial_mode,g.innerHTML=e.segments[c].display_informations.code,i.push(g)}if("transfer"!==d);else{var y=document.createElement("img");y.src=L.a,y.setAttribute("result_id",t),i.push(y)}}var f=document.createElement("label");f.setAttribute("result_id",t),f.className="journeyMeans";for(var E=0;E<i.length;E++)f.appendChild(i[E]);var A=document.createElement("a");A.className="detailsBtn",A.setAttribute("result_id",a.getAttribute("result_id")),A.innerHTML="Detaily spojen\xed",A.addEventListener("click",this.showJourneyDetails);var k=document.createElement("div");k.className="details",k.setAttribute("result_id",a.getAttribute("result_id")),k.style.display="none";var w="";if(void 0!==e.sections)for(var O=0;O<e.sections.length;O++){var I=e.sections[O];O<e.sections.length-1?"crow_fly"===I.type?w+="<label>P\u0159esun na zast\xe1vku "+I.to.name+"</label></br>":"public_transport"===I.type?w+="<label>Nastupte do "+I.display_informations.commercial_mode+" linky "+I.display_informations.code+" a pokra\u010dujte na z\xe1st\xe1vku "+I.to.name+"</label></br>":"transfer"===I.type?w+="<label>N\xe1sleduje p\u0159estup na zast\xe1vce "+I.to.name+"</label></br>":"waiting"===I.type?O+1!==e.sections.length&&(w+="<label>Vy\u010dkejte p\u0159\xedjezdu spoje "+e.sections[O+1].display_informations.commercial_mode+" linky "+e.sections[O+1].display_informations.code+"</label></br>"):"street_network"===I.type&&(w+="<label>Doje\u010fte na zast\xe1vku "+I.to.name+"</label></br>"):w+="<label>Vystupte na zast\xe1vce "+I.to.name+"</label></br>"}return k.innerHTML="<label><b>Pokyny pro navigaci trasou</b></label></br>"+w,a.appendChild(f),a.addEventListener("click",this.drawJourney),a.appendChild(A),a.appendChild(k),console.log(a),o?null:a}},{key:"showJourneyDetails",value:function(e){for(var t=e.target.getAttribute("result_id"),a=document.getElementsByClassName("details"),n=0;n<a.length;n++)n!==t&&(a[n].style.display="none");"none"===a[t].style.display?a[t].style.display="block":a[t].style.display="none"}},{key:"renderResults",value:function(){var e=document.getElementById("results");if(console.log("results state:"),console.log(this.state.results),void 0!==this.state.results)for(var t=0;t<this.state.results.length;t++){var a,n=document.createElement("label");n.setAttribute("for","result_item"+t),console.log(this.props.planner.api),"mmplanner"===this.props.planner.api?(console.log("mm create"),a=this.createResultItemMM(this.state.results[t],t)):a=this.createResultItem(this.state.results[t],t),null!==a&&n.appendChild(a),e.appendChild(n)}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(y,null),s.a.createElement("main",{className:"result_page"},s.a.createElement("section",{className:"results"},s.a.createElement("div",{id:"search"},s.a.createElement(le,{start:this.getStart,via:this.getVia,end:this.getEnd,startId:this.getStartStopPointId,viaId:this.getViaStopPointId,endId:this.getEndStopPointId,timedate:this.getTimeAndDate,getOptions:this.getOptions,setApi:this.setApi,ready:this.setReady,update:this.updateResults,resultRef:this.resultRef}),s.a.createElement("p",null,s.a.createElement("b",null,"Pro trasu: "),this.props.planner.start,s.a.createElement("b",null,this.checkSearch()),this.props.planner.end,s.a.createElement("b",null,this.checkViaRoute()),this.props.planner.via,this.checkResults())),s.a.createElement("div",{id:"results",ref:this.resultRef})),s.a.createElement(g,{ref:this.map})),s.a.createElement(f,null))}}]),t}(s.a.Component),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).writeStart=a.writeStart.bind(Object(p.a)(a)),a.writeVia=a.writeVia.bind(Object(p.a)(a)),a.writeEnd=a.writeEnd.bind(Object(p.a)(a)),a.writeStartId=a.writeStartId.bind(Object(p.a)(a)),a.writeViaId=a.writeViaId.bind(Object(p.a)(a)),a.writeEndId=a.writeEndId.bind(Object(p.a)(a)),a.writeTimeAndDate=a.writeTimeAndDate.bind(Object(p.a)(a)),a.writeOptions=a.writeOptions.bind(Object(p.a)(a)),a.writeApi=a.writeApi.bind(Object(p.a)(a)),a.state={start:"",via:"",end:"",startId:void 0,viaId:void 0,endId:void 0,timedate:"",api:"pid",options:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"writeStart",value:function(e){this.setState({start:e})}},{key:"writeVia",value:function(e){this.setState({via:e})}},{key:"writeEnd",value:function(e){this.setState({end:e})}},{key:"writeStartId",value:function(e){var t=this,a="https://api.navitia.io/v1/coverage/cz/places?q="+e;console.log(a);var n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.places)for(var a=0;a<e.places.length;a++)if("stop_area"===e.places[a].embedded_type){t.setState({startId:e.places[a].id});break}}))}},{key:"writeViaId",value:function(e){var t=this,a="https://api.navitia.io/v1/coverage/cz/places?q="+e,n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.places)for(var a=0;a<e.places.length;a++)if("stop_area"===e.places[a].embedded_type){t.setState({viaId:e.places[a].id});break}}))}},{key:"writeEndId",value:function(e){var t=this,a="https://api.navitia.io/v1/coverage/cz/places?q="+e;console.log(a);var n=new Headers;n.set("Authorization","Basic "+btoa("84b58c39-ed14-4e4c-9b81-05ebc3ac9df2")),fetch(a,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.places)for(var a=0;a<e.places.length;a++)if("stop_area"===e.places[a].embedded_type){t.setState({endId:e.places[a].id});break}}))}},{key:"writeTimeAndDate",value:function(e){this.setState({timedate:e})}},{key:"writeOptions",value:function(e){this.setState({options:e})}},{key:"writeApi",value:function(e){this.setState({api:e})}},{key:"render",value:function(){var e=this;return s.a.createElement(h.d,null,s.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return s.a.createElement(B,Object.assign({},t,{writeStart:e.writeStart,writeVia:e.writeVia,writeEnd:e.writeEnd,writeStartId:e.writeStartId,writeViaId:e.writeViaId,writeEndId:e.writeEndId,writeTimeAndDate:e.writeTimeAndDate,writeOptions:e.writeOptions,writeApi:e.writeApi,planner:e.state}))}}),s.a.createElement(h.b,{path:"/form",render:function(t){return s.a.createElement(B,Object.assign({},t,{writeStart:e.writeStart,writeVia:e.writeVia,writeEnd:e.writeEnd,writeStartId:e.writeStartId,writeViaId:e.writeViaId,writeEndId:e.writeEndId,writeTimeAndDate:e.writeTimeAndDate,writeOptions:e.writeOptions,writeApi:e.writeApi,planner:e.state}))}}),s.a.createElement(h.b,{exact:!0,path:"/form_result",render:function(t){return s.a.createElement(Q,Object.assign({},t,{writeStart:e.writeStart,writeVia:e.writeVia,writeEnd:e.writeEnd,writeStartId:e.writeStartId,writeViaId:e.writeViaId,writeEndId:e.writeEndId,writeTimeAndDate:e.writeTimeAndDate,writeOptions:e.writeOptions,writeApi:e.writeApi,planner:e.state}))}}),s.a.createElement(h.b,{exact:!0,path:"/old_wizard",render:function(t){return s.a.createElement(M,Object.assign({},t,{writeStart:e.writeStart,writeVia:e.writeVia,writeEnd:e.writeEnd,writeStartId:e.writeStartId,writeViaId:e.writeViaId,writeEndId:e.writeEndId,writeTimeAndDate:e.writeTimeAndDate,writeOptions:e.writeOptions,writeApi:e.writeApi,planner:e.state}))}}),s.a.createElement(h.b,{exact:!0,path:"/old_wizard_result",render:function(t){return s.a.createElement(W,Object.assign({},t,{writeStart:e.writeStart,writeVia:e.writeVia,writeEnd:e.writeEnd,writeStartId:e.writeStartId,writeViaId:e.writeViaId,writeEndId:e.writeEndId,writeTimeAndDate:e.writeTimeAndDate,writeOptions:e.writeOptions,writeApi:e.writeApi,planner:e.state}))}}),s.a.createElement(h.b,{exact:!0,path:"/wizard",render:function(t){return s.a.createElement(oe,Object.assign({},t,{writeStart:e.writeStart,writeVia:e.writeVia,writeEnd:e.writeEnd,writeStartId:e.writeStartId,writeViaId:e.writeViaId,writeEndId:e.writeEndId,writeTimeAndDate:e.writeTimeAndDate,writeOptions:e.writeOptions,writeApi:e.writeApi,planner:e.state}))}}),s.a.createElement(h.b,{exact:!0,path:"/wizard_result",render:function(t){return s.a.createElement(ce,Object.assign({},t,{writeStart:e.writeStart,writeVia:e.writeVia,writeEnd:e.writeEnd,writeStartId:e.writeStartId,writeViaId:e.writeViaId,writeEndId:e.writeEndId,writeTimeAndDate:e.writeTimeAndDate,writeOptions:e.writeOptions,writeApi:e.writeApi,planner:e.state}))}}))}}]),t}(s.a.Component),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(s.a.createElement(l.a,null,s.a.createElement(de,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bp-testing",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/bp-testing","/service-worker.js");ue?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pe(t,e)}))}}()}],[[37,1,2]]]);
//# sourceMappingURL=main.fda1d0b7.chunk.js.map