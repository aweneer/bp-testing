{"version":3,"sources":["assets/Next.png","assets/Swap.png","assets/Add.png","assets/Remove.png","assets/Walker.png","assets/Transfer.png","assets/Waiting.png","assets/Car.png","assets/Bike.png","components/app/Map.jsx","components/app/Header.jsx","components/app/Footer.jsx","components/app/OptionsSelect.jsx","components/api/SelectApi.jsx","components/api/PlannerPID.jsx","components/app/Planner.jsx","components/app/WizardSteps.jsx","components/api/PlannerWizardPID.jsx","components/app/PlannerWizard.jsx","components/app/Result.jsx","components/app/ResultWizard.jsx","components/app/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","Map","props","state","mapbox","undefined","startMarker","viaMarker","endMarker","transferPopups","route","routeLayers","addTransferPopup","bind","clearTransferPopups","clearPath","addMarker","addPath","coords","map","this","popups","length","i","remove","popup","mapboxgl","Popup","setLngLat","setHTML","addTo","push","setState","lon","lat","type","place","console","log","info","offset","setText","marker","Marker","setPopup","layerId","removeLayer","removeSource","listCoords","numLayers","colors","flyTo","center","togglePopup","addLayer","id","source","data","properties","geometry","coordinates","layout","paint","accessToken","process","container","mapContainer","style","zoom","addControl","NavigationControl","ref","el","React","Component","Header","className","to","Footer","href","OptionSelect","handleAccess","handleParameters","handleTransport","e","preventDefault","optionBox","document","getElementsByClassName","children","display","target","setAttribute","Fragment","onClick","optionactive","title","SelectApi","handleOnChange","updateSelectedApi","value","onChange","defaultValue","disabled","PlannerPID","initialTimeDateSetup","handleFromInput","handleViaInput","handleToInput","handleSubmit","handleTimeAndDate","drawSuggestions","changeTransit","updateInputValues","swapInputFields","updateOptions","getOptions","from","suggestions","via","date","Date","initApiTime","getFullYear","getMonth","getDate","getHours","getMinutes","currentDate","currentTime","getElementById","timedate","options","api","setApi","start","startId","viaId","end","endId","timeInput","dateInput","time","substr","inputTimeDate","p","appendChild","createElement","li","createTextNode","childNodes","update","ready","viaSection","addViaEls","remViaEls","fromOld","directPath","checked","fastestRoute","lowWalkingRoute","numTransfers","timeToTransfer","transferDistance","traveler_type","walker","bike","car","means","metro","firstChild","tram","bus","train","fenicular","ferry","special","standard","baby","wheelchair","luggage","cyclist","action","onSubmit","placeholder","active","src","add_icon","alt","remove_icon","swap_icon","OptionsSelect","name","defaultChecked","Planner","selectedApi","createRef","getStart","getVia","getEnd","getTimeAndDate","setReady","getStartStopPointId","getViaStopPointId","getEndStopPointId","writeStart","writeVia","writeEnd","writeStartId","writeViaId","writeEndId","writeTimeAndDate","writeOptions","bool","planner","WizardSteps","handlePreviousStep","handleNextStep","handleSearch","returnTask","step","prevBtnDisabled","nextBtnDisabled","currentStep","PlannerWizardPID","vialFrom","vialTo","PlannerWizard","Result","results","updateResults","selectedResult","resultRef","setInputValues","createResultItem","renderResults","drawJourney","drawStartPoint","drawViaPoint","drawEndPoint","fetchData","showJourneyDetails","url","headers","Headers","set","btoa","fetch","method","then","response","json","query","places","embedded_type","current","stop_area","coord","viaOn","JSON","stringify","journeys","resdiv","resitem","lastElementChild","removeChild","result_id","getAttribute","sections","routeCoords","transferCoords","possibleResults","geojson","color","display_informations","REACT_APP_COLOR_WALKING","mode","resultItem","deparr","departure_date_time","arrival_date_time","duration","Math","round","bike_icon","car_icon","walker_icon","next","next_icon","waiting","waiting_icon","vehicle","commercial_mode","code","innerHTML","transfer","transfer_icon","journey","l","detailsBtn","addEventListener","details","guide","section","detailId","resultNumber","label","checkSearch","checkViaRoute","checkResults","ResultWizard","App","thru","exact","path","render","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","URL","origin","contentType","get","status","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f98bfce3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAABHNCSVQICAgIfAhkiAAAAN1JREFUKJGV0TFKQ0EQxvEf4gHeAQRzhHcE7SzjDSzs9QqewNjamDaCaBsU9AZqZat4AWNpo8XOwGNJNvGDBztv9z8z3wz0OMfIPzTHL74x3hSaBpTfLboWsIWfOM+wiGrP2GtBqQfF36vi71Hx2oTgPcCziE+jal+Dl4qX4+p/H0nS68mqSkO9BHgR8QSf2G1B8BUtziLewWR7DTRSVpCe5jhsVRoO4QP7OMjLehBdZM8BTFXLrtsb4yoeLXCEu2VtZKX7QfanOnutm8HjnNZaXQfwZsnmV6nbNHvqD6m+N2Pvvzt3AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAABBxJREFUWIXN2E1PIkkcBvBnGinBZKNtNy8NbXoO4sHDfIWZIyT4khiuawBDyB7WZDeTycRN4I6J7H4NT2rCjWzmC9hEbu6MiVGxgwqN8mbhpPawshnQgW5kxOcGVOf/SxXV9fIKg+c1gEWv1/u20Wj4KKUipVQAAELIFSHk0m63H56dnX0CsAvgeJAirwZ45rfJyclfCSFCKBSy+v3+cZ7n4Xa74Xa7AQCapkHTNOi6jkwmc7u9vd26u7u70nU9DSA9CLRvBEH4yHHcXTqdruXzeWY2BwcHbGtrq2axWFqCIHwYpu2N0+k8isfjFUqpaVh3ms0mi8ViFafT+RnA/JNkkiTFFEUpXVxcPBnWnWKxyGRZLns8nshAuNnZ2cTy8nJp6LKuBIPBks/n2zCNi0ajzR+NayccDt+Kovi7IZwkSbHn6LnuBIPBkpHhfqMoSl+cqqqMEMJUVTUMcLvdfdvIslxGr4njdDqP+k0IVVWZoigMAFMUxTASQN82mqYxl8v15VGcIAgf4/F4xQhOVVUGoOPzMICMMRaNRiuiKL5/ALRYLF97vee6Me2CRpFGgfV6nVmt1lYHjuf5jXQ6Xev1YCKR6EB8W1BVVZZIJIYCZIyxVCpVA7D+P3BqaurY7PJlpqDZ9qqqMp7nj9q+1w6H48ZUtR8MZIwxQRBqAGQOwGIoFLL2e/88d5aWlr4CWOS8Xu9bv98/PmpQd4LB4E8zMzPvuEaj4eN5ftSeBxEEAbVabY6jlIrtjeZLiiRJoJQ6OEqp8IKBIjdqSL9whJArTdNG7XiQ8/NzEEIuOULI5UsEFgoF2Gy2C25iYuJQ1/VRex6kVCrBbrcfcqenp58ymQwdNag7e3t7NycnJ38DgOJwOKqm1qEBli6z7aenp2sAvByA41ardZnP50fZYR1RVRWMMQ3AGQcAuq6ns9lsY5hFkskkcrnco7/lcjkkk8nvPpvNZhvlcvnPji/Hxsbumk3jBzn0GbJBN7jVapURQh7OCUEQPsRisethAbsxMHhEiEQi1wB+ebRrXS7X52KxODTgt0gYOGQVCgXmdrv/6fXXmZdluWyksCzLhoBt5Pj4eN9ziyRJFQBzvYDweDyRhYUFQ8hhJhAI6F6v9+eeuHZ8Pt9GOBy+fS7c6urqrcPhWO8v60T+8Rw9GQgEdNO4djweT0SW5bKmaUOHFQoFJklSxfCw9si8y+X6sra2dl2v158Mq1arLBKJXN/P1t4TwkxEUXxvtVpbm5ubdTOXRu3s7++zVCpVJ4RQw1dtGOwSfZ3n+XWO41wrKytjfr+fCIIASZIgSRKA/zabhUIB5XIZu7u7Nzs7OxbGmHa/fP1lptggwHZkAIszMzPvarXaHKXUQSkVAYAQcmmz2S7sdvvh/ZZpF8DZIEX+BXlY9mPXngHYAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAgFJREFUOI2llTtv2lAYhh8gGKXQbuYwRLIHhnbjMlfcIrFZCsr/gR8UyaqMuYm0ZKoqYvDULkS4G4aJyqqUUskdWipuBiV5FkuffB5/fs/n4xDBXAN5IUTZ87y3APF4/Nt8Pv8EWMDNoUWhA7XXsiwParXahaqqyUwmQyaTAcC2bWzbZjqdznVd/75YLIrAzyNNUYnFYo/9ft8/Rbfb9SVJWgGFg6Z0Oq2Vy+XlSdMOpVJpCRT3XjMWiz0GLbq/v/eHw2GgNBqNroBzgDCALMsD0zSloByazSbNZjMwJ8MwzoQQd2vhda1Wu6hUKseyPUq1WkXTNAW4CgN5VVWTz7b9Q1GUJJAPCyHK67F4CblcDiHEZSgejy8nk8mbVCoFgGVZe3kNBgMAisXtzdQ0jWw2C8BsNiOdTv84232S7/v4vr9X27zu1rcQQnxpt9tHZ63RaPj1ev3oPaZp+kKIz2HXdT/atv2UuA4yHo9xXfc2DFjT6XTxUqHjOAtgGAZudF13er3es2WtVgvDMB6AD+vaK0mSVkH5jEYj37KswPwikchvYO9LK5RKpScfDoVCYQm8D+q+GI1GV51O56TINM11Z1uyQwfsuRDiTtM0VVEUOZfL/R/e0WjEeDzGcZyFYRgPrusWgF+nhGuu+PsLuPQ87x1AIpH46rruLTDc3IBN/gCPT/yk/yllywAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAABHNCSVQICAgIfAhkiAAAAqtJREFUSIntlr9LG2EYx78Xgu/dBc/kIJqCOSUd7CB6hEALJYlbSxcdHLuUOphJobi4CNLBqX9AF8GlpSCSSoYOoqXXuLQEHEqW4hR60iRvfl0jJN7boabkx51eQju0+Blfjufzfp+H5+WAG/43uD6+9QBQAYRlWY5xHOellL43TfMzgE8Avv9JKXG73esA1hVFqUejUXc0GhVGRkZwfHzcPDo6+nFycuIhhLwzDOMpAL2PIJbECCG5WCxWPT09ZXZUq1W2urp6TgipAVgB4BrINj4+/lCSpNre3t6Fra2LbDbLpqenS2NjYy8HcUo8z+cPDw+d+n5TKBTY8PBwDcD9voyCILxZWloy+jZekkqlLnie/waAd5wyEAhU6/V6R6H5+XmWyWR6BJRSNjc3xyilHeeLi4sVWZafODISQh5tbGz0zDGTybCJiYkOMaWUqarKtre3ey6TTqdZOBx+60gaDAZf7OzsWLatXXyVkDHGdF1niqJ8dSQNBAJpTdMsC7XEwWCQTU1N2QpbiKJYh8X69ByYpnlLEATbS01OTkIUReTzeaiqemUAjuNcAKRrk0qS9NouQXtLrWbcTi6XYx6Pp3St8JKV5eXlnnWxmuFV4v39feb3+z86lcZnZ2eL3UXi8bjlDFvi7pXZ3Nw0eZ7fcip1+Xy+L5qmdaxNd9F2ut/lQqHARkdHKQDFqRQAbnu93pKu67YiO0zTZJFIpEoISfQj/BXX5Xo2MzNTOjs7cyxsNBoskUicC4KQ7lt4CQfguSiKtWQy2bhOmM1mWSgUKhFCNAD+QaUt7hJCcgsLC8Xd3V3WnrxSqbCDgwO2trZmDA0NlQE4aqnT3xU3gHuhUOixYRgPms2mX5KkJqX0wufzfSgWi6/K5XIKQG3QZE6QAdz5m4Ib/i1+AsudvqDWHe+XAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAApCAYAAADeWrJ9AAAABHNCSVQICAgIfAhkiAAAAoZJREFUSImtlk9sTUEUh7+iVNG+aLrQBGVjIaKiVJomSASJsBM2ojbdSd5SxUKIxKppLCysGjaIpq+x8G+BTYM0KQvdKGktaFoprYiiz7WYM5n77ps75s7rL7m5eXN+8915M3PODGRXDrgNfAE+A8+BjgBOmRqBX0CUeGaBY5WAVwALFrB+vgKHQuG9DrB+hkPhbz3gC6h/CMCS0C/5KAv8kYdnBLXgmbUMKJI+Jd+AAyFgrQbgjwU8BxypBLwJ6E9APwHPgD2h0FXAFWAesyM0/GAotAo4JaPTsEFgNPb7Xgh4JyohNGQMlX3NmHQvoua/IQv4GvBXID+A88ByiXVKewEz/92+4L2x0d4FmhLxPonlUfMdAROoKXSqCpPiV1M84xJvEf8EngvbJcZxoNoSb4nFtc5JW78LXAtMifFEiicv8b5YWzyp8mnwS2J44RhAQTydifYeSrfqmmTHO6gd0uaAa0DOEusCfkv8A7AtHqxB7e007ZOOrx2eHZgFngPqHN4SXZROvf/x1QMPgCFgqQ+4DnXSR8B139H46qSAddYeX0z4DYEOyHse2LVY8DGBtmLSfwpYVyl4g8C+o9K9GngpbSPAykrgZzBVUKsRk82DeBStNN0SyNlE+25M0lwOhU8KYKsldlpiRQKmZ4t0nnF43otnvy3ouhRdkLfrMvRY3q6aVKZ2TKFKVsG49NQUHJ4SbUcVngi4iXs36Kmb9gFvxtSRAfzukrPi3+gyNQEfxfgEdTf00UNSTjA9shzwFFiPOo2Oom5WPtKnl3VRa4FX8vU3wGpPqNZh6TtkC96X4CiwNiMYVL2PUBlbdmuYAd6hakaohoGfWP51s60xo+qFU6J/Fd7ZY+iuhegAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAApCAYAAABp50paAAAABHNCSVQICAgIfAhkiAAAA81JREFUaIHNmVuITlEUx3+GiTBj8CC5lsQLuSSaUhOPItc8qXnwMIxClFLyJFMe3ApJcgmFXEYJCQ8u82AaIURu5U6DcZtxOx722u39Hd855zvnO/s786/TOWfvtdb+77P3XnutfSBbzARuAi+At8CebOm4xRrgM+D5rg6gV4a8nGAp8JH/O6uvr9lRSx/dgCcEd9YDvgOrsiKYNkYAbYR32AMuuGi8zIXRzowsOvwMeB8h8wM4VwIuJUMd8Ing6dyWHTV3qEdtQf7OtgM9M+TlBLOAx5hOfgPeALuzJOUCo4GLmI7+kfs7SuhPxgHLgSqHbfQFtgK/MSO6TZ5/yX1OAruJuOsv/hKoSdBoGLoCS4BWzKgeB4agAgsPuCH3JF75NAm4HybXaWxO0HA+DALuWnYfANOs+nNSXotyVH+BoTHb2EcC7rtFuNFSbEFNl2JwwLK3GhVSanRHddJDTcf98rwhZhuJuGulxSL4zFJeHpOAxnjR/ynPfkyT+mZ5r5b3D8RzXom420qgvvgWS/EyMDwGCYAm0d0UUN8g9Q1W2UMpmxujnUTc/UoaszHR0Ed5LwRzRacVqAyQaRaZ6VbZMovomALbSsQ9SAnUFztlEWlGbTFBKMNMq/oAmSqUg2pHrWWNPpi0sR0VfkYhDvf7UhaqpLFXSHqER0P9UacY91BbUj4sFDvn89RVYLYaDzhG+OlHIdxPWtw3RilVkOv6rwMDQoyDWjODQ+r3YDx3EFZhgpRDIXJRI3yS3G0xdISrMdPzNbnrrRjoGHpshFw1KqBYGSITtob1EdInItZwOWrodZzbSHph5xyx2wFMSMFePi+9GTOqV4jw0iOB25ictDYFUjbOWGReAQOLtOffh59a9ldEKR1GnTR4wDVgWJFk/OgCfBH7ep9uIddTx0W+SOsWEZHWQUv4J7AWN6naZIzz6IcaYQ84WoRNfyy9pRClsyL8nPxhYFpYK+3skPfxmHh6XUKbegt7RYxsqQoVJPRI2Gih0GnofKtM78ke6hQkLsah1qrLXD4RumFG0x+pbZLy7xSfoXUa1GCclB9lwB2pP+GaSKnOkXTifylP3V/MPjq1NHTcogtmnc4IkdN/EoeUgpRL7ER15AfQO0TugsgtcEnG9ZRej0rzfqN+fof9Bm2S+xTHnJyhDnP2XMjhwQyRv+qSlCvMw+SgiwrUqcREe+WOeDlBDeZwfVlM3UeiNzFtUq4wCfVXIWm4qOP6oOOhToVBmKR7e0Ib9aJ/MC1SLjEdRXZXETZGo9b+kVQYlQBRxzaFYBQOE5l/GZ1woTNfSoAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAABHNCSVQICAgIfAhkiAAAAlFJREFUSInN1s1rVGcUx/HPc3VAQW2jIopiKGKrROPCFxQRF2IrRRcuAsmlreKISwU34kb0L9D8AQqCSdwquHAh+IaVFmlKIihaRVGx1NeFLmzGp4s7Aze3cyeJZuGBgTvnd+53zuH87nMHjuI14iR8ToT6xWTFoylow2pMmQRgb+PiR1z4DNBFfF9MvsbXnwCbi38aX/JjLsJC/DZB4D48lnU5Ktbj14k36HesKRPvY8kEYN/hTj5R3OwcrMCVcQIPYBBXG4lQKFgq2/a3PT09IyGEMiuN9Pf3V/AAW/CwISSFwnt4g7UhhD9bdDaIDXiehzUDwhn8JNves6IYQnheq9X21mvO/E9vApyDu5ibpukzLCgAn/b19S2qT9KOt2N1+FJmhW2yg+NWTvujVqsdwXZcK8LKOlQf5wf8nF9OjHFkYGCgggGcw9mS+5vGvyX5BB/KbiqzRVU2+vkmWpSZ/yu0csKouCGzRVlskjNzPqY2yS2XnTo3S8zdMPV82YNwLy82G/kQrnd3dy9LkqRdwTYxxqHOzs73Q0ND9+tTXBqrwyqWJEkyiMVFMYSwCsewDrdxOK8XfbgTl9M0bcPMJj/WiLaurq7puIkdrYBVnMTuGGOlBTBUKpVd9dpqXsiPPA9rZU9BfwhhRgvgLByUveBOYTZeMXop+3E7TdOP2FovbhV/d3R03BoeHn4nO2hvMHrkKk7GGI/jmzFg0J4kSa/C2A3gZjzBX+gYBwzEGFfKTqYX2JjXTuOX8YKaxJ56p8g8VfOl/7dZjmmTAOz9D5B5sfvj/7TdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAAABHNCSVQICAgIfAhkiAAAAvBJREFUaIHtmTFoFEEUhr9JFFKoaKEYECKIWIiwapki19keWtnIioVFLAIptLTQUrjSRi6llqKFnRswYKHsaqsQL2JhIbcnghLUsdhbvcvt253Z3bnkgh9Mkdu5///fzbu5ya6iHGeAk8CXku8vYj+wAbx1pP+XeeA7oMc0fvQ9nbExxmLS8c5VMYe3oZh0zJiGnLIo6JrF3Lq56EJ0ne1boSemIZXhvHnghXAtBL6aGhZwADib8fovkpbv1uTDA7I/ufW6DAb4KHhdr8tgBvgmmNysy2SAu4JXUJeBLxikbVA3pwW/38CROgxWBYOndYgLvBE8l6sKHxeENXCpqngOtwTP11WF7wjCXWBvVfEcjgm+GjhRVlQBnwTRVrW8RqwJ3rfLCl4QBDVwqmJYExYF7/dlBR8JgpX72JBDwE8hw3lbsYPApiC2WE9eI54JGe7ZCt0QhDZJih0XV4QcnzE/tgFJW2UJPawxrAn7kDulkfWGPVv+XiDZFs8JBq/6c8bJGtnhl0kKg+THH0iWzQPaSinPfTZ7tNa515VS6bwIuDoN3FdKZS7fJJAWpJQ6CswqpVT+R7ADyFultKCUqaIlnSS01sX3FBYWxr0HyDQao9+MkQXpt9zQ8H1fh2GoBwnDUPu+Lx2FnA2bLEopjVJKpwPQKysrOo92u60H3+NylMkyVFCz2cwVSGk2m86LKZtlqKAgCIxEgiBwXlDZLEMFxXFsJNLtdp0XVDbL0C4Xx7HRbtPr9YzmVaFslqGCoigyEjGdV4XSWQaXy/M8o2X2PM95y5XNwlYh3/fF/o3jWPu+77yYillGz3Jzc3MsLS3hef8O4FEU0Wq16HQ61XrJEtssmQVNMjbPhyaCXVeQAp5vea3on73angIYYpVn5M5J0XdKa211t6Uqtnl2Xcv9L2ins/sL0lqLR+m8a66wzZO1Qnnb8ri37CJPozwN6bBI8W+CC6zyTGcIfAAeA7Mkd/k7JA9xLwMvHQaXsMrzB3YecOdDp7k9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","import React from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nclass Map extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mapbox: undefined,\r\n      startMarker: undefined,\r\n      viaMarker: undefined,\r\n      endMarker: undefined,\r\n      transferPopups: [],\r\n      route: undefined,\r\n      routeLayers: undefined\r\n    };\r\n    this.addTransferPopup = this.addTransferPopup.bind(this);\r\n    this.clearTransferPopups = this.clearTransferPopups.bind(this);\r\n    this.clearPath = this.clearPath.bind(this);\r\n    this.addMarker = this.addMarker.bind(this);\r\n    this.addPath = this.addPath.bind(this);\r\n  }\r\n\r\n  addTransferPopup(coords) {\r\n    var map = this.state.mapbox;\r\n    var popups = [];\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n    if (coords !== undefined && coords[0][0] !== undefined && coords[0][1] !== undefined) {\r\n      for (let i = 0; i < coords.length; i++) {\r\n        var popup = new mapboxgl.Popup({\"className\":\"transferPopup\"}).setLngLat([coords[i][0], coords[i][1]]).setHTML(\"Přestup\").addTo(map);\r\n        popups.push(popup);\r\n      }\r\n    }\r\n    this.setState({transferPopups: popups})\r\n  }\r\n\r\n  clearTransferPopups() {\r\n    if (this.state.transferPopups.length !== 0) {\r\n      for (let i = 0; i < this.state.transferPopups.length; i++) {\r\n        this.state.transferPopups[i].remove();\r\n      }\r\n    }\r\n  }\r\n\r\n  addMarker(lon, lat, type, place) {\r\n    console.log(\"now\");\r\n    console.log(place)\r\n    switch (type) {\r\n      case 0:\r\n        if (this.state.startMarker !== undefined) {\r\n          this.state.startMarker.remove();\r\n        }\r\n        break;\r\n      case 1:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      case 2:\r\n        if (this.state.endMarker !== undefined) {\r\n          this.state.endMarker.remove();\r\n        }\r\n        break;\r\n      case 3:\r\n        if (this.state.viaMarker !== undefined) {\r\n          this.state.viaMarker.remove();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    var map = this.state.mapbox;\r\n    if (lon !== undefined && lat !== undefined) {\r\n      switch (type) {\r\n        case 0:\r\n          var info = new mapboxgl.Popup({offset:30}).setText(\"Začátek trasy: \"+place);\r\n          var marker = new mapboxgl.Marker({\"color\":\"#ff0000\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ startMarker: marker });\r\n          break;\r\n        case 1:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Průjezd přes: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#fff400\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ viaMarker: marker });\r\n          break;\r\n        case 2:\r\n          info = new mapboxgl.Popup({offset:30}).setText(\"Cíl trasy: \"+place);\r\n          marker = new mapboxgl.Marker({\"color\":\"#00abff\"}).setLngLat([lon, lat]).setPopup(info).addTo(map);\r\n          this.setState({ endMarker: marker });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  clearPath() {\r\n    var map = this.state.mapbox;\r\n    if (this.state.routeLayers !== undefined) {\r\n      for (let i = 0; i < this.state.routeLayers; i++) {\r\n        var layerId = \"path_layer_\"+i;\r\n        map.removeLayer(layerId);\r\n        map.removeSource(layerId);\r\n      }\r\n      this.setState({mapbox: map, routeLayers: 0});\r\n    }\r\n  }\r\n\r\n  addPath(listCoords, numLayers, colors) {\r\n    var map = this.state.mapbox;\r\n    map.flyTo({center: [listCoords[0][0][0], listCoords[0][0][1]]});\r\n    this.state.startMarker.togglePopup();\r\n    this.state.endMarker.togglePopup();\r\n    for (let i = 0; i < numLayers; i++) {\r\n      var layerId = \"path_layer_\"+i;\r\n      map.addLayer({\r\n        id: layerId,\r\n        type: \"line\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"Feature\",\r\n            properties: {},\r\n            geometry: {\r\n              type: \"LineString\",\r\n              coordinates: listCoords[i]\r\n            }\r\n          }\r\n        },\r\n        layout: {\r\n          \"line-join\": \"round\",\r\n          \"line-cap\": \"round\"\r\n        },\r\n        paint: {\r\n          \"line-color\": colors[i] !== undefined ? colors[i] : \"#888\",\r\n          \"line-width\": 6\r\n          \r\n        }\r\n      });\r\n      \r\n    }\r\n    this.setState({ mapbox: map });\r\n    this.setState({ routeLayers: numLayers });\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN;\r\n    var map = new mapboxgl.Map({\r\n      container: this.mapContainer,\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: [14.42076, 50.08804],\r\n      zoom: 12\r\n    });\r\n    map.addControl(new mapboxgl.NavigationControl());\r\n    this.setState({ mapbox: map });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.mapbox !== undefined) {\r\n      this.state.mapbox.remove();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    /*\r\n      const style = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: '50%',\r\n        bottom: 0,\r\n        width: '50%'    \r\n      };\r\n      */\r\n    return <div id=\"map\" ref={el => (this.mapContainer = el)} />;\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"header\">\r\n        <label className=\"headerLabel\">Prototyp webového klienta vyhledávače intermodálních dopravích spojení:</label>\r\n        <label className=\"headerLabel\"><Link to=\"/form\">Formulářový typ</Link>/<Link to=\"/wizard\">Klient typu Wizard</Link></label>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nclass Footer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n    //refs\r\n    //bindings\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <footer>Vytvořil <a href=\"mailto:hlavaj28@fel.cvut.cz\">Jan Hlaváč</a> pro <a href=\"https://www.fel.cvut.cz/\">FEL ČVUT</a> v rámci závěrečné práce v ZS ak. roku 2019/2020.</footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nclass OptionSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleAccess = this.handleAccess.bind(this);\r\n    this.handleParameters = this.handleParameters.bind(this);\r\n    this.handleTransport = this.handleTransport.bind(this);\r\n  }\r\n\r\n  handleParameters(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    if (optionBox[0].children[0].style.display === \"none\") {\r\n      optionBox[0].children[0].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[0].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[0].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleTransport(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[1].style.display === \"none\") {\r\n      optionBox[0].children[1].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[1].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[1].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    optionBox[0].children[2].style.display = \"none\";\r\n    optionBox[0].children[2].setAttribute(\"optionactive\", \"false\");\r\n  }\r\n\r\n  handleAccess(e) {\r\n    e.preventDefault();\r\n    var optionBox = document.getElementsByClassName(\"options-box\");\r\n    optionBox[0].children[0].style.display = \"none\";\r\n    optionBox[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n    optionBox[0].children[1].style.display = \"none\";\r\n    optionBox[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    if (optionBox[0].children[2].style.display === \"none\") {\r\n      optionBox[0].children[2].style.display = \"block\";\r\n      e.target.setAttribute(\"optionactive\", \"true\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"true\");\r\n      document.getElementsByClassName(\"options\")[0].children[0].setAttribute(\"optionactive\", \"false\");\r\n      document.getElementsByClassName(\"options\")[0].children[1].setAttribute(\"optionactive\", \"false\");\r\n    } else {\r\n      optionBox[0].children[2].style.display = \"none\";\r\n      e.target.setAttribute(\"optionactive\", \"false\");\r\n      optionBox[0].children[2].setAttribute(\"optionactive\",\"false\");\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <button onClick={this.handleParameters} optionactive=\"false\" title=\"Volba parametrů spoje\">Parametry spojení</button>\r\n        <button onClick={this.handleTransport} optionactive=\"false\" title=\"Výběr dopravních prostředků\">Dopravní prostředky</button>\r\n        <button onClick={this.handleAccess} optionactive=\"false\" title=\"Charakteristika cestujícího\">Přístupnost</button>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OptionSelect;","import React from \"react\";\r\n\r\nclass SelectApi extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleOnChange = this.handleOnChange.bind(this)\r\n  }\r\n\r\n  handleOnChange(e) {\r\n    this.props.updateSelectedApi(e.target.value)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment><label className=\"textLabel\">Oblast:</label>\r\n      <select id=\"api_select\" onChange={this.handleOnChange} defaultValue=\"pid\">\r\n        <option value=\"dpmul\" disabled={true}>DÚK</option>\r\n        <option value=\"pid\">PID</option>\r\n        <option value=\"ids-liberec\" disabled={true}>IDS Liberec</option>\r\n      </select>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SelectApi;","import React from \"react\";\r\nimport OptionsSelect from \"../app/OptionsSelect\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\n\r\nclass PlannerPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false\r\n    };\r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 0; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n  handleSubmit(e) {\r\n    if (document.getElementById(\"input_from\").value.length < 1 || document.getElementById(\"input_to\").value.length < 1) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/form_result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n        onClick={this.getOptions}\r\n      >\r\n        <div className=\"plannerBox\">\r\n          <div className=\"box\" id=\"searchBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Odkud:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_from\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte počáteční bod\"\r\n                onChange={this.handleFromInput}\r\n              ></input>\r\n            </div>\r\n            <p id=\"suggestions\"></p>\r\n            <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n              <label className=\"addVia\" onClick={this.changeTransit}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={add_icon}\r\n                  alt=\"+\"\r\n                  title=\"Přidat průjezdní bod\"\r\n                ></img>\r\n                <label id=\"addViaText\">Přidat průjezd</label>\r\n              </label>\r\n              <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={remove_icon}\r\n                  alt=\"×\"\r\n                  onClick={this.changeTransit}\r\n                  title=\"Odebrat průjezdní bod\"\r\n                ></img>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_via\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte průjezdový bod\"\r\n                  onChange={this.handleViaInput}\r\n                ></input>\r\n              </label>\r\n              <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                <img\r\n                  className=\"clickable\"\r\n                  src={swap_icon}\r\n                  alt=\"[SWAP]\"\r\n                  title=\"Prohodit Start a Cíl\"\r\n                ></img>\r\n              </label>\r\n            </div>\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Kam:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_to\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte cílový bod\"\r\n                onChange={this.handleToInput}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"box\" id=\"timeBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Datum a čas:</label>\r\n              <input\r\n                id=\"input_date\"\r\n                type=\"date\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n              <input\r\n                id=\"input_time\"\r\n                type=\"time\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"directPathBox\">\r\n            <label className=\"inputFieldDiv\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"directPath\"\r\n                onChange={this.getOptions}\r\n              ></input>\r\n              Pouze přímý spoj\r\n            </label>\r\n          </div>\r\n          <div className=\"options\">\r\n            <OptionsSelect></OptionsSelect>\r\n            <div className=\"options-box\">\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-parameters\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Trasa</label>\r\n                <br />\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"fastestRoute\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Nejrychlejší\r\n                  <br />\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"lowWalkingRoute\"\r\n                  ></input>\r\n                  Nejméně pěší chůze\r\n                  <br />\r\n                </label>\r\n                <label className=\"optionTitle\">Přestupy</label>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální počet přestupů:\r\n                </label>\r\n                <select defaultValue=\"-1\" id=\"numTransfers\">\r\n                  <option value=\"-1\">Neomezeno</option>\r\n                  <option value=\"0\">0</option>\r\n                  <option value=\"1\">1</option>\r\n                  <option value=\"2\">2</option>\r\n                  <option value=\"3\">3</option>\r\n                  <option value=\"4\">4</option>\r\n                  <option value=\"5\">5</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">Čas na přestup:</label>\r\n                <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n                  <option value=\"5\">Alespoň 5 minut</option>\r\n                  <option value=\"10\">Alespoň 10 minut</option>\r\n                  <option value=\"15\">Alespoň 15 minut</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální vzdálenost mezi přestupy:\r\n                </label>\r\n                <select defaultValue=\"100m\" id=\"transferDistance\">\r\n                  <option value=\"100\">100 m</option>\r\n                  <option value=\"200\">200 m</option>\r\n                  <option value=\"300\">300 m</option>\r\n                </select>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-transport\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Na trase chci využít</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"walker\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Pouze peší chůze\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  Kolo nebo koloběžku\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"motorist\"\r\n                  ></input>\r\n                  Osobní automobil\r\n                </label>\r\n                <label className=\"optionTitle\">\r\n                  Výběr dopravních prostředků\r\n                </label>\r\n                <div className=\"optionMeans\">\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n                    Metro\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n                    Tramvaj\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n                    Autobus\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n                    Příměstský vlak\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"Funicular\"\r\n                      defaultChecked\r\n                    ></input>\r\n                    Lanovka\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n                    Přívoz\r\n                  </label>\r\n                </div>\r\n                <label className=\"optionTitle\" title=\"Momentálně nedostupné\">\r\n                  Doplňkové služby\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"taxi\"\r\n                    disabled\r\n                  ></input>\r\n                  Taxi\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"uber\"\r\n                    disabled\r\n                  ></input>\r\n                  UBER\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-access\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Jsem cestující</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"standard\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Bez dalších potřeb\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"slow_walker\"\r\n                  ></input>\r\n                  S kočárkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"wheelchair\"\r\n                  ></input>\r\n                  S vozíčkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"luggage\"\r\n                  ></input>\r\n                  S těžkými zavazadly\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  S kolem do MHD\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\n\r\nclass Planner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/form_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"results\">\r\n                <PlannerPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerPID setApi={this.updateSelectedApi}></PlannerPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Planner;\r\n","import React from \"react\";\r\n\r\nclass WizardSteps extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handlePreviousStep = this.handlePreviousStep.bind(this);\r\n    this.handleNextStep = this.handleNextStep.bind(this);\r\n    this.handleTransport = this.handleSearch.bind(this);\r\n    this.returnTask = this.returnTask.bind(this);\r\n    this.state = { step: 0, prevBtnDisabled: false, nextBtnDisabled: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.step === 0) {\r\n      this.setState({ prevBtnDisabled: true });\r\n    }\r\n  }\r\n\r\n  handlePreviousStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 0) {\r\n      this.setState({ nextBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep - 1].style.display = \"block\";\r\n      this.setState({ step: currentStep - 1 });\r\n      if (currentStep - 1 === 0) {\r\n        this.setState({ prevBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go back\");\r\n    }\r\n  }\r\n\r\n  handleNextStep(e) {\r\n    e.preventDefault();\r\n    let currentStep = this.state.step;\r\n    console.log(currentStep);\r\n    if (currentStep !== 4) {\r\n      this.setState({ prevBtnDisabled: false });\r\n      var optionBox = document.getElementsByClassName(\"options-box\");\r\n      optionBox[0].children[currentStep].style.display = \"none\";\r\n      optionBox[0].children[currentStep + 1].style.display = \"block\";\r\n      this.setState({ step: currentStep + 1 });\r\n      if (currentStep + 1 === 4) {\r\n        this.setState({ nextBtnDisabled: true });\r\n      }\r\n    } else {\r\n      console.log(\"Can't go forth\");\r\n    }\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  returnTask() {\r\n    switch (this.state.step) {\r\n      case 0:\r\n        return \"Zvolte základní hodnoty pro vyhledání Vašeho spoje\";\r\n      case 1:\r\n        return \"Vyberte si parametry Vaší trasy\";\r\n      case 2:\r\n        return \"Vyberte Vámi preferovaný způsob dopravy\";\r\n      case 3:\r\n        return \"V případě dalších požadavků na spoj zvolte níže\";\r\n      case 4:\r\n        return \"Po kontrole Vašeho zadání vyhledejte odpovídající spoj\";\r\n      default:\r\n        return \"Chyba v programu\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"wizardSteps\">\r\n        <div className=\"wizardTasks\">\r\n          <label><b>Krok {this.state.step + 1} z 5</b></label>\r\n          <label>{this.returnTask()}</label>\r\n        </div>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <button\r\n                  onClick={this.handlePreviousStep}\r\n                  id=\"prev\"\r\n                  disabled={this.state.prevBtnDisabled}\r\n                >\r\n                  Předchozí krok\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  onClick={this.handleNextStep}\r\n                  id=\"next\"\r\n                  disabled={this.state.nextBtnDisabled}\r\n                >\r\n                  Další krok\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WizardSteps;\r\n","import React from \"react\";\r\nimport WizardSteps from \"../app/WizardSteps\";\r\nimport SelectApi from \"./SelectApi\";\r\nimport swap_icon from \"../../assets/Swap.png\";\r\nimport add_icon from \"../../assets/Add.png\";\r\nimport remove_icon from \"../../assets/Remove.png\";\r\n\r\nclass PlannerWizardPID extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //STATE\r\n    this.state = {\r\n      from: \"\",\r\n      to: \"\",\r\n      suggestions: undefined,\r\n      via: false,\r\n      date: \"\",\r\n      time: \"\",\r\n      directPath: false,\r\n      fastestRoute: false,\r\n      numTransfers: \"\",\r\n      traveler_type: \"pouze peší chůze\",\r\n      special: \"bez dalších potřeb\"\r\n    };\r\n    //BINDINGS\r\n    this.initialTimeDateSetup = this.initialTimeDateSetup.bind(this);\r\n    this.handleFromInput = this.handleFromInput.bind(this);\r\n    this.handleViaInput = this.handleViaInput.bind(this);\r\n    this.handleToInput = this.handleToInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleTimeAndDate = this.handleTimeAndDate.bind(this);\r\n    this.drawSuggestions = this.drawSuggestions.bind(this);\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.changeTransit = this.changeTransit.bind(this);\r\n    this.updateInputValues = this.updateInputValues.bind(this);\r\n    this.swapInputFields = this.swapInputFields.bind(this);\r\n    this.updateOptions = this.updateOptions.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n  \r\n  }\r\n\r\n  initialTimeDateSetup() {\r\n    var date = new Date();\r\n    var initApiTime =\r\n      date.getFullYear() +\r\n      \"\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) +\r\n      \"T\" +\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \"\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n      \"00\";\r\n    var currentDate =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 < 10\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate());\r\n    var currentTime =\r\n      (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\r\n    document.getElementById(\"input_date\").value = currentDate;\r\n    document.getElementById(\"input_time\").value = currentTime;\r\n    this.setState({date: currentDate, time: currentTime});\r\n    this.props.timedate(initApiTime);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialTimeDateSetup();\r\n    let options = document.getElementsByClassName(\"options-box\");\r\n    for (let i = 1; i < options[0].children.length; i++) {\r\n      options[0].children[i].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  updateSelectedApi(api) {\r\n    this.props.setApi(api);\r\n  }\r\n\r\n  handleFromInput(e) {\r\n    this.setState({ from: e.target.value });\r\n    this.props.start(e.target.value);\r\n    this.props.startId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleViaInput(e) {\r\n    this.props.via(e.target.value);\r\n    this.props.viaId(e.target.value);\r\n  }\r\n\r\n  handleToInput(e) {\r\n    this.setState({ to: e.target.value });\r\n    this.props.end(e.target.value);\r\n    this.props.endId(e.target.value);\r\n    if (e.target.value.length < 1) {\r\n      e.target.setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.target.setAttribute(\"warning\", \"false\");\r\n    }\r\n  }\r\n\r\n  handleTimeAndDate(e) {\r\n    //e.preventDefault();\r\n    let timeInput = document.getElementById(\"input_time\");\r\n    let dateInput = document.getElementById(\"input_date\");\r\n    this.setState({date: timeInput.value, time: timeInput.value});\r\n    var time = timeInput.value.substr(0, 2) + timeInput.value.substr(3, 2);\r\n    var date =\r\n      dateInput.value.substr(0, 4) +\r\n      dateInput.value.substr(5, 2) +\r\n      dateInput.value.substr(8, 2);\r\n    let inputTimeDate = date + \"T\" + time;\r\n    this.props.timedate(inputTimeDate);\r\n  }\r\n\r\n  drawSuggestions() {\r\n    var p = document.getElementById(\"suggestions\");\r\n    p.appendChild(document.createElement(\"ul\"));\r\n    for (let i = 0; i < this.state.suggestions.length; i++) {\r\n      let li = document.createElement(\"li\");\r\n      li.appendChild(document.createTextNode(this.state.suggestions[i]));\r\n      p.childNodes[0].appendChild(li);\r\n    }\r\n  }\r\n\r\n  updateInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var to = document.getElementById(\"input_to\");\r\n    this.props.start(from.value);\r\n    this.props.end(to.value);\r\n  }\r\n\r\n  updateOptions() {\r\n    this.getOptions();\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    this.setState({vialFrom: this.state.from, vialTo: this.state.to});\r\n    if (document.getElementById(\"input_from\").value.length < 1 || document.getElementById(\"input_to\").value.length < 1) {\r\n      e.preventDefault();\r\n      document.getElementById(\"input_from\").setAttribute(\"warning\", \"true\");\r\n      document.getElementById(\"input_to\").setAttribute(\"warning\", \"true\");\r\n    } else {\r\n      e.preventDefault();\r\n      if (this.props.update !== undefined) {\r\n        this.updateInputValues();\r\n        this.props.update();\r\n      } else {\r\n        this.props.ready(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTransit(e) {\r\n    this.getOptions();\r\n    var viaSection = document.getElementById(\"via\");\r\n    if (this.state.via === false) {\r\n      viaSection.setAttribute(\"active\", \"true\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"none\";\r\n      remViaEls[0].style.display = \"inline-block\";\r\n      this.setState({ via: true });\r\n    } else {\r\n      document.getElementById(\"input_via\").value = \"\";\r\n      this.props.via(document.getElementById(\"input_via\").value);\r\n      viaSection.setAttribute(\"active\", \"false\");\r\n      let addViaEls = document.getElementsByClassName(\"addVia\");\r\n      let remViaEls = document.getElementsByClassName(\"removeVia\");\r\n      addViaEls[0].style.display = \"inline-block\";\r\n      remViaEls[0].style.display = \"none\";\r\n      this.setState({ via: false });\r\n    }\r\n  }\r\n\r\n  swapInputFields() {\r\n    this.getOptions();\r\n    var fromOld = document.getElementById(\"input_from\").value;\r\n    var to = document.getElementById(\"input_to\");\r\n    var from = document.getElementById(\"input_from\");\r\n    from.value = to.value;\r\n    to.value = fromOld;\r\n    this.props.start(from.value);\r\n    this.props.startId(from.value);\r\n    this.props.end(to.value);\r\n    this.props.endId(to.value);\r\n    this.setState({ from: from.value });\r\n    this.setState({ to: to.value });\r\n  }\r\n\r\n  getOptions() {\r\n    var options = {\r\n      directPath: document.getElementById(\"directPath\").checked,\r\n      fastestRoute: document.getElementsByClassName(\"route\")[0].checked,\r\n      lowWalkingRoute: document.getElementsByClassName(\"route\")[1].checked,\r\n      numTransfers: document.getElementById(\"numTransfers\").value,\r\n      timeToTransfer: document.getElementById(\"timeToTransfer\").value,\r\n      transferDistance: document.getElementById(\"transferDistance\").value,\r\n      traveler_type: {\r\n        walker: document.getElementsByClassName(\"traveler_type\")[0].checked,\r\n        bike: document.getElementsByClassName(\"traveler_type\")[1].checked,\r\n        car: document.getElementsByClassName(\"traveler_type\")[2].checked\r\n      },\r\n      means: {\r\n        metro: document.getElementsByClassName(\"means\")[0].firstChild.checked,\r\n        tram: document.getElementsByClassName(\"means\")[1].firstChild.checked,\r\n        bus: document.getElementsByClassName(\"means\")[2].firstChild.checked,\r\n        train: document.getElementsByClassName(\"means\")[3].firstChild.checked,\r\n        fenicular: document.getElementsByClassName(\"means\")[4].firstChild\r\n          .checked,\r\n        ferry: document.getElementsByClassName(\"means\")[5].firstChild.checked\r\n      },\r\n      special: {\r\n        standard: document.getElementsByClassName(\"traveler_type\")[3].checked,\r\n        baby: document.getElementsByClassName(\"traveler_type\")[4].checked,\r\n        wheelchair: document.getElementsByClassName(\"traveler_type\")[5].checked,\r\n        luggage: document.getElementsByClassName(\"traveler_type\")[6].checked,\r\n        cyclist: document.getElementsByClassName(\"traveler_type\")[7].checked\r\n      }\r\n    };\r\n    if (options.directPath) {this.setState({directPath: true})};\r\n    if (options.fastestRoute) {this.setState({fastestRoute: true})};\r\n    if (options.numTransfers > 0) {this.setState({numTransfers: options.numTransfers})} else {this.setState({numTransfers: \"neomezeným počtem\"})};\r\n    if (options.traveler_type.walker) {this.setState({traveler_type: \"pouze peší chůze\"})};\r\n    if (options.traveler_type.bike) {this.setState({traveler_type: \"kola nebo koloběžky\"})};\r\n    if (options.traveler_type.car) {this.setState({traveler_type: \"osobního automobilu\"})};\r\n    if (options.special.standard) {this.setState({special: \"bez dalších potřeb\"})};\r\n    if (options.special.baby) {this.setState({special: \"s kočárkem\"})};\r\n    if (options.special.wheelchair) {this.setState({special: \"s vozíčkem\"})};\r\n    if (options.special.luggage) {this.setState({special: \"s těžkými zavazadly\"})};\r\n    if (options.special.cyclist) {this.setState({special: \"s kolem do MHD\"})};\r\n\r\n\r\n    console.log(\"Writing:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    this.props.getOptions(options);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"input\"\r\n        id=\"inputForm\"\r\n        action=\"/result\"\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.getOptions}\r\n      >\r\n        <div className=\"options\">\r\n          <WizardSteps step={this.state.step}></WizardSteps>\r\n          <div className=\"options-box\">\r\n            <div id=\"options-box-main\" display=\"block\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Odkud:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_from\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte počáteční bod\"\r\n                onChange={this.handleFromInput}\r\n              ></input>\r\n            </div>\r\n            <p id=\"suggestions\"></p>\r\n            <div className=\"inputFieldDiv\" id=\"via\" active=\"false\">\r\n              <label className=\"addVia\" onClick={this.changeTransit}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={add_icon}\r\n                  alt=\"+\"\r\n                  title=\"Přidat průjezdní bod\"\r\n                ></img>\r\n                <label id=\"addViaText\">Přidat průjezd</label>\r\n              </label>\r\n              <label className=\"removeVia\" style={{ display: \"none\" }}>\r\n                <img\r\n                  className=\"viaBtn\"\r\n                  src={remove_icon}\r\n                  alt=\"×\"\r\n                  onClick={this.changeTransit}\r\n                  title=\"Odebrat průjezdní bod\"\r\n                ></img>\r\n                <input\r\n                  className=\"locations\"\r\n                  id=\"input_via\"\r\n                  type=\"form\"\r\n                  placeholder=\"Zadejte průjezdový bod\"\r\n                  onChange={this.handleViaInput}\r\n                ></input>\r\n              </label>\r\n              <label id=\"swapper\" onClick={this.swapInputFields}>\r\n                <img\r\n                  className=\"clickable\"\r\n                  src={swap_icon}\r\n                  alt=\"[SWAP]\"\r\n                  title=\"Prohodit Start a Cíl\"\r\n                ></img>\r\n              </label>\r\n            </div>\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Kam:</label>\r\n              <input\r\n                className=\"locations\"\r\n                id=\"input_to\"\r\n                type=\"form\"\r\n                placeholder=\"Zadejte cílový bod\"\r\n                onChange={this.handleToInput}\r\n              ></input>\r\n            </div>\r\n            <div className=\"box\" id=\"timeBox\">\r\n            <div className=\"inputFieldDiv\">\r\n              <label className=\"textLabel\">Datum a čas:</label>\r\n              <input\r\n                id=\"input_date\"\r\n                type=\"date\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n              <input\r\n                id=\"input_time\"\r\n                type=\"time\"\r\n                onChange={this.handleTimeAndDate}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"directPathBox\">\r\n            <label className=\"inputFieldDiv\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"directPath\"\r\n                onChange={this.getOptions}\r\n              ></input>\r\n              Pouze přímý spoj\r\n            </label>\r\n          </div>\r\n          </div>\r\n            <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-parameters\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Trasa</label>\r\n                <br />\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"fastestRoute\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Nejrychlejší\r\n                  <br />\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"route\"\r\n                    className=\"route\"\r\n                    id=\"lowWalkingRoute\"\r\n                  ></input>\r\n                  Nejméně pěší chůze\r\n                  <br />\r\n                </label>\r\n                <label className=\"optionTitle\">Přestupy</label>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální počet přestupů:\r\n                </label>\r\n                <select defaultValue=\"-1\" id=\"numTransfers\">\r\n                  <option value=\"-1\">Neomezeno</option>\r\n                  <option value=\"0\">0</option>\r\n                  <option value=\"1\">1</option>\r\n                  <option value=\"2\">2</option>\r\n                  <option value=\"3\">3</option>\r\n                  <option value=\"4\">4</option>\r\n                  <option value=\"5\">5</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">Čas na přestup:</label>\r\n                <select defaultValue=\"10\" id=\"timeToTransfer\">\r\n                  <option value=\"5\">Alespoň 5 minut</option>\r\n                  <option value=\"10\">Alespoň 10 minut</option>\r\n                  <option value=\"15\">Alespoň 15 minut</option>\r\n                </select>\r\n                <br />\r\n                <label className=\"transfersLabel\">\r\n                  Maximální vzdálenost mezi přestupy:\r\n                </label>\r\n                <select defaultValue=\"100m\" id=\"transferDistance\">\r\n                  <option value=\"100\">100 m</option>\r\n                  <option value=\"200\">200 m</option>\r\n                  <option value=\"300\">300 m</option>\r\n                </select>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-transport\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Na trase chci využít</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"walker\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Pouze peší chůze\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  Kolo nebo koloběžku\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ownTransport\"\r\n                    className=\"traveler_type\"\r\n                    id=\"motorist\"\r\n                  ></input>\r\n                  Osobní automobil\r\n                </label>\r\n                <label className=\"optionTitle\">\r\n                  Výběr dopravních prostředků\r\n                </label>\r\n                <div className=\"optionMeans\">\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Metro\" defaultChecked></input>\r\n                    Metro\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Tramway\" defaultChecked></input>\r\n                    Tramvaj\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Bus\" defaultChecked></input>\r\n                    Autobus\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Train\" defaultChecked></input>\r\n                    Příměstský vlak\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"Funicular\"\r\n                      defaultChecked\r\n                    ></input>\r\n                    Lanovka\r\n                  </label>\r\n                  <label className=\"means\">\r\n                    <input type=\"checkbox\" id=\"Ferry\" defaultChecked></input>\r\n                    Přívoz\r\n                  </label>\r\n                </div>\r\n                <label className=\"optionTitle\" title=\"Momentálně nedostupné\">\r\n                  Doplňkové služby\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"taxi\"\r\n                    disabled\r\n                  ></input>\r\n                  Taxi\r\n                </label>\r\n                <label title=\"Momentálně nedostupné\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"journeyFeature\"\r\n                    id=\"uber\"\r\n                    disabled\r\n                  ></input>\r\n                  UBER\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-access\"\r\n                display=\"none\"\r\n              >\r\n                <label className=\"optionTitle\">Jsem cestující</label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"standard\"\r\n                    defaultChecked\r\n                  ></input>\r\n                  Bez dalších potřeb\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"slow_walker\"\r\n                  ></input>\r\n                  S kočárkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"wheelchair\"\r\n                  ></input>\r\n                  S vozíčkem\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"luggage\"\r\n                  ></input>\r\n                  S těžkými zavazadly\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"transportRequest\"\r\n                    className=\"traveler_type\"\r\n                    id=\"cyclist\"\r\n                  ></input>\r\n                  S kolem do MHD\r\n                </label>\r\n              </div>\r\n              <div\r\n                className=\"optionsSettings\"\r\n                id=\"options-box-summary\"\r\n                display=\"none\">\r\n                  <label className=\"optionTitle\">\r\n                    Souhrn před zobrazením výsledků:\r\n                  </label>\r\n                  <label className=\"summaryText\">\r\n                    <label><b>Spoj z: </b>{this.state.vialFrom}<b> do: </b>{this.state.vialTo}</label>\r\n                    <label><b>Datum: </b>{this.state.date}<b> v </b>{this.state.time}</label>\r\n                    <label><b>Trasa s max </b>{this.state.numTransfers > 0 ? this.state.numTransfers : \"neomezenými\"}<b> přestupy</b></label>\r\n                    <label><b>S využitím: </b>{this.state.traveler_type}</label>\r\n                    <label><b>Pro cestující: </b>{this.state.special}</label>\r\n                  </label>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"submitBox\">\r\n          <SelectApi updateSelectedApi={this.updateSelectedApi}></SelectApi>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Vyhledat spojení\"\r\n            title=\"Vyhledat spoj dle zadaných hodnot\"\r\n          ></input>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default PlannerWizardPID;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\n\r\nclass PlannerWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ready: false,\r\n      selectedApi: \"pid\",\r\n      suggestions: \"\",\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    //bindings\r\n    this.updateSelectedApi = this.updateSelectedApi.bind(this);\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n  }\r\n\r\n  updateSelectedApi(selectedApi) {\r\n    this.setState({ selectedApi: selectedApi });\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return <Redirect to=\"/wizard_result\"></Redirect>;\r\n    } else {\r\n      switch (this.state.selectedApi) {\r\n        case \"pid\":\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID\r\n                  start={this.getStart}\r\n                  via={this.getVia}\r\n                  end={this.getEnd}\r\n                  startId={this.getStartStopPointId}\r\n                  viaId={this.getViaStopPointId}\r\n                  endId={this.getEndStopPointId}\r\n                  timedate={this.getTimeAndDate}\r\n                  ready={this.setReady}\r\n                  planner={this.props.planner}\r\n                  setApi={this.updateSelectedApi}\r\n                  getOptions={this.getOptions}\r\n                ></PlannerWizardPID></section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n        default:\r\n          return (\r\n            <React.Fragment>\r\n              <Header></Header>\r\n              <main className=\"journey-planner\">\r\n                <section className=\"planner\">\r\n                <PlannerWizardPID setApi={this.updateSelectedApi}></PlannerWizardPID>\r\n                </section>\r\n                <Map ref={this.map}></Map>\r\n              </main>\r\n              <Footer></Footer>\r\n            </React.Fragment>\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlannerWizard;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerPID from \"../api/PlannerPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass Result extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].id });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].id });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length >= 1) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    for (\r\n      let i = 0;\r\n      i < document.getElementsByClassName(\"optionsSettings\").length;\r\n      i++\r\n    ) {\r\n      document.getElementsByClassName(\"optionsSettings\")[i].style.display =\r\n        \"none\";\r\n    }\r\n    if (this.state.results !== undefined) {\r\n      for (\r\n        let resultNumber = 0;\r\n        resultNumber < this.state.results.length;\r\n        resultNumber++\r\n      ) {\r\n        let label = document.createElement(\"label\");\r\n        label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n        let resultItem = this.createResultItem(\r\n          this.state.results[resultNumber],\r\n          resultNumber\r\n        );\r\n        label.appendChild(resultItem);\r\n        resdiv.appendChild(label);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PlannerWizardPID from \"../api/PlannerWizardPID\";\r\nimport walker_icon from \"../../assets/Walker.png\";\r\nimport transfer_icon from \"../../assets/Transfer.png\";\r\nimport next_icon from \"../../assets/Next.png\";\r\nimport waiting_icon from \"../../assets/Waiting.png\";\r\nimport car_icon from \"../../assets/Car.png\";\r\nimport bike_icon from \"../../assets/Bike.png\";\r\n\r\nclass ResultWizard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //state\r\n    this.state = {\r\n      ready: false,\r\n      results: [],\r\n      updateResults: false,\r\n      startId: \"no_point\",\r\n      viaId: \"no_point\",\r\n      endId: \"no_point\",\r\n      selectedResult: \"\"\r\n    };\r\n    //refs\r\n    this.map = React.createRef();\r\n    this.resultRef = React.createRef();\r\n    //bindings\r\n    this.getStart = this.getStart.bind(this);\r\n    this.getVia = this.getVia.bind(this);\r\n    this.getEnd = this.getEnd.bind(this);\r\n    this.getStartStopPointId = this.getStartStopPointId.bind(this);\r\n    this.getViaStopPointId = this.getViaStopPointId.bind(this);\r\n    this.getEndStopPointId = this.getEndStopPointId.bind(this);\r\n    this.getTimeAndDate = this.getTimeAndDate.bind(this);\r\n    this.getOptions = this.getOptions.bind(this);\r\n    this.setReady = this.setReady.bind(this);\r\n    this.setInputValues = this.setInputValues.bind(this);\r\n    this.createResultItem = this.createResultItem.bind(this);\r\n    this.renderResults = this.renderResults.bind(this);\r\n    this.updateResults = this.updateResults.bind(this);\r\n    this.drawJourney = this.drawJourney.bind(this);\r\n    this.drawStartPoint = this.drawStartPoint.bind(this);\r\n    this.drawViaPoint = this.drawViaPoint.bind(this);\r\n    this.drawEndPoint = this.drawEndPoint.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.showJourneyDetails = this.showJourneyDetails.bind(this);\r\n  }\r\n\r\n  getStart(start) {\r\n    this.props.writeStart(start);\r\n  }\r\n\r\n  getVia(via) {\r\n    this.props.writeVia(via);\r\n  }\r\n\r\n  getEnd(end) {\r\n    this.props.writeEnd(end);\r\n  }\r\n\r\n  getStartStopPointId(place) {\r\n    this.props.writeStartId(place);\r\n  }\r\n  getViaStopPointId(place) {\r\n    this.props.writeViaId(place);\r\n  }\r\n  getEndStopPointId(place) {\r\n    this.props.writeEndId(place);\r\n  }\r\n\r\n  getTimeAndDate(timedate) {\r\n    this.props.writeTimeAndDate(timedate);\r\n  }\r\n\r\n  getOptions(options) {\r\n    this.props.writeOptions(options);\r\n  }\r\n\r\n  setReady(bool) {\r\n    this.setState({ ready: bool });\r\n  }\r\n\r\n  setInputValues() {\r\n    var from = document.getElementById(\"input_from\");\r\n    var via = document.getElementById(\"input_via\");\r\n    var to = document.getElementById(\"input_to\");\r\n    from.value = this.props.planner.start;\r\n    this.props.planner.via === null\r\n      ? (via.value = \"\")\r\n      : (via.value = this.props.planner.via);\r\n    to.value = this.props.planner.end;\r\n  }\r\n\r\n  checkSearch() {\r\n    if (this.props.planner.start.length === 0) {\r\n      return \"\";\r\n    } else {\r\n      return \" >>> \";\r\n    }\r\n  }\r\n\r\n  checkViaRoute() {\r\n    if (this.props.planner.via.length >= 1) {\r\n      return \" přes \";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  checkResults() {\r\n    if (this.state.results !== undefined) {\r\n      switch (this.state.results.length) {\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return \" --- nalezen 1 výsledek\";\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n          return \" --- nalezeny \" + this.state.results.length + \" výsledky\";\r\n        default:\r\n          return \" --- nalezeno \" + this.state.results.length + \" výsledků\";\r\n      }\r\n    } else {\r\n      return \" nebyl nalezen žádný výsledek, zvolte prosím jiné zadání.\"\r\n    }\r\n  }\r\n\r\n  drawStartPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  0,\r\n                  place\r\n                );\r\n                this.map.current.clearTransferPopups();\r\n                this.setState({ startId: query.places[i].name });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"Start Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  drawViaPoint(place, viaOn) {\r\n    if (viaOn) {\r\n      //console.log(\"Add\");\r\n      if (place.length >= 1) {\r\n        let query = place;\r\n        var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            if (query.places !== null && query.places !== undefined) {\r\n              console.log(query);\r\n              for (let i = 0; i < query.places.length; i++) {\r\n                console.log(\"test\");\r\n                if (query.places[i].embedded_type === \"stop_area\") {\r\n                  this.map.current.addMarker(\r\n                    query.places[i].stop_area.coord.lon,\r\n                    query.places[i].stop_area.coord.lat,\r\n                    1,\r\n                    place\r\n                  );\r\n                  this.setState({ viaId: query.places[i].name });\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"Nothing\");\r\n            }\r\n          });\r\n      } else {\r\n        //console.log(\"Via Point empty - no marker added.\");\r\n      }\r\n    } else {\r\n      //console.log(\"Not Add\");\r\n      this.map.current.addMarker(\"\", \"\", 3);\r\n    }\r\n  }\r\n\r\n  drawEndPoint(place) {\r\n    if (place.length >= 1) {\r\n      let query = place;\r\n      var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + query;\r\n      var headers = new Headers();\r\n      headers.set(\r\n        \"Authorization\",\r\n        \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n      );\r\n      fetch(url, { method: \"GET\", headers: headers })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          var query = json;\r\n          if (query.places !== null && query.places !== undefined) {\r\n            console.log(query);\r\n            for (let i = 0; i < query.places.length; i++) {\r\n              console.log(\"test\");\r\n              if (query.places[i].embedded_type === \"stop_area\") {\r\n                this.map.current.addMarker(\r\n                  query.places[i].stop_area.coord.lon,\r\n                  query.places[i].stop_area.coord.lat,\r\n                  2,\r\n                  place\r\n                );\r\n                this.setState({ endId: query.places[i].name });\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            console.log(\"Nothing\");\r\n          }\r\n        });\r\n    } else {\r\n      //console.log(\"End Point empty - no marker added.\");\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    console.log(this.state.startId);\r\n    var start = this.props.planner.start;\r\n    var end = this.props.planner.end;\r\n    var via = this.props.planner.via;\r\n    var options = this.props.planner.options;\r\n    console.log(\"fetch:\");\r\n    console.log(options.traveler_type);\r\n    console.log(options.means);\r\n    console.log(options.special);\r\n    //options breakdown\r\n\r\n    var url =\r\n      \"https://api.navitia.io/v1/coverage/cz/journeys?from=\" +\r\n      this.props.planner.startId +\r\n      \"&to=\" +\r\n      this.props.planner.endId +\r\n      \"&datetime=\" +\r\n      this.props.planner.timedate +\r\n      \"&min_nb_journeys=3\";\r\n\r\n    if (options.directPath) {\r\n      url += \"&max_nb_transfers=0\";\r\n    } else {\r\n      url += \"&max_nb_transfers=\" + options.numTransfers;\r\n    }\r\n    if (options.fastestRoute) {\r\n    }\r\n    if (options.lowWalkingRoute) {\r\n      url += \"&max_walking_duration_to_pt=360\";\r\n    }\r\n    if (options.transferDistance) {\r\n    }\r\n    console.log(JSON.stringify(options.means));\r\n    if (\r\n      options !== undefined &&\r\n      options.traveler_type !== undefined &&\r\n      options.means !== undefined\r\n    ) {\r\n      if (options.traveler_type.walker) {\r\n        console.log(\"WALKER===\");\r\n        if (options.special.baby) {\r\n          url += \"&traveler_type=slow_walker\";\r\n        } else {\r\n          switch (options.timeToTransfer) {\r\n            case \"5\":\r\n              url += \"&traveler_type=fast_walker\";\r\n              break;\r\n            case \"15\":\r\n              url += \"&traveler_type=slow_walker\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      } else if (options.traveler_type.bike || options.special.cyclist) {\r\n        url += \"&traveler_type=cyclist\";\r\n      } else if (options.traveler_type.car) {\r\n        console.log(\"CAR===\");\r\n        url += \"&traveler_type=motorist\";\r\n      } else if (options.special.wheelchair) {\r\n        url += \"&traveler_type=wheelchair\";\r\n      } else if (options.special.luggage) {\r\n        url += \"&traveler_type=luggage\";\r\n      }\r\n    }\r\n\r\n    if (via.length >= 1) {\r\n      // via\r\n    } else {\r\n      console.log(url);\r\n      if (start.length >= 1 && end.length >= 1) {\r\n        //console.log(url);\r\n        //console.log(this.props.planner.timedate);\r\n        //url = \"https://api.navitia.io/v1/coverage/cz/journeys?from=stop_area%3AOCZPRA%3ANavitia%3AU130Z1P&to=stop_area%3AOCZPRA%3AU237S1&datetime=20191217T162700&\";\r\n        var headers = new Headers();\r\n        headers.set(\r\n          \"Authorization\",\r\n          \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\r\n        );\r\n        fetch(url, { method: \"GET\", headers: headers })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            var query = json;\r\n            //console.log(query);\r\n            this.setState({ results: query.journeys }, () => {\r\n              let resdiv = document.getElementById(\"results\");\r\n              let resitem = resdiv.lastElementChild;\r\n              while (resitem) {\r\n                resdiv.removeChild(resitem);\r\n                resitem = resdiv.lastElementChild;\r\n              }\r\n              this.renderResults();\r\n              console.log(query.journeys);\r\n            });\r\n          });\r\n      } else {\r\n        console.log(\"no fetch\");\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"=======================================\");\r\n    this.setInputValues();\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.drawViaPoint(this.props.planner.via, true);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    console.log(\"results:\");\r\n    console.log(this.state.results);\r\n    this.renderResults();\r\n    if (this.state.updateResults) {\r\n      this.updateResults();\r\n    }\r\n  }\r\n\r\n  updateResults() {\r\n    this.drawStartPoint(this.props.planner.start);\r\n    this.props.planner.via.length >= 1\r\n      ? this.drawViaPoint(this.props.planner.via, true)\r\n      : this.drawViaPoint(this.props.planner.via, false);\r\n    this.drawEndPoint(this.props.planner.end);\r\n    this.fetchData();\r\n    this.map.current.clearPath();\r\n  }\r\n\r\n  drawJourney(e) {\r\n    var result_id = e.target.getAttribute(\"result_id\");\r\n    var sections = this.state.results[result_id].sections;\r\n    var routeCoords = [];\r\n    var colors = [];\r\n    var transferCoords = [];\r\n    if (this.state.selectedResult.style !== undefined) {\r\n      this.state.selectedResult.setAttribute(\"selectedResult\", \"false\");\r\n    }\r\n    var possibleResults = document.getElementsByClassName(\"result_item\");\r\n    this.setState({ selectedResult: possibleResults[result_id] });\r\n    possibleResults[result_id].setAttribute(\"selectedResult\", \"true\");\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (sections[i].geojson !== undefined) {\r\n        routeCoords.push(sections[i].geojson.coordinates);\r\n        if (sections[i].type === \"public_transport\") {\r\n          let color = \"#\" + sections[i].display_informations.color;\r\n          colors.push(color);\r\n        } else if (\r\n          sections[i].type === \"transfer\" ||\r\n          sections[i].type === \"street_network\" ||\r\n          sections[i].type === \"crow_fly\"\r\n        ) {\r\n          if (sections[i].type === \"transfer\") {\r\n            transferCoords.push(\r\n              sections[i].geojson.coordinates[\r\n                sections[i].geojson.coordinates.length - 1\r\n              ]\r\n            );\r\n          }\r\n          colors.push(process.env.REACT_APP_COLOR_WALKING);\r\n        } else if (sections[i].mode === \"bike\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_BIKE);\r\n        } else if (sections[i].mode === \"car\") {\r\n          transferCoords.push(\r\n            sections[i].geojson.coordinates[\r\n              sections[i].geojson.coordinates.length - 1\r\n            ]\r\n          );\r\n          colors.push(process.env.REACT_APP_COLOR_CAR);\r\n        }\r\n      }\r\n    }\r\n    if (transferCoords.length > 0) {\r\n      this.map.current.addTransferPopup(transferCoords);\r\n    } else {\r\n      this.map.current.clearTransferPopups();\r\n    }\r\n    this.map.current.clearPath();\r\n    this.map.current.addPath(routeCoords, routeCoords.length, colors);\r\n  }\r\n\r\n  createResultItem(data, id) {\r\n    var resultItem = document.createElement(\"p\");\r\n    resultItem.className = \"result_item\";\r\n    resultItem.setAttribute(\"result_id\", id);\r\n    resultItem.setAttribute(\"id\", \"result_item\" + id);\r\n    resultItem.setAttribute(\"selectedResult\", \"false\");\r\n    var deparr = document.createTextNode(\r\n      \"Odjezd: \" +\r\n        data.departure_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.departure_date_time.substr(11, 2) +\r\n        \" >> Příjezd: \" +\r\n        data.arrival_date_time.substr(9, 2) +\r\n        \":\" +\r\n        data.arrival_date_time.substr(11, 2)\r\n    );\r\n    resultItem.appendChild(deparr);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var duration = document.createTextNode(\r\n      \"Trvání: \" + Math.round(data.duration / 60) + \" minut\"\r\n    );\r\n    resultItem.appendChild(duration);\r\n    resultItem.appendChild(document.createElement(\"br\"));\r\n    var means = [];\r\n    for (let i = 0; i < data.sections.length; i++) {\r\n      var type = data.sections[i].type;\r\n      if (type === \"street_network\" || type === \"crow_fly\") {\r\n        if (data.sections[i].mode === \"bike\") {\r\n          var bike = document.createElement(\"img\");\r\n          bike.src = bike_icon;\r\n          bike.setAttribute(\"result_id\", id);\r\n          means.push(bike);\r\n        } else if (data.sections[i].mode === \"car\") {\r\n          var car = document.createElement(\"img\");\r\n          car.src = car_icon;\r\n          car.setAttribute(\"result_id\", id);\r\n          means.push(car);\r\n        } else {\r\n          var walker = document.createElement(\"img\");\r\n          walker.src = walker_icon;\r\n          walker.setAttribute(\"result_id\", id);\r\n          means.push(walker);\r\n        }\r\n        if (i === 0) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n      if (type === \"waiting\" && data.sections[i - 1].type !== \"transfer\") {\r\n        var waiting = document.createElement(\"img\");\r\n        waiting.src = waiting_icon;\r\n        waiting.setAttribute(\"result_id\", id);\r\n        means.push(waiting);\r\n      }\r\n      if (type === \"public_transport\") {\r\n        var vehicle = document.createElement(\"p\");\r\n        vehicle.setAttribute(\"result_id\", id);\r\n        if (data.sections[i].display_informations.commercial_mode === \"Metro\") {\r\n          vehicle.className = data.sections[i].display_informations.code;\r\n        } else {\r\n          vehicle.className =\r\n            data.sections[i].display_informations.commercial_mode;\r\n        }\r\n        vehicle.innerHTML = data.sections[i].display_informations.code;\r\n        means.push(vehicle);\r\n      }\r\n      if (type === \"transfer\") {\r\n        var transfer = document.createElement(\"img\");\r\n        transfer.src = transfer_icon;\r\n        transfer.setAttribute(\"result_id\", id);\r\n        means.push(transfer);\r\n        continue;\r\n      }\r\n      if (i !== data.sections.length - 1 && i !== 0) {\r\n        if (\r\n          data.sections[i - 1].type !== \"transfer\" &&\r\n          data.sections[i + 1].type !== \"transfer\"\r\n        ) {\r\n          let next = document.createElement(\"img\");\r\n          next.src = next_icon;\r\n          next.setAttribute(\"result_id\", id);\r\n          means.push(next);\r\n        }\r\n      }\r\n    }\r\n\r\n    var journey = document.createElement(\"label\");\r\n    journey.setAttribute(\"result_id\", id);\r\n    journey.className = \"journeyMeans\";\r\n    for (let l = 0; l < means.length; l++) {\r\n      journey.appendChild(means[l]);\r\n    }\r\n\r\n    var detailsBtn = document.createElement(\"a\");\r\n    detailsBtn.className = \"detailsBtn\";\r\n    detailsBtn.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    detailsBtn.innerHTML = \"Detaily spojení\";\r\n    detailsBtn.addEventListener(\"click\", this.showJourneyDetails);\r\n    var details = document.createElement(\"div\");\r\n    details.className = \"details\";\r\n    details.setAttribute(\"result_id\", resultItem.getAttribute(\"result_id\"));\r\n    details.style.display = \"none\";\r\n    var guide = \"\";\r\n    if (data.sections !== undefined) {\r\n      for (let i = 0; i < data.sections.length; i++) {\r\n        var section = data.sections[i];\r\n        if (i < data.sections.length - 1) {\r\n          if (section.type === \"crow_fly\") {\r\n            guide +=\r\n              \"<label>Přesun na zastávku \" + section.to.name + \"</label></br>\";\r\n          } else if (section.type === \"public_transport\") {\r\n            guide +=\r\n              \"<label>Nastupte do \" +\r\n              section.display_informations.commercial_mode +\r\n              \" linky \" +\r\n              section.display_informations.code +\r\n              \" a pokračujte na zástávku \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"transfer\") {\r\n            guide +=\r\n              \"<label>Následuje přestup na zastávce \" +\r\n              section.to.name +\r\n              \"</label></br>\";\r\n          } else if (section.type === \"waiting\") {\r\n            if (i + 1 !== data.sections.length) {\r\n              guide +=\r\n                \"<label>Vyčkejte příjezdu spoje \" +\r\n                data.sections[i + 1].display_informations.commercial_mode +\r\n                \" linky \" +\r\n                data.sections[i + 1].display_informations.code +\r\n                \"</label></br>\";\r\n            }\r\n          } else if (section.type === \"street_network\") {\r\n            guide +=\r\n              \"<label>Dojeďte na zastávku \" + section.to.name + \"</label></br>\";\r\n          }\r\n        } else {\r\n          guide +=\r\n            \"<label>Vystupte na zastávce \" + section.to.name + \"</label></br>\";\r\n        }\r\n      }\r\n    }\r\n    details.innerHTML =\r\n      \"<label><b>Pokyny pro navigaci trasou</b></label></br>\" + guide;\r\n\r\n    resultItem.appendChild(journey);\r\n    resultItem.addEventListener(\"click\", this.drawJourney);\r\n    resultItem.appendChild(detailsBtn);\r\n    resultItem.appendChild(details);\r\n    return resultItem;\r\n  }\r\n\r\n  showJourneyDetails(e) {\r\n    var detailId = e.target.getAttribute(\"result_id\");\r\n    var details = document.getElementsByClassName(\"details\");\r\n    for (let i = 0; i < details.length; i++) {\r\n      if (i !== detailId) {\r\n        details[i].style.display = \"none\";\r\n      }\r\n    }\r\n    if (details[detailId].style.display === \"none\") {\r\n      details[detailId].style.display = \"block\";\r\n    } else {\r\n      details[detailId].style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    let resdiv = document.getElementById(\"results\");\r\n    if (this.state.results !== undefined) {\r\n    for (\r\n      let resultNumber = 0;\r\n      resultNumber < this.state.results.length;\r\n      resultNumber++\r\n    ) {\r\n      let label = document.createElement(\"label\");\r\n      label.setAttribute(\"for\", \"result_item\" + resultNumber);\r\n      let resultItem = this.createResultItem(\r\n        this.state.results[resultNumber],\r\n        resultNumber\r\n      );\r\n      label.appendChild(resultItem);\r\n      resdiv.appendChild(label);\r\n    }\r\n  }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header></Header>\r\n        <main className=\"result_page\">\r\n          <section className=\"results\">\r\n            <div id=\"search\">\r\n              <PlannerWizardPID\r\n                start={this.getStart}\r\n                via={this.getVia}\r\n                end={this.getEnd}\r\n                startId={this.getStartStopPointId}\r\n                viaId={this.getViaStopPointId}\r\n                endId={this.getEndStopPointId}\r\n                timedate={this.getTimeAndDate}\r\n                getOptions={this.getOptions}\r\n                ready={this.setReady}\r\n                update={this.updateResults}\r\n                resultRef={this.resultRef}\r\n              ></PlannerWizardPID>\r\n              <p>\r\n                <b>Pro trasu: </b>\r\n                {this.props.planner.start}\r\n                <b>{this.checkSearch()}</b>\r\n                {this.props.planner.end}\r\n                <b>{this.checkViaRoute()}</b>\r\n                {this.props.planner.via}\r\n                {this.checkResults()}\r\n              </p>\r\n            </div>\r\n            <div id=\"results\" ref={this.resultRef}></div>\r\n          </section>\r\n          <Map ref={this.map}></Map>\r\n        </main>\r\n        <Footer></Footer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultWizard;\r\n","import React from \"react\";\n//import ReactDOM from \"react-dom\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"../css/App.css\";\nimport Planner from \"./Planner\";\nimport PlannerWizard from \"./PlannerWizard\";\nimport Result from \"./Result\";\nimport ResultWizard from \"./ResultWizard\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.writeStart = this.writeStart.bind(this);\n    this.writeVia = this.writeVia.bind(this);\n    this.writeEnd = this.writeEnd.bind(this);\n    this.writeStartId = this.writeStartId.bind(this);\n    this.writeViaId = this.writeViaId.bind(this);\n    this.writeEndId = this.writeEndId.bind(this);\n    this.writeTimeAndDate = this.writeTimeAndDate.bind(this);\n    this.writeOptions = this.writeOptions.bind(this);\n    this.state = {\n      start: \"\",\n      via: \"\",\n      end: \"\",\n      startId: undefined,\n      viaId: undefined,\n      endId: undefined,\n      timedate: \"\",\n      api: \"\",\n      options: \"\"\n    };\n  }\n\n  writeStart(from) {\n    this.setState({ start: from });\n  }\n\n  writeVia(thru) {\n    this.setState({ via: thru });\n  }\n\n  writeEnd(to) {\n    this.setState({ end: to });\n  }\n\n  writeStartId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ startId: json.places[0].id });\n        }\n      });\n  }\n\n  writeViaId(place) {\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ viaId: json.places[0].id });\n        }\n      });\n  }\n\n  writeEndId(place) {\n    console.log(this.state.startId);\n    var url = \"https://api.navitia.io/v1/coverage/cz/places?q=\" + place;\n    console.log(url);\n    var headers = new Headers();\n    headers.set(\n      \"Authorization\",\n      \"Basic \" + btoa(process.env.REACT_APP_NAVITIA_TOKEN)\n    );\n    fetch(url, { method: \"GET\", headers: headers })\n      .then(response => response.json())\n      .then(json => {\n        if (json.places !== undefined) {\n          this.setState({ endId: json.places[0].id });\n        }\n      });\n  }\n\n  writeTimeAndDate(timedate) {\n    this.setState({ timedate: timedate });\n  }\n\n  writeOptions(options) {\n    this.setState({ options: options });\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          path=\"/form\"\n          render={props => (\n            <Planner\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/form_result\"\n          render={props => (\n            <Result\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/wizard\"\n          render={props => (\n            <PlannerWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/wizard_result\"\n          render={props => (\n            <ResultWizard\n              {...props}\n              writeStart={this.writeStart}\n              writeVia={this.writeVia}\n              writeEnd={this.writeEnd}\n              writeStartId={this.writeStartId}\n              writeViaId={this.writeViaId}\n              writeEndId={this.writeEndId}\n              writeTimeAndDate={this.writeTimeAndDate}\n              writeOptions={this.writeOptions}\n              planner={this.state}\n            />\n          )}\n        />\n      \n      </Switch>);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from \"react-router-dom\";\nimport './index.css';\nimport App from \"./components/app/App\";\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\nserviceWorker.register();\n//serviceWorker.unregister();\n"],"sourceRoot":""}